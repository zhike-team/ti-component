(window.webpackJsonp=window.webpackJsonp||[]).push([[0],Array(37).concat([function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _extends3=_interopRequireDefault(__webpack_require__(11)),_react2=_interopRequireDefault(__webpack_require__(1)),_aphrodite=__webpack_require__(2),_styles2=_interopRequireDefault(__webpack_require__(111));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Red=function Red(props){return _react2.default.createElement("span",(0,_extends3.default)({style:{color:"red"}},props))},TableComponent=function TableComponent(_ref){var props=_ref.propDefinitions.map(function(_ref2){var property=_ref2.property,propType=_ref2.propType,required=_ref2.required,description=_ref2.description,defaultValue=_ref2.defaultValue;return _react2.default.createElement("tr",{key:property,className:(0,_aphrodite.css)(_styles2.default.propTr)},_react2.default.createElement("td",{className:(0,_aphrodite.css)(_styles2.default.td)},property,required?_react2.default.createElement(Red,null,"*"):null),_react2.default.createElement("td",{className:(0,_aphrodite.css)(_styles2.default.td),style:{color:"#c41d7f"}},propType.name),_react2.default.createElement("td",{className:(0,_aphrodite.css)(_styles2.default.td),style:{color:"#314659"}},defaultValue),_react2.default.createElement("td",{className:(0,_aphrodite.css)(_styles2.default.td)},description))});return _react2.default.createElement("table",{className:(0,_aphrodite.css)(_styles2.default.tableComponent)},_react2.default.createElement("thead",null,_react2.default.createElement("tr",{className:(0,_aphrodite.css)(_styles2.default.tr)},_react2.default.createElement("th",{className:(0,_aphrodite.css)(_styles2.default.th)},"name"),_react2.default.createElement("th",{className:(0,_aphrodite.css)(_styles2.default.th)},"type"),_react2.default.createElement("th",{className:(0,_aphrodite.css)(_styles2.default.th)},"default"),_react2.default.createElement("th",{className:(0,_aphrodite.css)(_styles2.default.th)},"description"))),_react2.default.createElement("tbody",{className:(0,_aphrodite.css)(_styles2.default.tableBody)},props))};exports.default=TableComponent,TableComponent.__docgenInfo={description:"",methods:[],displayName:"TableComponent"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/tableComponent.js"]={name:"TableComponent",docgenInfo:TableComponent.__docgenInfo,path:"stories/tableComponent.js"})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf2=_interopRequireDefault(__webpack_require__(9)),_assign2=_interopRequireDefault(__webpack_require__(58)),_classCallCheck3=_interopRequireDefault(__webpack_require__(4)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(7)),_createClass3=_interopRequireDefault(__webpack_require__(5)),_inherits3=_interopRequireDefault(__webpack_require__(8)),_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_lodash=__webpack_require__(13),_uuid2=_interopRequireDefault(__webpack_require__(139)),_tiUi=__webpack_require__(10),_alert2=_interopRequireDefault(__webpack_require__(752)),_correct2=_interopRequireDefault(__webpack_require__(754)),_preview2=_interopRequireDefault(__webpack_require__(763)),_analysis2=_interopRequireDefault(__webpack_require__(765)),_user_grade2=_interopRequireDefault(__webpack_require__(784)),_styles2=_interopRequireDefault(__webpack_require__(786));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Modal=function(_Component){function Modal(props){(0,_classCallCheck3.default)(this,Modal);var _this=(0,_possibleConstructorReturn3.default)(this,(Modal.__proto__||(0,_getPrototypeOf2.default)(Modal)).call(this,props));return _this.state={modals:[],modalInstance:{ModalAlert:_alert2.default,ModalCorrect:_correct2.default,ModalPreview:_preview2.default,ModalAnalysis:_analysis2.default,ModalUserGrade:_user_grade2.default},onHide:null},_this}return(0,_inherits3.default)(Modal,_Component),(0,_createClass3.default)(Modal,null,[{key:"show",value:function show(){var type=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",props=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},onShow=arguments[2],onHide=arguments[3];if(this.instance&&this.instance.setState){var _instance$state=this.instance.state,modals=_instance$state.modals,modalInstance=_instance$state.modalInstance,id=_uuid2.default.v1();return this.instance.setState({modals:(0,_lodash.concat)(modals,{id:id,instance:modalInstance[type],props:(0,_assign2.default)({},{modalId:id},props)}),onHide:onHide||null}),onShow&&onShow(),id}}},{key:"hide",value:function hide(id){this.instance.hide(id)}}]),(0,_createClass3.default)(Modal,[{key:"hide",value:function hide(id){var _state=this.state,modals=_state.modals,onHide=_state.onHide,modal=(0,_lodash.find)(modals,function(item){return item.id===id}),newModals=(0,_lodash.filter)(modals,function(item){return item.id!==id});this.setState({modals:newModals}),modal.props.isReport||0!==newModals.length||onHide&&onHide()}},{key:"render",value:function render(){var _this2=this,modals=this.state.modals;return _react2.default.createElement(_tiUi.View,null,modals.map(function(modal){return _react2.default.createElement(_tiUi.View,{key:modal.id,className:_styles2.default.modal},_react2.default.createElement(_tiUi.View,{className:_styles2.default.front,style:modal.props.width?{width:modal.props.width}:{}},modal.props.hideHeader?_react2.default.createElement(_tiUi.Image,{className:_styles2.default.imageClose,src:__webpack_require__(318),onClick:function onClick(){return _this2.hide(modal.id)}}):_react2.default.createElement(_tiUi.View,{className:_styles2.default.header},_react2.default.createElement(_tiUi.View,{className:_styles2.default.title},modal.props.title),!modal.props.isUnhide&&_react2.default.createElement(_tiUi.Image,{className:_styles2.default.close,src:__webpack_require__(318),onClick:function onClick(){return _this2.hide(modal.id)}})),_react2.default.createElement(modal.instance,modal.props)),_react2.default.createElement(_tiUi.View,{className:_styles2.default.backdrop,onClick:modal.props.isUnhide?void 0:function(){return _this2.hide(modal.id)}}))}))}}]),Modal}(_react.Component);exports.default=Modal,Modal.__docgenInfo={description:"",methods:[{name:"show",docblock:null,modifiers:["static"],params:[{name:"type",type:null},{name:"props",type:null},{name:"onShow",type:null},{name:"onHide",type:null}],returns:null},{name:"hide",docblock:null,modifiers:["static"],params:[{name:"id",type:null}],returns:null},{name:"hide",docblock:null,modifiers:[],params:[{name:"id",type:null}],returns:null}],displayName:"Modal"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/modal/index.js"]={name:"Modal",docgenInfo:Modal.__docgenInfo,path:"src/modal/index.js"})},,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _aphrodite=__webpack_require__(2);exports.default=_aphrodite.StyleSheet.create({container:{marginTop:"50px",marginLeft:"50px"},container1:{width:"600px",height:"200px",overflowY:"auto",border:"1px solid gray",padding:"10px"},modalAlertText:{fontSize:14,marginTop:20,marginBottom:40},alertText:{display:"inline-block",marginTop:10},tipText:{color:"red"},tipText1:{color:"#3399FF"},table:{boxSizing:"border-box",width:"1100px",height:"40px",textAlign:"left",fontSize:"16px",fontFamily:"PingFangSC-Regular",color:"rgba(50,54,58,1)",lineHeight:"24px",borderSpacing:"0px",borderPadding:"0px",borderCollapse:"collapse"},tbody:{boxSizing:"border-box",maxWidth:"1100px"},tableCell:{border:"1px solid rgba(195,204,209,1)",padding:"32px 20px",fontWeight:"normal"},paragraphClass:{lineHeight:"48px"},paragraph1:{width:"300px"},paragraph2:{width:"500px"},tableComponent:{textAlign:"left",fontSize:"14px",padding:"14px 16px",borderWidth:"1px 0",bordercolor:"#e8e8e8",boxSizing:"border-box"},th:{padding:"14px 16px"},tr:{padding:"14px 16px",borderWidth:"0 0 2px 0",background:"rgba(0,0,0,0.02)",color:"#5c6b77",fontWeight:500,whiteSpace:"nowrap"},tableBody:{padding:"14px 16px",fontFamily:"SFMono-Regular",lineHeight:"1.5"},propTr:{boxSizing:"border-box",borderWidth:"1px 0",bordercolor:"#e8e8e8"},td:{fontWeight:500,padding:"14px 16px",":first-child":{width:"20%",color:"#003a8c",fontWeight:500},borderBottom:"1px solid #ebedf0"},pStyle:{marginTop:0,marginBottom:0},tipTop:{width:"100%",padding:"10px 20px",fontSize:"16px",fontFamily:"PingFangSC-Regular",fontWeight:400,color:"rgba(50,54,58,1)",lineHeight:"30px",background:"rgba(246,248,249,1)",":first-child":{alignSelf:"center"}}})},function(module,exports,__webpack_require__){"use strict";(function(global){Object.defineProperty(exports,"__esModule",{value:!0});var _stringify2=_interopRequireDefault(__webpack_require__(300)),_regenerator2=_interopRequireDefault(__webpack_require__(36)),_asyncToGenerator3=_interopRequireDefault(__webpack_require__(44)),_getPrototypeOf2=_interopRequireDefault(__webpack_require__(9)),_classCallCheck3=_interopRequireDefault(__webpack_require__(4)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(7)),_createClass3=_interopRequireDefault(__webpack_require__(5)),_inherits3=_interopRequireDefault(__webpack_require__(8)),_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_aphrodite=__webpack_require__(2),_propTypes2=_interopRequireDefault(__webpack_require__(0)),_tiUi=__webpack_require__(10),_lodash=__webpack_require__(13),_axios2=_interopRequireDefault(__webpack_require__(53)),_utils=__webpack_require__(743),_styles2=_interopRequireDefault(__webpack_require__(744));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var SearchWords=function(_Component){function SearchWords(props){var _this2=this;(0,_classCallCheck3.default)(this,SearchWords);var _ref,_this=(0,_possibleConstructorReturn3.default)(this,(SearchWords.__proto__||(0,_getPrototypeOf2.default)(SearchWords)).call(this,props));return _this.singleClick=function(e){var parentNode=global.document.getElementById("searchContainer");_this.searchParents(e.target,parentNode)||_this.clearSelect()||(_this.clickFlag&&clearTimeout(_this.clickFlag),_this.clickFlag=setTimeout(function(){_this.judgeSearch()},300))},_this.judgeSearch=function(){var _this$getTextMessage=_this.getTextMessage(),text=_this$getTextMessage.text,range=_this$getTextMessage.range;if(!text)return!1;var selectWord=text.trim();if(!range.collapsed&&/(^[a-zA-Z].*[a-zA-Z]$)|^[a-zA-Z]$/.test(selectWord)&&-1===selectWord.indexOf(" ")){var _this$getPosition=_this.getPosition(range),positionTop=_this$getPosition.positionTop,positionLeft=_this$getPosition.positionLeft,isFrameUp=_this$getPosition.isFrameUp,triangleLeft=_this$getPosition.triangleLeft,positionBottom=_this$getPosition.positionBottom;_this.setState({word:selectWord,isShow:!0,positionTop:positionTop,positionLeft:positionLeft,isFrameUp:isFrameUp,triangleLeft:triangleLeft,positionBottom:positionBottom},function(){_this.searchWord(selectWord)})}},_this.searchParents=function(element,parentNode){var currentNode=element;if(currentNode===parentNode)return!0;for(;"BODY"!==currentNode.tagName;){if(currentNode.parentNode===parentNode)return!0;currentNode=currentNode.parentNode}return!1},_this.doubleClick=function(e){var parentNode=global.document.getElementById("searchContainer");_this.searchParents(e.target,parentNode)||_this.clearSelect(!1)||(_this.clickFlag&&clearTimeout(_this.clickFlag),_this.judgeSearch())},_this.searchWord=(_ref=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(selectWord){var getSearchWord,_ref2,data,_data$data,brief,spell,sound,_this$getTextMessage2,text;return _regenerator2.default.wrap(function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return getSearchWord=_this.props.getSearchWord,_context.prev=1,_context.next=4,(0,_axios2.default)({url:getSearchWord+"/"+selectWord,method:"get",headers:{"Content-Type":"application/json"},timeout:2e4});case 4:_ref2=_context.sent,data=_ref2.data,_data$data=data.data,brief=_data$data.brief,spell=_data$data.spell,sound=(0,_lodash.get)(data,"data.phonogram.us"),_this$getTextMessage2=_this.getTextMessage(),(text=_this$getTextMessage2.text)&&text.trim()===selectWord&&_this.setState({brief:brief,sound:sound,word:spell,isSucceed:!0}),_context.next=16;break;case 12:_context.prev=12,_context.t0=_context.catch(1),console.log("捕获报错 error：",_context.t0),_this.setState({isSucceed:!0});case 16:case"end":return _context.stop()}},_callee,_this2,[[1,12]])})),function(_x){return _ref.apply(this,arguments)}),_this.getPosition=function(range){var rangeDist=range.getBoundingClientRect(),top=rangeDist.top,bottom=rangeDist.bottom,left=rangeDist.left,width=rangeDist.width,height=rangeDist.height,right=rangeDist.right,positionTop=0,positionLeft=0,positionBottom=0,isFrameUp=!1,triangleLeft=left+width/2-8;return positionLeft=(left+right)/2<140?0:(left+right)/2>(0,_utils.getBodyWidth)()-140?(0,_utils.getBodyWidth)()-280:left+width/2-140,(0,_utils.getBodyHeight)()-bottom<140?(isFrameUp=!0,positionBottom=(0,_utils.getBodyHeight)()-bottom+height/2+30,positionTop=top-height/2-30):positionTop=top+height/2+30,{positionTop:positionTop,positionLeft:positionLeft,isFrameUp:isFrameUp,triangleLeft:triangleLeft,positionBottom:positionBottom}},_this.getTextMessage=function(){return global.document.selection?"None"!==global.window.selection.type&&{text:global.document.selection.createRange().text.toLowerCase(),range:global.document.selection.getRangeAt(0)}:global.window.getSelection()?"None"!==global.window.getSelection().type&&{text:global.window.getSelection().toString().toLowerCase(),range:global.window.getSelection().getRangeAt(0)}:void 0},_this.clearSelect=function(){var isSingle=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],_this$state=_this.state,word=_this$state.word,isShow=_this$state.isShow,positionTop=_this$state.positionTop,positionLeft=_this$state.positionLeft,_this$getTextMessage3=_this.getTextMessage(),text=_this$getTextMessage3.text,range=_this$getTextMessage3.range,doubleClear=!1;if(!isSingle&&range&&!text&&!range.collapsed){var _this$getPosition2=_this.getPosition(range),newTop=_this$getPosition2.positionTop,newLeft=_this$getPosition2.positionLeft,isSame=positionTop===newTop&&newLeft===positionLeft&&word===text.trim();doubleClear=!isSingle&&(""===text||isSame)}return isShow&&_this.setState({word:"",isShow:!1,brief:[],sound:{},positionTop:0,positionLeft:0,isFrameUp:!1,triangleLeft:0,isPlay:!1,isSucceed:!1}),!(!isShow||!isSingle&&!doubleClear)&&(global.window.getSelection?global.window.getSelection().removeAllRanges():global.document.selection.empty(),!0)},_this.playSound=function(){_this.audioPlayer&&(_this.audioPlayer.pause(),_this.audioPlayer=null);var mp3=_this.state.sound.mp3;_this.setState({isPlay:!0}),_this.audioPlayer=new Audio,_this.audioPlayer.src=mp3,_this.audioPlayer.play(),_this.audioPlayer.addEventListener("ended",function(){_this.setState({isPlay:!1})},!1)},_this.state={word:"",isShow:!1,brief:[],sound:{},positionTop:0,positionLeft:0,isFrameUp:!1,triangleLeft:0,positionBottom:0,isPlay:!1,isSucceed:!1},_this.clickFlag=null,_this.audioPlayer=null,_this}return(0,_inherits3.default)(SearchWords,_Component),(0,_createClass3.default)(SearchWords,null,[{key:"hide",value:function hide(){this.instance&&(global.window.getSelection?global.window.getSelection().removeAllRanges():global.document.selection.empty(),this.instance.setState({isShow:!1}))}}]),(0,_createClass3.default)(SearchWords,[{key:"componentDidMount",value:function(){var _ref3=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(){var body;return _regenerator2.default.wrap(function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:(body=global.document.getElementsByTagName("body")[0]).addEventListener("click",this.singleClick,!1),body.addEventListener("dblclick",this.doubleClick,!1),global.document.addEventListener("scroll",this.clearSelect,!1);case 4:case"end":return _context2.stop()}},_callee2,this)}));return function componentDidMount(){return _ref3.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function componentWillUnmount(){var body=global.document.getElementsByTagName("body")[0];body.removeEventListener("click",this.singleClick,!1),body.removeEventListener("dblclick",this.doubleClick,!1),global.document.removeEventListener("scroll",this.clearSelect,!1),this.audioPlayer&&(this.audioPlayer.pause(),this.audioPlayer=null)}},{key:"render",value:function render(){var _state=this.state,word=_state.word,isShow=_state.isShow,isPlay=_state.isPlay,isSucceed=_state.isSucceed,brief=_state.brief,sound=_state.sound,positionTop=_state.positionTop,positionLeft=_state.positionLeft,isFrameUp=_state.isFrameUp,triangleLeft=_state.triangleLeft,positionBottom=_state.positionBottom,tipStyles=void 0;return isShow&&isFrameUp?tipStyles={bottom:positionBottom+"px",left:positionLeft+"px"}:isShow&&(tipStyles={top:positionTop+"px",left:positionLeft+"px"}),_react2.default.createElement(_tiUi.View,null,_react2.default.createElement("span",{className:(0,_aphrodite.css)([_styles2.default.triangle,isShow&&_styles2.default.showContent]),style:isShow?{top:(isFrameUp?positionTop+10:positionTop-10)+"px",left:triangleLeft+"px"}:{}}),_react2.default.createElement("span",{className:(0,_aphrodite.css)([_styles2.default.triangle,_styles2.default.triangleMask,isShow&&_styles2.default.showContent]),style:isShow?{top:(isFrameUp?positionTop+10:positionTop-10)+"px",left:triangleLeft+"px"}:{}}),_react2.default.createElement(_tiUi.View,{className:[_styles2.default.content,isShow&&_styles2.default.showContent],style:isShow?tipStyles:{},id:"searchContainer",onselectstart:"return false;",unselectable:"on"},_react2.default.createElement(_tiUi.View,{className:_styles2.default.word},word),isSucceed&&"{}"!==(0,_stringify2.default)(sound)&&!(0===brief.length||1===brief.length&&brief[0].definition===word)&&_react2.default.createElement(_tiUi.View,{className:_styles2.default.result},sound&&"{}"!==(0,_stringify2.default)(sound)&&_react2.default.createElement(_tiUi.View,{className:_styles2.default.sound},_react2.default.createElement(_tiUi.View,{className:_styles2.default.soundMark},"[",sound.text,"]"),_react2.default.createElement(_tiUi.View,{className:isPlay?_styles2.default.isPlaying:_styles2.default.soundButton,onClick:this.playSound})),!sound&&_react2.default.createElement(_tiUi.View,{className:_styles2.default.sound},_react2.default.createElement(_tiUi.View,{className:_styles2.default.soundMark},"[--]"),_react2.default.createElement(_tiUi.View,{className:_styles2.default.unAvalible})),brief.length>=1&&_react2.default.createElement(_tiUi.View,{className:_styles2.default.translate},brief.map(function(item,index){return _react2.default.createElement(_tiUi.View,{key:index,className:_styles2.default.translateList},"翻译"!==item.class&&_react2.default.createElement("span",null,item.class),_react2.default.createElement("span",null,item.definition))})),0===brief.length&&_react2.default.createElement(_tiUi.View,{className:_styles2.default.translate},"暂无释义")),isSucceed&&"{}"===(0,_stringify2.default)(sound)&&(0===brief.length||1===brief.length&&brief[0].definition===word)&&_react2.default.createElement("span",{className:(0,_aphrodite.css)(_styles2.default.noContent)},"未查询到任何结果"),!isSucceed&&_react2.default.createElement(_tiUi.View,{className:_styles2.default.searching},"正在努力查询中",_react2.default.createElement(_tiUi.View,{className:_styles2.default.dot},"...",_react2.default.createElement("span",{className:(0,_aphrodite.css)(_styles2.default.dotMask)})))))}}]),SearchWords}(_react.Component);SearchWords.defaultProps={getSearchWord:"https://api.smartstudy.com/tiku/word/brief"},SearchWords.propTypes={getSearchWord:_propTypes2.default.string},exports.default=SearchWords,SearchWords.__docgenInfo={description:"",methods:[{name:"hide",docblock:"SearchWord 在页面中搜索英文单词\n    为用户返回中文翻译的功能组件",modifiers:["static"],params:[],returns:null,description:"SearchWord 在页面中搜索英文单词\n    为用户返回中文翻译的功能组件"},{name:"singleClick",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"judgeSearch",docblock:null,modifiers:[],params:[],returns:null},{name:"searchParents",docblock:null,modifiers:[],params:[{name:"element",type:null},{name:"parentNode",type:null}],returns:null},{name:"doubleClick",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"searchWord",docblock:null,modifiers:["async"],params:[{name:"selectWord",type:null}],returns:null},{name:"getPosition",docblock:null,modifiers:[],params:[{name:"range",type:null}],returns:null},{name:"getTextMessage",docblock:null,modifiers:[],params:[],returns:null},{name:"clearSelect",docblock:null,modifiers:[],params:[{name:"isSingle",type:null}],returns:null},{name:"playSound",docblock:null,modifiers:[],params:[],returns:null}],displayName:"SearchWords",props:{getSearchWord:{defaultValue:{value:"'https://api.smartstudy.com/tiku/word/brief'",computed:!1},type:{name:"string"},required:!1,description:"音频地址"}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/search_words/index.js"]={name:"SearchWords",docgenInfo:SearchWords.__docgenInfo,path:"src/search_words/index.js"})}).call(this,__webpack_require__(3))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.material={},exports.question1={materials:[{reference:{articleMarkup:{anchorPid:"865499f1-3ea2-b982-7863-f4477ad5cabf",headPid:"865499f1-3ea2-b982-7863-f4477ad5cabf",tailPid:"865499f1-3ea2-b982-7863-f4477ad5cabf"},paragraphMarkup:[{pid:"865499f1-3ea2-b982-7863-f4477ad5cabf",type:"Arrow",value:""}],paragraphs:[{id:"a3486f83-c30a-952f-8af9-fece61bee766",text:"The creation of life requires a set of chemical elements for making the components of cells.  Life on Earth uses about 25 of the 92 naturally occurring chemical elements, although just 4 of these elements—oxygen, carbon, hydrogen, and nitrogen—make up about 96 percent of the mass of living organisms.  Thus, a first requirement for life might be the presence of most or all of the elements used by life.",type:"Text"},{id:"f81ea55d-8f05-90e0-0a13-72a7f0643640",text:"Interestingly, this requirement can probably be met by almost any world. Scientists have determined that all chemical elements in the universe besides hydrogen and helium (and a trace amount of lithium) were produced by stars. These are known as heavy elements because they are heavier than hydrogen and helium. Although all of these heavy elements are quite rare compared to hydrogen and helium, they are found just about everywhere.",type:"Text"},{id:"865499f1-3ea2-b982-7863-f4477ad5cabf",text:"Heavy elements are continually being manufactured by stars and released into space by stellar deaths, so their amount compared to hydrogen and helium gradually rises with time. Heavy elements make up about 2 percent of the chemical content (by mass) of our solar system, the other 98 percent is hydrogen and helium. In some very old star systems, which formed before many heavy elements were produced, the heavy-element share may be less than 0.1 percent. Nevertheless, every star system studied has at least some amount of all the elements used by life. Moreover, when planetesimals—small, solid objects formed in the early solar system that may accumulate to become planets—condense within a forming star system, they are inevitably made from heavy elements because the more common hydrogen and helium remain gaseous. Thus, planetesimals everywhere should contain the elements needed for life, which means that objects built from planetesimals—planets, moons, asteroids, and comets-also contain these elements. The nature of solar-system formation explains why Earth contains all the elements needed for life, and it is why we expect these elements to be present on other worlds throughout our solar system, galaxy, and universe.",type:"Text"},{id:"a3283c8e-b52b-df99-99e2-92566b043ded",text:"Note that this argument does not change, even if we allow for life very different from life on Earth. Life on Earth is carbon based, and most biologists believe that life elsewhere is likely to be carbon based as well. However, we cannot absolutely rule out the possibility of life with another chemical basis, such as silicon or nitrogen. The set of elements (or their relative proportions) used by life based on some other element might be somewhat different from that used by carbon-based life on Earth. But the elements are still products of stars and would still be present in planetesimals everywhere. No matter what kinds of life we are looking for, we are likely to find the necessary elements on almost every planet, moon, asteroid, and comet in the universe.",type:"Text"},{id:"7a7f413c-085d-a997-ab95-9d24f8b45ab1",text:"A somewhat stricter requirement is the presence of these elements in molecules that can be used as ready-made building blocks for life, just as early Earth probably had an organic soup of amino acids and other complex molecules. Earth's organic molecules likely came from some combination of three sources: chemical reactions in the atmosphere, chemical reactions near deep-sea vents in the oceans, and molecules carried to Earth by asteroids and comets. The first two sources can occur only on worlds with atmospheres or oceans, respectively. But the third source should have brought similar molecules to nearly all worlds in our solar system.",type:"Text"},{id:"9d1deedb-4747-8941-1ea3-260f17ce7ccf",text:"Studies of meteorites and comets suggest that organic molecules are widespread among both asteroids and comets. Because each body in the solar system was repeatedly struck by asteroids and comets during the period known as the heavy bombardment (about 4 billion years ago), each body should have received at least some organic molecules. However, these molecules tend to be destroyed by solar radiation on surfaces unprotected by atmospheres. Moreover, while these molecules might stay intact beneath the surface (as they evidently do on asteroids and comets), they probably cannot react with each other unless some kind of liquid or gas is available to move them about. Thus, if we limit our search to worlds on which organic molecules are likely to be involved in chemical reactions, we can probably rule out any world that lacks both an atmosphere and a surface or subsurface liquid medium, such as water.",type:"Text"}],score:null,subStem:null,videoTimeRangeId:null}}]},exports.question3={materials:[{id:7476,qNum:null,rank:1,subStem:null,image:null,audio:null,audioReference:null,reference:{paragraphs:[{id:"49580577-e7f0-f01f-2b3c-27f4300aabca",text:"What is the relationship between disease and the evolution of human societies? ",type:"Text"},{id:"c72ed59b-166f-3949-c7f0-119d427cf033",text:"Epidemiology is the study of the causes, distribution, and control of diseases in populations. Throughout history, there have been general trends in the relationship between diseases and the human species. Anthropologist George Armelagos has outlined these trends and refers to them as three epidemiological transitions. For most of our species in history, we lived in small, widely dispersed, nomadic groups. Our ancestors certainly experienced diseases of various sorts and would have come into contact with new diseases as they migrated to new environments. But infectious disease may not have had serious effects on large numbers of people or many different populations, since diseases would have had little chance of being passed on to many other humans.",type:"Text"},{id:"ab33a6c7-8d09-14df-febf-8f005c2346b4",text:"When some people began to settle down and produce their food through farming and animal domestication starting about 10,000 years ago, the first epidemiological transition occurred. Infectious diseases increased in impact, as larger and denser concentrations of people provided greater opportunity for disease to be passed from host to host. Animal domestication may have brought people into contact with new diseases previously limited to other species. Working the soil would have exposed farmers to insects and other pathogens. Irrigation in some areas provided breeding places for mosquitoes, increasing the incidence of malaria and other mosquito-borne diseases. Sanitation problems caused by larger, more sedentary populations would have helped transmit diseases in human waste, as would the use of animal dung for fertilizer. In addition, agriculture also led to a narrowing of food sources, as compared to the varied diets of hunters and gatherers. This could have resulted in nutritional deficiencies; moreover, the storage of food surpluses attracted new disease carriers such as insects and rats. Trade between settled communities helped spread diseases over large geographic areas, as in the case of the Black Death in Europe. Epidemics, in the sense of diseases that affect a large number of populations at the same time, were essentially nonexistent until the development of agricultural economies.",type:"Text"},{id:"73b465b9-12a1-9f62-d782-00ce5adbb777",text:"Beginning in the last years of the nineteenth century and continuing into the twentieth, we experienced the second epidemiological transition. With modern medical science providing immunizations and antibiotics and with better public health measures and improved nutrition, many infectious diseases were brought under control, or even eliminated. In terms of what ailed and killed us, there was a shift to chronic diseases such as heart and lung diseases. The increase in many of these came not only from the fact that fewer people were dying from infectious disease and were living longer but also from the results of modern lifestyles in developed countries and among the upper classes of developing countries' more sedentary life leading to less physical activity; more stress; environmental pollution; and high-fat diets. But at least, we thought, many of these problems were things we could potentially control; all those infectious epidemics were of the past.",type:"Text"},{id:"d044d37c-834f-2d8d-2d92-19e966a924ae",text:"But on the heels of the second transition had come the third epidemiological transition, and we are in it now. New diseases are emerging, and old ones are returning. Both of these phenomena can be understood in terms of evolutionary theory. The return of old diseases is the result of the fact that microorganisms are evolving species themselves. For example, new and serious antibiotic-resistant strains of tuberculosis have recently appeared. This evolution may have been encouraged by what some authorities consider our overuse of antibiotics, giving microorganisms a greater chance to evolve resistance by exposing them to a constant barrage of selective challenges. Some bacteria reproduce hourly, and so the processes of genetic mutation and natural selection are speeded up in these species.",type:"Text"},{id:"127a02c2-11f1-5a21-37cc-ede452fc407b",text:"Emerging diseases are also the result of human activity in the modern world, which brings more people into contact with more diseases, some of which were unheard of even a few decades ago. As people and their products become more mobile, and as our populations spread into previously little-inhabited areas, cutting down forests and otherwise altering ecological conditions, we contact other species that may carry diseases to which they are immune but that prove deadly to us.",type:"Text"}],inlineMarkup:null,articleMarkup:{headPid:"c72ed59b-166f-3949-c7f0-119d427cf033",tailPid:"c72ed59b-166f-3949-c7f0-119d427cf033",anchorPid:"c72ed59b-166f-3949-c7f0-119d427cf033"},paragraphMarkup:[{pid:"c72ed59b-166f-3949-c7f0-119d427cf033",type:"Arrow",value:""}]},direction:null,videoTimeRangeId:3,choices:[{text:"There were very few infectious diseases early in human history.",image:null,option:"A"},{text:"Population groups did not move around enough to be exposed to new diseases.",image:null,option:"B"},{text:"Many disease-causing organisms had features that made them difficult to pass on to other humans.",image:null,option:"C"},{text:"Population groups did not have enough contact with each other to spread diseases widely.",image:null,option:"D"}],insertSentence:null,positionTip:{paragraphs:[{id:"08e09e31-f66d-a873-a1ba-665c70c817bc",text:"Paragraph 2 is marked with",type:"Text"}],inlineMarkup:[{pid:"08e09e31-f66d-a873-a1ba-665c70c817bc",type:"Arrow",index:23,value:"right",length:3}],articleMarkup:null,paragraphMarkup:null},answer:[3],analysis:{id:"a574e778-151f-3909-3da0-9dae36e7e79f",paragraphs:[{id:"7583e8ef-c003-b5b8-0247-383bce5883f6",text:"根据infectious diseases定位到第2段最后一句话，后半句since给出了原因，疾病几乎没有可能被传播给其他人，即人群之间的接触机会很少，所以答案选D。",type:"Text"}],inlineMarkup:null,articleMarkup:null,paragraphMarkup:null},examples:null,questionId:154958,origin:null,score:null,labels:null}]},exports.material1={paragraphs:[{id:"a3486f83-c30a-952f-8af9-fece61bee766",text:"The creation of life requires a set of chemical elements for making the components of cells.  Life on Earth uses about 25 of the 92 naturally occurring chemical elements, although just 4 of these elements—oxygen, carbon, hydrogen, and nitrogen—make up about 96 percent of the mass of living organisms.  Thus, a first requirement for life might be the presence of most or all of the elements used by life.",type:"Text"},{id:"f81ea55d-8f05-90e0-0a13-72a7f0643640",text:"Interestingly, this requirement can probably be met by almost any world. Scientists have determined that all chemical elements in the universe besides hydrogen and helium (and a trace amount of lithium) were produced by stars. These are known as heavy elements because they are heavier than hydrogen and helium. Although all of these heavy elements are quite rare compared to hydrogen and helium, they are found just about everywhere.",type:"Text"},{id:"865499f1-3ea2-b982-7863-f4477ad5cabf",text:"Heavy elements are continually being manufactured by stars and released into space by stellar deaths, so their amount compared to hydrogen and helium gradually rises with time. Heavy elements make up about 2 percent of the chemical content (by mass) of our solar system, the other 98 percent is hydrogen and helium. In some very old star systems, which formed before many heavy elements were produced, the heavy-element share may be less than 0.1 percent. Nevertheless, every star system studied has at least some amount of all the elements used by life. Moreover, when planetesimals—small, solid objects formed in the early solar system that may accumulate to become planets—condense within a forming star system, they are inevitably made from heavy elements because the more common hydrogen and helium remain gaseous. Thus, planetesimals everywhere should contain the elements needed for life, which means that objects built from planetesimals—planets, moons, asteroids, and comets-also contain these elements. The nature of solar-system formation explains why Earth contains all the elements needed for life, and it is why we expect these elements to be present on other worlds throughout our solar system, galaxy, and universe.",type:"Text"},{id:"a3283c8e-b52b-df99-99e2-92566b043ded",text:"Note that this argument does not change, even if we allow for life very different from life on Earth. Life on Earth is carbon based, and most biologists believe that life elsewhere is likely to be carbon based as well. However, we cannot absolutely rule out the possibility of life with another chemical basis, such as silicon or nitrogen. The set of elements (or their relative proportions) used by life based on some other element might be somewhat different from that used by carbon-based life on Earth. But the elements are still products of stars and would still be present in planetesimals everywhere. No matter what kinds of life we are looking for, we are likely to find the necessary elements on almost every planet, moon, asteroid, and comet in the universe.",type:"Text"},{id:"7a7f413c-085d-a997-ab95-9d24f8b45ab1",text:"A somewhat stricter requirement is the presence of these elements in molecules that can be used as ready-made building blocks for life, just as early Earth probably had an organic soup of amino acids and other complex molecules. Earth's organic molecules likely came from some combination of three sources: chemical reactions in the atmosphere, chemical reactions near deep-sea vents in the oceans, and molecules carried to Earth by asteroids and comets. The first two sources can occur only on worlds with atmospheres or oceans, respectively. But the third source should have brought similar molecules to nearly all worlds in our solar system.",type:"Text"},{id:"9d1deedb-4747-8941-1ea3-260f17ce7ccf",text:"Studies of meteorites and comets suggest that organic molecules are widespread among both asteroids and comets. Because each body in the solar system was repeatedly struck by asteroids and comets during the period known as the heavy bombardment (about 4 billion years ago), each body should have received at least some organic molecules. However, these molecules tend to be destroyed by solar radiation on surfaces unprotected by atmospheres. Moreover, while these molecules might stay intact beneath the surface (as they evidently do on asteroids and comets), they probably cannot react with each other unless some kind of liquid or gas is available to move them about. Thus, if we limit our search to worlds on which organic molecules are likely to be involved in chemical reactions, we can probably rule out any world that lacks both an atmosphere and a surface or subsurface liquid medium, such as water.",type:"Text"}]},exports.material2={paragraphs:[{id:"5c2ad04f-3733-f400-5bdf-c99a6aa5447b",text:"这里是段落高亮的效果；",type:"Text"},{id:"0aff2e35-521c-f648-9d3d-9216229edc64",text:"测试添加下划线的效果；",type:"Text"},{id:"97d9f76d-1452-d155-ee4d-e6778cfd631c",text:"这里是加粗的效果；",type:"Text"},{id:"9142359c-c0f3-852d-3c84-30292f077222",text:"这里是斜体的效果；",type:"Text"},{id:"b3c65374-8851-9e2d-e913-316cca9a174d",text:"文字缩进",type:"Text"}],inlineMarkup:[{pid:"5c2ad04f-3733-f400-5bdf-c99a6aa5447b",type:"Highlight",index:5,length:2},{pid:"0aff2e35-521c-f648-9d3d-9216229edc64",type:"Underline",index:4,length:3},{pid:"97d9f76d-1452-d155-ee4d-e6778cfd631c",type:"Bold",index:3,length:2},{pid:"9142359c-c0f3-852d-3c84-30292f077222",type:"Italic",index:3,length:2}]},exports.material3={paragraphs:[{id:"d727b95f-0663-53ae-79f0-5e2dbc5ce8c4",text:"By the year 2050, nearly 80% of the Earth's population will live in urban centres. Applying the most conservative estimates to current demographic trends, the human population will increase by about three billion people by then. An estimated 109 hectares of new land (about 20% larger than Brazil) will be needed to grow enough food to feed them, if traditional farming methods continue as they are practised today. At present, throughout the world, over 80% of the land that is suitable for raising crops is in use. Historically, some 15% of that has been laid waste by poor management practices. What can be done to ensure enough food for the world's population to live on?",type:"Text"}],inlineMarkup:[{pid:"d727b95f-0663-53ae-79f0-5e2dbc5ce8c4",type:"InsertBlank",index:43,length:1},{pid:"d727b95f-0663-53ae-79f0-5e2dbc5ce8c4",type:"InsertBlank",index:175,length:1},{pid:"d727b95f-0663-53ae-79f0-5e2dbc5ce8c4",type:"InsertBlank",index:377,length:1}]},exports.tableBlank=[[{content:{paragraphs:[{id:"773cebbc-9028-e272-7f20-d0dc94fc6c85",text:"Area",type:"Text"}]}},{content:{paragraphs:[{id:"ef6ffc3c-de3f-8849-a864-6a0737b3a53b",text:"Work to be done",type:"Text"}]}},{content:{paragraphs:[{id:"8e4e5e6d-0129-8607-0d84-0d20fb3463f6",text:"Note",type:"Text"}]}}],[{content:{paragraphs:[{id:"773cebbc-9028-e272-7f20-d0dc94fc6c85",text:"Area",type:"Text"}]}},{content:{inlineMarkup:[{index:11,length:2,pid:"b3cab814-ed47-9ec5-392d-cbbdfb9bda8f",type:"BlankTable"}],paragraphs:[{id:"b3cab814-ed47-9ec5-392d-cbbdfb9bda8f",text:"Replace the  In the door",type:"Text"}]}},{content:{inlineMarkup:[{index:22,length:1,pid:"f9b11b22-79c1-1187-baf6-9a844852476d",type:"BlankTable"}],paragraphs:[{id:"f9b11b22-79c1-1187-baf6-9a844852476d",text:"Replace the  and go to ",type:"Text"}]}}],[{content:{paragraphs:[{id:"773cebbc-9028-e272-7f20-d0dc94fc6c85",text:"Area",type:"Text"}]}},{content:{inlineMarkup:[{pid:"f9b11b22-79c1-1187-baf6-9a844852476d",type:"BlankTable",index:12,length:1},{pid:"f9b11b22-79c1-1187-baf6-9a844852476d",type:"BlankTable",index:22,length:1}],paragraphs:[{id:"f9b11b22-79c1-1187-baf6-9a844852476d",text:"Replace the  and go to ",type:"Text"}]}},{content:{inlineMarkup:[{pid:"c84bbe90-474a-55fd-0c40-da69b0a8e3cd",type:"BlankTable",index:11,length:2}],paragraphs:[{id:"c84bbe90-474a-55fd-0c40-da69b0a8e3cd",text:"Replace the  In the door",type:"Text"}]}}]],exports.material5={paragraphs:[{id:"5c2ad04f-3733-f400-5bdf-c99a6aa5447b",text:"这里是大标题",type:"Text"},{id:"0aff2e35-521c-f648-9d3d-9216229edc64",text:"这里是小标题",type:"Text"},{id:"30c9f88d-948f-525a-43b5-6e75582c7320",text:"这里是普通文本",type:"Text"},{id:"87fdfb55-4799-7460-b3dc-535b5ac63116",text:"添加上标",type:"Text"},{id:"dc557385-7c57-137a-6182-fd5135d88c83",text:"添加下标",type:"Text"},{id:"33040513-0c16-81ee-8255-18726d365cf6",text:"",type:"Text"}],inlineMarkup:[{pid:"97d9f76d-1452-d155-ee4d-e6778cfd631c",type:"Bold",index:3,length:2},{pid:"9142359c-c0f3-852d-3c84-30292f077222",type:"Italic",index:3,length:2},{pid:"30c9f88d-948f-525a-43b5-6e75582c7320",type:"FontSize",index:0,value:"normal",length:7},{pid:"dc557385-7c57-137a-6182-fd5135d88c83",type:"FontSize",index:2,value:"sub",length:2},{pid:"87fdfb55-4799-7460-b3dc-535b5ac63116",type:"FontSize",index:2,value:"sup",length:2},{pid:"0aff2e35-521c-f648-9d3d-9216229edc64",type:"FontSize",index:3,value:"h2",length:3},{pid:"5c2ad04f-3733-f400-5bdf-c99a6aa5447b",type:"FontSize",index:3,value:"h1",length:3}]},exports.material6={paragraphMarkup:[],paragraphs:[{id:"5c2ad04f-3733-f400-5bdf-c99a6aa5447b",text:"在选取左侧插入耳机",type:"Text"},{id:"0aff2e35-521c-f648-9d3d-9216229edc64",text:"在选取右侧插入耳机",type:"Text"},{id:"30c9f88d-948f-525a-43b5-6e75582c7320",text:"在选取左侧插入黑块️",type:"Text"},{id:"697c88a9-7094-e401-e504-4268297fa769",text:"在选取右侧插入黑块️",type:"Text"}],inlineMarkup:[{pid:"5c2ad04f-3733-f400-5bdf-c99a6aa5447b",type:"Earphone",index:0,value:"left",length:9},{pid:"0aff2e35-521c-f648-9d3d-9216229edc64",type:"Earphone",index:9,value:"right",length:1},{pid:"30c9f88d-948f-525a-43b5-6e75582c7320",type:"Insert",index:0,value:"left",length:10},{pid:"697c88a9-7094-e401-e504-4268297fa769",type:"Insert",index:1,value:"right",length:10}]},exports.material7={paragraphs:[{id:"c54afb25-89b8-fac1-5ed5-7ced3f8e383d",text:"插入短横线 ",type:"Text"},{id:"339dc4b9-00f3-ead8-9fc2-258c572ae308",text:"插入中横线 ",type:"Text"},{id:"ff2cb808-ed26-4acc-251f-58a75573d103",text:"插入长横线 ",type:"Text"}],inlineMarkup:[{pid:"c54afb25-89b8-fac1-5ed5-7ced3f8e383d",type:"InsertLine",index:5,value:"small",length:1},{pid:"339dc4b9-00f3-ead8-9fc2-258c572ae308",type:"InsertLine",index:5,value:"middle",length:1},{pid:"ff2cb808-ed26-4acc-251f-58a75573d103",type:"InsertLine",index:5,value:"large",length:1}]},exports.material8={paragraphs:[{id:"c54afb25-89b8-fac1-5ed5-7ced3f8e383d",text:"但就是有这样一类人，让人怀疑他是如何顺利通过招聘的。他不仅在团队合作时挑最容易的部分，还把最容易的部分也搞砸了，你不得不帮他一起收拾烂摊子加班到凌晨。",type:"Text"},{id:"4b94cadd-5b69-af4c-b42b-8db6ac1b0037",text:"一个高速运转的团队，其中的每个员工必定担当得起自己负责的工作。职场的分工协作就是为了把每个人的优势发挥到最大化。",type:"Text"},{id:"c4a4cd18-7431-55b6-e5c4-72c83b0fb17c",text:"所以，如果在工作中，有人的完成度永远到不了100%，那么他就会成为团队的短板，完成度不到100%的这一部分，也许会让整个项目都归零。",type:"Text"},{id:"4143c171-2dfa-14cc-9e62-47bf41a31e9f",text:"才不配位，必着羞辱。专业能力是让人待在这个岗位上的基础能力，其他的能力是加分项或者区别项。",type:"Text"}],paragraphMarkup:[{pid:"c54afb25-89b8-fac1-5ed5-7ced3f8e383d",type:"Indent",value:""},{pid:"4b94cadd-5b69-af4c-b42b-8db6ac1b0037",type:"Indent",value:""},{pid:"c4a4cd18-7431-55b6-e5c4-72c83b0fb17c",type:"Indent",value:""},{pid:"4143c171-2dfa-14cc-9e62-47bf41a31e9f",type:"Indent",value:""}]},exports.material9={paragraphs:[{id:"c54afb25-89b8-fac1-5ed5-7ced3f8e383d",text:"但就是有这样一类人，让人怀疑他是如何顺利通过招聘的。他不仅在团队合作时挑最容易的部分，还把最容易的部分也搞砸了，你不得不帮他一起收拾烂摊子加班到凌晨。",type:"Text"},{id:"4b94cadd-5b69-af4c-b42b-8db6ac1b0037",text:"一个高速运转的团队，其中的每个员工必定担当得起自己负责的工作。职场的分工协作就是为了把每个人的优势发挥到最大化。",type:"Text"},{id:"c4a4cd18-7431-55b6-e5c4-72c83b0fb17c",text:"所以，如果在工作中，有人的完成度永远到不了100%，那么他就会成为团队的短板，完成度不到100%的这一部分，也许会让整个项目都归零。",type:"Text"},{id:"4143c171-2dfa-14cc-9e62-47bf41a31e9f",text:"才不配位，必着羞辱。专业能力是让人待在这个岗位上的基础能力，其他的能力是加分项或者区别项。",type:"Text"}],paragraphMarkup:[{pid:"c54afb25-89b8-fac1-5ed5-7ced3f8e383d",type:"Align",value:"left"},{pid:"4b94cadd-5b69-af4c-b42b-8db6ac1b0037",type:"Align",value:"left"},{pid:"c4a4cd18-7431-55b6-e5c4-72c83b0fb17c",type:"Align",value:"left"},{pid:"4143c171-2dfa-14cc-9e62-47bf41a31e9f",type:"Align",value:"left"}]},exports.material10={paragraphs:[{id:"c54afb25-89b8-fac1-5ed5-7ced3f8e383d",text:"但就是有这样一类人，让人怀疑他是如何顺利通过招聘的。他不仅在团队合作时挑最容易的部分，还把最容易的部分也搞砸了，你不得不帮他一起收拾烂摊子加班到凌晨。",type:"Text"},{id:"4b94cadd-5b69-af4c-b42b-8db6ac1b0037",text:"一个高速运转的团队，其中的每个员工必定担当得起自己负责的工作。职场的分工协作就是为了把每个人的优势发挥到最大化。",type:"Text"},{id:"c4a4cd18-7431-55b6-e5c4-72c83b0fb17c",text:"所以，如果在工作中，有人的完成度永远到不了100%，那么他就会成为团队的短板，完成度不到100%的这一部分，也许会让整个项目都归零。",type:"Text"},{id:"4143c171-2dfa-14cc-9e62-47bf41a31e9f",text:"才不配位，必着羞辱。专业能力是让人待在这个岗位上的基础能力，其他的能力是加分项或者区别项。",type:"Text"}],paragraphMarkup:[{pid:"c54afb25-89b8-fac1-5ed5-7ced3f8e383d",type:"Align",value:"right"},{pid:"4b94cadd-5b69-af4c-b42b-8db6ac1b0037",type:"Align",value:"right"},{pid:"c4a4cd18-7431-55b6-e5c4-72c83b0fb17c",type:"Align",value:"right"},{pid:"4143c171-2dfa-14cc-9e62-47bf41a31e9f",type:"Align",value:"right"}]},exports.material11={paragraphs:[{id:"c54afb25-89b8-fac1-5ed5-7ced3f8e383d",text:"但就是有这样一类人，让人怀疑他是如何顺利通过招聘的。他不仅在团队合作时挑最容易的部分，还把最容易的部分也搞砸了，你不得不帮他一起收拾烂摊子加班到凌晨。",type:"Text"},{id:"4b94cadd-5b69-af4c-b42b-8db6ac1b0037",text:"一个高速运转的团队，其中的每个员工必定担当得起自己负责的工作。职场的分工协作就是为了把每个人的优势发挥到最大化。",type:"Text"},{id:"c4a4cd18-7431-55b6-e5c4-72c83b0fb17c",text:"所以，如果在工作中，有人的完成度永远到不了100%，那么他就会成为团队的短板，完成度不到100%的这一部分，也许会让整个项目都归零。",type:"Text"},{id:"4143c171-2dfa-14cc-9e62-47bf41a31e9f",text:"才不配位，必着羞辱。专业能力是让人待在这个岗位上的基础能力，其他的能力是加分项或者区别项。",type:"Text"}],paragraphMarkup:[{pid:"c54afb25-89b8-fac1-5ed5-7ced3f8e383d",type:"Align",value:"center"},{pid:"4b94cadd-5b69-af4c-b42b-8db6ac1b0037",type:"Align",value:"center"},{pid:"c4a4cd18-7431-55b6-e5c4-72c83b0fb17c",type:"Align",value:"center"},{pid:"4143c171-2dfa-14cc-9e62-47bf41a31e9f",type:"Align",value:"center"}]},exports.material12={paragraphs:[{id:"f8b0f1cf-7607-a664-c579-c1b26675ed4b",text:"添加图片："},{id:"ac2775f8-c854-f118-ba26-5dab68675fe4",text:"",type:"Text"}],paragraphMarkup:[{pid:"f8b0f1cf-7607-a664-c579-c1b26675ed4b",type:"Image",value:"",uploadPath:"http://hq-static.smartstudy.com/atheneBackend/1542262300581cnKUY6.png"}]},exports.material13={paragraphs:[{id:"efd0a4d8-c42a-d00a-5bfc-c0bdf19ebb1c",text:"添加音频：",type:"Text"},{id:"d9763fd9-0760-11ab-2e1f-a4ad3ee1d376",text:""},{id:"efd0a4d8-c42a-d00a-5bfc-c0bdf19ebb11",text:"添加音频：",type:"Text"},{id:"d9763fd9-0760-11ab-2e1f-a4ad3ee1d371",text:""}],paragraphMarkup:[{pid:"efd0a4d8-c42a-d00a-5bfc-c0bdf19ebb1c",type:"Audio",value:"",uploadPath:"http://hq-static.smartstudy.com/atheneBackend/1542262252465zKY05O.mp3"},{pid:"efd0a4d8-c42a-d00a-5bfc-c0bdf19ebb11",type:"Audio",value:"",uploadPath:"http://hq-static.smartstudy.com/atheneBackend/1542262252465zKY05O.mp3"}]},exports.material14={paragraphs:[{id:"a3486f83-c30a-952f-8af9-fece61bee766",text:"The creation of life requires a set of chemical elements for making the components of cells.  Life on Earth uses about 25 of the 92 naturally occurring chemical elements, although just 4 of these elements—oxygen, carbon, hydrogen, and nitrogen—make up about 96 percent of the mass of living organisms.  Thus, a first requirement for life might be the presence of most or all of the elements used by life.",type:"Text"},{id:"f81ea55d-8f05-90e0-0a13-72a7f0643640",text:"Interestingly, this requirement can probably be me…and helium, they are found just about everywhere.",type:"Text"},{id:"865499f1-3ea2-b982-7863-f4477ad5cabf",text:"Heavy elements are continually being manufactured …hroughout our solar system, galaxy, and universe.",type:"Text"},{id:"a3283c8e-b52b-df99-99e2-92566b043ded",text:"Note that this argument does not change, even if w…lanet, moon, asteroid, and comet in the universe.",type:"Text"},{id:"7a7f413c-085d-a997-ab95-9d24f8b45ab1",text:"A somewhat stricter requirement is the presence of…lecules to nearly all worlds in our solar system.",type:"Text"},{id:"9d1deedb-4747-8941-1ea3-260f17ce7ccf",text:"Studies of meteorites and comets suggest that orga…face or subsurface liquid medium, such as water.↵",type:"Text"}]},exports.question2={audition:null,conciseId:null,createdAt:"2018-10-26T07:50:14.000Z",difficulty:null,examId:1,exampleNum:0,extra:null,id:1006360,materials:[{answer:[0],insertSentence:{paragraphs:[{id:"0e011d6d-92ba-ffba-3000-e76e7e53b447",text:"To answer the question “Could life exist on other …rst look at the necessary preconditions for life.",type:"Text"}]},reference:{paragraphs:[{id:"a3486f83-c30a-952f-8af9-fece61bee766",text:"The creation of life requires a set of chemical elements for making the components of cells.  Life on Earth uses about 25 of the 92 naturally occurring chemical elements, although just 4 of these elements—oxygen, carbon, hydrogen, and nitrogen—make up about 96 percent of the mass of living organisms.  Thus, a first requirement for life might be the presence of most or all of the elements used by life.",type:"Text"},{id:"f81ea55d-8f05-90e0-0a13-72a7f0643640",text:"Interestingly, this requirement can probably be me…and helium, they are found just about everywhere.",type:"Text"},{id:"865499f1-3ea2-b982-7863-f4477ad5cabf",text:"Heavy elements are continually being manufactured …hroughout our solar system, galaxy, and universe.",type:"Text"},{id:"a3283c8e-b52b-df99-99e2-92566b043ded",text:"Note that this argument does not change, even if w…lanet, moon, asteroid, and comet in the universe.",type:"Text"},{id:"7a7f413c-085d-a997-ab95-9d24f8b45ab1",text:"A somewhat stricter requirement is the presence of…lecules to nearly all worlds in our solar system.",type:"Text"},{id:"9d1deedb-4747-8941-1ea3-260f17ce7ccf",text:"Studies of meteorites and comets suggest that orga…face or subsurface liquid medium, such as water.↵",type:"Text"}],inlineMarkup:[{pid:"a3486f83-c30a-952f-8af9-fece61bee766",type:"Insert",index:0,value:"left",length:1},{pid:"a3486f83-c30a-952f-8af9-fece61bee766",type:"Insert",index:93,value:"left",length:1},{pid:"a3486f83-c30a-952f-8af9-fece61bee766",type:"Insert",index:302,value:"left",length:1},{pid:"a3486f83-c30a-952f-8af9-fece61bee766",type:"Insert",index:404,value:"left",length:1}],articleMarkup:{anchorPid:"a3486f83-c30a-952f-8af9-fece61bee766",headPid:"a3486f83-c30a-952f-8af9-fece61bee766",tailPid:"a3486f83-c30a-952f-8af9-fece61bee766"}}}],name:"TPO54 阅读 Passage3 Q12",practiceId:1001500,practiceTypeId:null,questionTagId:89,rank:12,status:"Visible",stem:null,subjectId:1,textbookId:1,type:"Insert",updatedAt:"2018-10-26T07:50:14.000Z",videoTimeRangeId:null},exports.question={materials:[{reference:{articleMarkup:{headPid:"a3486f83-c30a-952f-8af9-fece61bee766",tailPid:"a3486f83-c30a-952f-8af9-fece61bee766",anchorPid:"a3486f83-c30a-952f-8af9-fece61bee766"},inlineMarkup:[{index:72,length:10,pid:"a3486f83-c30a-952f-8af9-fece61bee766",type:"Highlight"}],paragraphs:[{id:"a3486f83-c30a-952f-8af9-fece61bee766",text:"The creation of life requires a set of chemical elements for making the components of cells.  Life on Earth uses about 25 of the 92 naturally occurring chemical elements, although just 4 of these elements—oxygen, carbon, hydrogen, and nitrogen—make up about 96 percent of the mass of living organisms.  Thus, a first requirement for life might be the presence of most or all of the elements used by life.",type:"Text"},{id:"f81ea55d-8f05-90e0-0a13-72a7f0643640",text:"Interestingly, this requirement can probably be met by almost any world. Scientists have determined that all chemical elements in the universe besides hydrogen and helium (and a trace amount of lithium) were produced by stars. These are known as heavy elements because they are heavier than hydrogen and helium. Although all of these heavy elements are quite rare compared to hydrogen and helium, they are found just about everywhere.",type:"Text"},{id:"865499f1-3ea2-b982-7863-f4477ad5cabf",text:"Heavy elements are continually being manufactured by stars and released into space by stellar deaths, so their amount compared to hydrogen and helium gradually rises with time. Heavy elements make up about 2 percent of the chemical content (by mass) of our solar system, the other 98 percent is hydrogen and helium. In some very old star systems, which formed before many heavy elements were produced, the heavy-element share may be less than 0.1 percent. Nevertheless, every star system studied has at least some amount of all the elements used by life. Moreover, when planetesimals—small, solid objects formed in the early solar system that may accumulate to become planets—condense within a forming star system, they are inevitably made from heavy elements because the more common hydrogen and helium remain gaseous. Thus, planetesimals everywhere should contain the elements needed for life, which means that objects built from planetesimals—planets, moons, asteroids, and comets-also contain these elements. The nature of solar-system formation explains why Earth contains all the elements needed for life, and it is why we expect these elements to be present on other worlds throughout our solar system, galaxy, and universe.",type:"Text"},{id:"a3283c8e-b52b-df99-99e2-92566b043ded",text:"Note that this argument does not change, even if we allow for life very different from life on Earth. Life on Earth is carbon based, and most biologists believe that life elsewhere is likely to be carbon based as well. However, we cannot absolutely rule out the possibility of life with another chemical basis, such as silicon or nitrogen. The set of elements (or their relative proportions) used by life based on some other element might be somewhat different from that used by carbon-based life on Earth. But the elements are still products of stars and would still be present in planetesimals everywhere. No matter what kinds of life we are looking for, we are likely to find the necessary elements on almost every planet, moon, asteroid, and comet in the universe.",type:"Text"},{id:"7a7f413c-085d-a997-ab95-9d24f8b45ab1",text:"A somewhat stricter requirement is the presence of these elements in molecules that can be used as ready-made building blocks for life, just as early Earth probably had an organic soup of amino acids and other complex molecules. Earth's organic molecules likely came from some combination of three sources: chemical reactions in the atmosphere, chemical reactions near deep-sea vents in the oceans, and molecules carried to Earth by asteroids and comets. The first two sources can occur only on worlds with atmospheres or oceans, respectively. But the third source should have brought similar molecules to nearly all worlds in our solar system.",type:"Text"},{id:"9d1deedb-4747-8941-1ea3-260f17ce7ccf",text:"Studies of meteorites and comets suggest that organic molecules are widespread among both asteroids and comets. Because each body in the solar system was repeatedly struck by asteroids and comets during the period known as the heavy bombardment (about 4 billion years ago), each body should have received at least some organic molecules. However, these molecules tend to be destroyed by solar radiation on surfaces unprotected by atmospheres. Moreover, while these molecules might stay intact beneath the surface (as they evidently do on asteroids and comets), they probably cannot react with each other unless some kind of liquid or gas is available to move them about. Thus, if we limit our search to worlds on which organic molecules are likely to be involved in chemical reactions, we can probably rule out any world that lacks both an atmosphere and a surface or subsurface liquid medium, such as water.",type:"Text"}],score:null,subStem:null,videoTimeRangeId:null}}]},exports.p={anchor:!0,id:"a3486f83-c30a-952f-8af9-fece61bee766",inlineMarkups:[{index:72,length:10,pid:"a3486f83-c30a-952f-8af9-fece61bee766",type:"Highlight"}],markups:[],text:"The creation of life requires a set of chemical elements for making the components of cells.  Life on Earth uses about 25 of the 92 naturally occurring chemical elements, although just 4 of these elements—oxygen, carbon, hydrogen, and nitrogen—make up about 96 percent of the mass of living organisms.  Thus, a first requirement for life might be the presence of most or all of the elements used by life.",type:"Text"},exports.p1={anchor:!1,id:"c7763867-d463-86d9-b766-52de45544b81",inlineMarkups:[{pid:"c7763867-d463-86d9-b766-52de45544b81",type:"InsertLine",index:25,value:"small",length:1},{pid:"c7763867-d463-86d9-b766-52de45544b81",type:"InsertLine",index:79,value:"small",length:1}],paragraphMarkup:[],markups:[],text:"Soda was obtained largely of certain Mediterranean…tation of inland vegetation of inland vegetation.",type:"Text"},exports.p2={anchor:!1,id:"efd0a4d8-c42a-d00a-5bfc-c0bdf19ebb1c",paragraphMarkup:[{pid:"efd0a4d8-c42a-d00a-5bfc-c0bdf19ebb1c",type:"Audio",value:"",uploadPath:"http://hq-static.smartstudy.com/atheneBackend/1542262252465zKY05O.mp3"}],inlineMarkups:[],markups:[{pid:"efd0a4d8-c42a-d00a-5bfc-c0bdf19ebb1c",type:"Audio",value:"",uploadPath:"http://hq-static.smartstudy.com/atheneBackend/1542262252465zKY05O.mp3"}],text:"添加音频：",type:"Text"},exports.p3={anchor:!0,id:"a3486f83-c30a-952f-8af9-fece61bee766",inlineMarkups:[{index:72,length:10,pid:"a3486f83-c30a-952f-8af9-fece61bee766",type:"Highlight"}],markups:[],text:"The creation of life requires a set of chemical elements for making the components of cells.  Life on Earth uses about 25 of the 92 naturally occurring chemical elements, although just 4 of these elements—oxygen, carbon, hydrogen, and nitrogen—make up about 96 percent of the mass of living organisms.  Thus, a first requirement for life might be the presence of most or all of the elements used by life.",type:"Text"},exports.p4={anchor:!1,id:"c7763867-d463-86d9-b766-52de45544b81",inlineMarkups:[],paragraphMarkup:[{pid:"c7763867-d463-86d9-b766-52de45544b81",type:"Image",value:"",uploadPath:"http://hq-static.smartstudy.com/atheneBackend/1558514732307NfEYXG.png"}],markups:[{pid:"c7763867-d463-86d9-b766-52de45544b81",type:"Image",value:"",uploadPath:"http://hq-static.smartstudy.com/atheneBackend/1558514732307NfEYXG.png"}],text:"Soda was obtained largely of certain Mediterranean…tation of inland vegetation of inland vegetation.",type:"Text"},exports.answerAnalysis={inlineMarkup:[{pid:"9d23bcc3-1bee-0be8-2385-eee26aab8a3d",type:"Bold",index:28,length:8},{pid:"cccd3564-5c1b-1318-47dd-0d8a304ebbad",type:"Bold",index:47,length:8},{pid:"d2e49260-9d9b-fabb-5796-b3c120972c32",type:"Bold",index:32,length:8},{pid:"f7b0c64d-c4a2-69e8-61a7-7c7b005fe90e",type:"Bold",index:31,length:8},{pid:"212dda87-9f3f-2829-78d8-396bdc8a79bf",type:"Bold",index:27,length:8},{pid:"a7cb7de1-ca85-71e8-7469-ff9c7b73ed22",type:"Bold",index:45,length:8},{pid:"fe83cc21-aae9-741d-9dea-03d974a70eed",type:"Bold",index:30,length:8},{pid:"6a4283ae-8cb1-2769-3c9c-f20b5984c62f",type:"Bold",index:27,length:8},{pid:"e356f2c3-6c36-0b9b-e86e-849e0a8d667e",type:"Bold",index:35,length:8},{pid:"9a032159-a866-33fe-6728-7a856e7847eb",type:"Bold",index:29,length:8}],paragraphs:[{id:"9d23bcc3-1bee-0be8-2385-eee26aab8a3d",text:"Question 31答案：central定位原文：scripts:It's the type…ource。对于结构的把握来自于阅读时候对结构把握的能力，所以快速阅读是听力中抓住句子结构的基础。",type:"Text"},{id:"cccd3564-5c1b-1318-47dd-0d8a304ebbad",text:"Question 32答案：conversation/conversations定位原文：scr…要注意formal meetings or written memos是被否定的信息，不要被迷惑。",type:"Text"},{id:"d2e49260-9d9b-fabb-5796-b3c120972c32",text:"Question 33答案：effectively定位原文：scripts:But on th…tively...题干中的否定出现了，而且act也原词重现，答案就是后边的effectively。",type:"Text"},{id:"f7b0c64d-c4a2-69e8-61a7-7c7b005fe90e",text:"Question 34答案：risk/risks定位原文：scripts:And the ki…afraid of “不怕”=原文中的happy to take “喜欢”，答案是risk（s）。",type:"Text"},{id:"212dda87-9f3f-2829-78d8-396bdc8a79bf",text:"Question 35答案：levels定位原文：scripts:The next type …案只能写一个单词。还要注意原文中的them指的是前面提到的companies，这是代词还原的问题。",type:"Text"},{id:"a7cb7de1-ca85-71e8-7469-ff9c7b73ed22",text:"Question 36答案：description/descriptions定位原文：scrip… so on.相对来说，本题的定位比较简单，因为题干中所有的信息在原文中都直接出现，没有任何变化。",type:"Text"},{id:"fe83cc21-aae9-741d-9dea-03d974a70eed",text:"Question 37答案：technical定位原文：scripts:In other wo…的问题，就是对expertise这个单词的理解，它的意思是“专门的知识或技能”= ability。",type:"Text"},{id:"6a4283ae-8cb1-2769-3c9c-f20b5984c62f",text:"Question 38答案：change定位原文：scripts:On the other h…se the need for change, and even slower to react.",type:"Text"},{id:"e356f2c3-6c36-0b9b-e86e-849e0a8d667e",text:"Question 39答案：responsibility定位原文：scripts:What k…ticularly want to have responsibility, 因此本题的难度不大。",type:"Text"},{id:"9a032159-a866-33fe-6728-7a856e7847eb",text:"Question 40答案：flexible定位原文：scripts:Now one of t…lture is that it’s flexible。flexible就是本题的答案，难度不大。",type:"Text"}]},exports.material15={inlineMarkup:[{pid:"f1c64920-7385-aea4-09a4-f21b8892813a",type:"Formula",index:7,value:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALoAAABCCAYAAADgz8yFAAAIwElEQVR4Xu2deahuVRmHHy21zMzKrCjKJhrUSirS+scmtJQGrGwwFEUjGpTKSkRLFK3QRpWiErWgAbWiQo1Ks8k5CxpojhQbUCstxwYe7rtru/2Gfda3v32+ffa74HK55+w1/dZvveud1rqbkSURGAECm41gjjnFRIAkepJgFAgk0UexzDnJJHpyYBQIJNFHscw5ySR6cmAUCCTRR7HMOckkenJgFAgk0UexzDnJJHpyYBQIJNGHtcwvBG4Z1pDnjvYq4O9zv1rwgyT6ggD2WH1H4HXAd3rss4+ukuh9oDygPg4ELgJ+N6Axr8xQU6KvzFLMHch7AP9kKUAgiV4A2jpVSaIvAHwSfQHweqz6VEAd/Ust+3wIcDtwQ8vvN/xnSfTyJX4UcD/gH8Avy5tpVfNw4Azgry2+fjlwHbA7cCPwqRZ1NvwnSfSyJb4n8AbgI8DbgZNbNuP3qiBrlbRNteW+wCOA+wBXh/R2CPcGLgE8ASzfBl4ShG85xI35WRK9fF03B34IvD7INa8lsf4E8I4OiL4zcDzwXOCRNSK7AZ8R47E/vTR7dux73ytOsUG5OZPo8+g5/fePA74LPKGlxCwl+h6hsii568Xg0UnAk4F/TRimKszWwFnlU7xbTVU11add4yTpsOnlNpVEL8dXIunbVkLvAFzaQnJ+skCiT/O2fBz4xRS1SSI+E/hY+fQm1nQs745T44qO215qc0n0cnjfC7wTeAtwPXAcoEpRD9GrSlRFqft54DDgz3CX+7p3zhjGJKLfC7gSeFf0rdH5s2hD74yG6GeBnYA/xjflM91UU5XoScDTgE8Dl09o0N8/LE66fwO3Nb4RDzfhNnEiOO5eShK9DGaJpgTXuNSrsUUs3AFAJemqjTCvB0k/Tf3ZLk6NDzUakcy/jQ3zilBh3GjnAd8PcmtD6BF6NSDpFinO74vAS4PkH2gQXQKfDtwRf6vSqcM/p6ZWVareUcCvgAvDmP7nIgNrWzeJDs8G3gTcNAM0vRkn1KTmY4Hv1Qi6bRim+9WIbnNrlegSW4+JRqRlWthfwn009HOlop4VXZDP64DUk2B4M3Ax8KM4lbQN6hL9xDg9XhbEVgDILU+7/wD69XV5alecH397utUN6bacLfouiQ4PAh4OzFIf7gH8vmZ0qp+7iJXEUiKrOqi6/GTGSszT0SWwfyS4pa1+vj9waEOCThrGQcCz5mwGifk24OZo4DGABJbcFlWi99WMUbH7QxD9p0Hwb4SH6XNRx9NNUr8miL8lcH/gT0WsLaiURC8ADXhtSKnKf65PXYmqTjxrw8wjuqOpB4dm6ecH19yIui0thwSRps3KIJf68azipnazqoZYvhr9mEzm7zS+z4mNL+lfBHww9HdPxe2BvwCPD2O5sicku7r9upQkehnsqgpKRo1RJZ4659PDQKxalBRN1eULwBvDOKxjXzfaqnC/7kRdi0ZE68Ugkamtu8UJo2T8OaCurnrRdXloRIBtV4P67DC8jSH8BnhVnCaV2qTRqiR/SpxMjl+VZ9+GS/KBoS6aqrD0kkQvg1iyXRDG4POBF4RxWm9tEWNUSa6/elLYvzJ8DRZ59KsPq36pvkzyp5fNcHotpbi+eQ1fi3q3c3WDasv8ILBQvdknbAk34DHAt6LOE+OkaHqpuh7r/9pLoi8GrdJUQqrXdlmqdNxpabl7h3fDHBul+xETXHldjse29PRI8kdH3ODI0NXVt1Vl9AIpxfXvS3z//crwAOlx0efvCagLUvVON6teoV5KEr0XmNfcicaoum5lAE5qwKinLsTKaFxzJx1XqG96x6ZL89ZGH37jz//Wcd9zm0uiz4VoXT5Qenqsawhm6QCBJHoHIGYTq49AEn311yhH2AEC60F03W5GEpu6mvqbeSJNva6DaWYTY0egb6LvAhg1M9vPouV+KvDNSBryZ+ZRGJRYlqvMpCMDK1lWCwE9NUsTcn0SXd+pIWL9vyb06Hv+emBtrol+2V+Hb9pv67dwPAWM6M2KOk5bNjfM0gBcLa7kaKYh0BfR7UdJbghcX6ylysAzumauiFfDjDCaLGUQpk5OQ+6fKVxGN9e0ywmFTWa1oSHQF9HNsfAuo+Su8rVfDHw5EohUVyz6X/19MwDjHckHFEh0TwJDzOZkZxkxAn0R3eiZYepra1i/PyJ65owYNs6SCCwNgb6I3pxAdXHBPGUDI2a7ZUkElobAehG90s+/ErnOlYdFFcX00KbxaOKQifo/Bjwd2hZVF3V+U18XvWXTts/8bgUR6JPoW9USjyr93JsrpwQujsXsNhN/LmtgpbFqdtxak6f83rwKMw2HWsTF1F4zAc1393LymUt0vw4Vp5nj7oPo9nEscHSkdEo6F8onkOv6uZdmzXXuLXVzICvqxtdz5OmnnfO1uGrnz9e68Qcy5e6H2QfRzd1W5TC9U2Ir2fWjWyS7bsPqDqaXi71TmGUTAuae6zV6cMQX/JkCQYzavieTWDaeXFgmIG+tvT/idSvVEANH1RUw+/ZoVlpl+T8CGu1ea/PmfHX/UvvGFwiaRJ/31MSoce1DolcA6yP3lrsRz8rYNOfFiGf9Z6NekAmTNwdI4VBFhb2j6QsAEl3Dvc1TE6PHtE+ijx7sDgCo1EBvFJ0b7c17aqKDboffRBJ9OGvoWqm+qLZUkeQ2T00MZ4ZLHGkSfYngdty02X3X1NyxNu/7MrOemuh4CMNtLok+jLXz4SHvh5oUZ/FytLEGk998uGjaUxOnZaBsE2BJ9NUnevVAkEE2DU8Jb6DN/4DA5/RmPTXx4dWfXj8jTKL3g3NpL9UrV7oO60Vd3dRl/ezznpoo7XtD1Uuib4zlbPPUxMaYaeEskuiFwGW1YSGQRB/WeuVoCxFIohcCl9WGhUASfVjrlaMtRCCJXghcVhsWAkn0Ya1XjrYQgSR6IXBZbVgIJNGHtV452kIEkuiFwGW1YSGQRB/WeuVoCxFIohcCl9WGhUASfVjrlaMtROC/bEyqUvkigrgAAAAASUVORK5CYII=",length:2}],paragraphs:[{id:"f1c64920-7385-aea4-09a4-f21b8892813a",text:"测试的时候一定要细心哈",type:"Text"}]},exports.material16={paragraphs:[{id:"08e09e31-f66d-a873-a1ba-665c70c817bc",text:"Paragraph 2 is marked with",type:"Text"}],inlineMarkup:[{pid:"08e09e31-f66d-a873-a1ba-665c70c817bc",type:"Arrow",index:23,value:"right",length:3}],articleMarkup:null,paragraphMarkup:null},exports.material17={paragraphs:[{id:"08e09e31-f66d-a873-a1ba-665c70c817bc",text:"Paragraph 2 is marked with",type:"Text"}],inlineMarkup:[{pid:"08e09e31-f66d-a873-a1ba-665c70c817bc",type:"Arrow",index:23,value:"left",length:3}],articleMarkup:null,paragraphMarkup:null}},,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _extends3=_interopRequireDefault(__webpack_require__(11)),_getPrototypeOf2=_interopRequireDefault(__webpack_require__(9)),_classCallCheck3=_interopRequireDefault(__webpack_require__(4)),_createClass3=_interopRequireDefault(__webpack_require__(5)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(7)),_inherits3=_interopRequireDefault(__webpack_require__(8)),_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_aphrodite=__webpack_require__(2),_propTypes2=_interopRequireDefault(__webpack_require__(0)),_lodash=__webpack_require__(13),_utils=__webpack_require__(667),_block2=_interopRequireDefault(__webpack_require__(295)),_styles2=_interopRequireDefault(__webpack_require__(714));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Article=function(_Component){function Article(){return(0,_classCallCheck3.default)(this,Article),(0,_possibleConstructorReturn3.default)(this,(Article.__proto__||(0,_getPrototypeOf2.default)(Article)).apply(this,arguments))}return(0,_inherits3.default)(Article,_Component),(0,_createClass3.default)(Article,[{key:"componentDidMount",value:function componentDidMount(){var _this2=this;this.props.isReport||setTimeout(function(){_this2.anchor&&_this2.anchor.scrollIntoView({behavior:"smooth"})},50)}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps){var _this3=this;this.props.isReport||this.props.location&&this.props.location.pathname!==prevProps.location.pathname&&this.anchor&&setTimeout(function(){_this3.anchor.scrollIntoView({behavior:"smooth"})},50)}},{key:"render",value:function render(){var _this4=this,_props=this.props,material=_props.material,question=_props.question,isTextOnly=_props.isTextOnly,handleAnswer=_props.handleAnswer,answer=_props.answer,isReport=_props.isReport,externalInitAnswer=_props.externalInitAnswer,qNum=_props.qNum,materialIds=_props.materialIds,answerRsult=_props.answerRsult,isIelts=_props.isIelts,paragraphClassName=_props.paragraphClassName,imgWidth=_props.imgWidth,pStyle=_props.pStyle,article=(0,_utils.normalizeArticle)(material,(0,_lodash.get)(question,"materials.0.reference"),(0,_lodash.isEmpty)(question)?"true":isTextOnly),props={};"Insert"===question.type&&(props.handleAnswer=this.props.handleAnswer,props.insertSentence=(0,_lodash.get)(question,"materials.0.insertSentence.paragraphs.0.text"));var initAnswer=0;return!(!Array.isArray(article.paragraphs)||0===article.paragraphs.length||1===article.paragraphs.length&&""===article.paragraphs[0].text)&&_react2.default.createElement("div",{className:(0,_aphrodite.css)(_styles2.default.container)},_react2.default.createElement("div",{ref:function ref(node){article.hasAnchor||isTextOnly||(_this4.anchor=node)}}),Array.isArray(article.paragraphs)&&article.paragraphs.map(function(p){var count=p.inlineMarkups.filter(function(item){return"InsertBlank"===item.type||"Insert"===item.type||"InsertLine"===item.type||"DragBlank"===item.type||"BlankTable"===item.type}).length;return initAnswer+=count,""!==p.text&&_react2.default.createElement(_block2.default,(0,_extends3.default)({key:p.id,p:p},props,{handleAnswer:handleAnswer,answer:isReport?(0,_lodash.get)(question,"materials.0.answer"):answer,isReport:isReport,initAnswer:-1===externalInitAnswer?initAnswer-count:externalInitAnswer+initAnswer-count,qNum:qNum,materialIds:materialIds,answerRsult:answerRsult,isIelts:isIelts,paragraphClassName:paragraphClassName,pStyle:pStyle,imgWidth:imgWidth}))}))}}]),Article}(_react.Component);Article.defaultProps={isTextOnly:!1,handleAnswer:function handleAnswer(){},question:{},answer:"",isReport:!1,qNum:["10"],externalInitAnswer:-1,handleQuestionSelect:function handleQuestionSelect(){},materialIds:[],answerRsult:[],paragraphClassName:void 0,pStyle:void 0,isIelts:!1,location:void 0,imgWidth:0},Article.propTypes={material:_propTypes2.default.object.isRequired,location:_propTypes2.default.object,question:_propTypes2.default.object,isTextOnly:_propTypes2.default.bool,handleAnswer:_propTypes2.default.func,answer:_propTypes2.default.any,isReport:_propTypes2.default.bool,qNum:_propTypes2.default.array,externalInitAnswer:_propTypes2.default.number,handleQuestionSelect:_propTypes2.default.func,materialIds:_propTypes2.default.array,answerRsult:_propTypes2.default.array,paragraphClassName:_propTypes2.default.object,pStyle:_propTypes2.default.object,isIelts:_propTypes2.default.bool,imgWidth:_propTypes2.default.number},exports.default=Article,Article.__docgenInfo={description:"",methods:[],displayName:"Article",props:{isTextOnly:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:"是否只读 用于填空题及拖拽题的渲染"},handleAnswer:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:"用户作答之后的回调函数"},question:{defaultValue:{value:"{}",computed:!1},type:{name:"object"},required:!1,description:"托福题库中用于获取题目答案及 material中的富文本样式"},answer:{defaultValue:{value:"''",computed:!1},type:{name:"any"},required:!1,description:"用于报告页的答案显示"},isReport:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:"是否是报告页"},qNum:{defaultValue:{value:"['10']",computed:!1},type:{name:"array"},required:!1,description:"需要显示的子题题号"},externalInitAnswer:{defaultValue:{value:"-1",computed:!1},type:{name:"number"},required:!1,description:"外部累计InsertBlank数量"},handleQuestionSelect:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:"处理子题选中"},materialIds:{defaultValue:{value:"[]",computed:!1},type:{name:"array"},required:!1,description:"雅思填空题 && 拖拽题  用来定位"},answerRsult:{defaultValue:{value:"[]",computed:!1},type:{name:"array"},required:!1,description:"答案集合"},paragraphClassName:{defaultValue:{value:"undefined",computed:!0},type:{name:"object"},required:!1,description:"外部传进来的段落样式"},pStyle:{defaultValue:{value:"undefined",computed:!0},type:{name:"object"},required:!1,description:"专门用来设置段落间距"},isIelts:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:"是否是雅思题库"},location:{defaultValue:{value:"undefined",computed:!0},type:{name:"object"},required:!1,description:"包含有关当前 URL 的信息的对象"},imgWidth:{defaultValue:{value:"0",computed:!1},type:{name:"number"},required:!1,description:"图片宽度"},material:{type:{name:"object"},required:!0,description:"富文本材料"}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["show/article/index.js"]={name:"Article",docgenInfo:Article.__docgenInfo,path:"show/article/index.js"})},,,function(module,exports,__webpack_require__){"use strict";(function(global){Object.defineProperty(exports,"__esModule",{value:!0});var _regenerator2=_interopRequireDefault(__webpack_require__(36)),_asyncToGenerator3=_interopRequireDefault(__webpack_require__(44)),_promise2=_interopRequireDefault(__webpack_require__(140)),_getPrototypeOf2=_interopRequireDefault(__webpack_require__(9)),_classCallCheck3=_interopRequireDefault(__webpack_require__(4)),_createClass3=_interopRequireDefault(__webpack_require__(5)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(7)),_inherits3=_interopRequireDefault(__webpack_require__(8)),_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_recordrtc=__webpack_require__(751),_tiUi=__webpack_require__(10),_aphrodite=__webpack_require__(2),_modal2=_interopRequireDefault(__webpack_require__(88)),_styles2=_interopRequireDefault(__webpack_require__(787));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Recorder=function(_Component){function Recorder(){return(0,_classCallCheck3.default)(this,Recorder),(0,_possibleConstructorReturn3.default)(this,(Recorder.__proto__||(0,_getPrototypeOf2.default)(Recorder)).apply(this,arguments))}return(0,_inherits3.default)(Recorder,_Component),(0,_createClass3.default)(Recorder,[{key:"render",value:function render(){return _react2.default.createElement(_tiUi.View,null)}}],[{key:"init",value:function init(){this.isInit||(this.isInit=!0,void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(constraints){var getUserMedia=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return getUserMedia?new _promise2.default(function(resolve,reject){getUserMedia.call(navigator,constraints,resolve,reject)}):_promise2.default.reject(new Error("getUserMedia is not implemented in this browser"))}))}},{key:"start",value:function start(_ref){var _ref2,_this2=this,mode=_ref.mode,skip=_ref.skip,_ref$callback=_ref.callback,callback=void 0===_ref$callback?function(){}:_ref$callback;if(this.destroy(),this.init(),!navigator.mediaDevices.getUserMedia)return this.onError({mode:mode,skip:skip});navigator.mediaDevices.getUserMedia({audio:!0}).then((_ref2=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(stream){var isSafari;return _regenerator2.default.wrap(function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return isSafari=/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent),_this2.recorder=new _recordrtc.RecordRTCPromisesHandler(stream,isSafari?{type:"audio",recorderType:_recordrtc.StereoAudioRecorder}:{type:"audio"}),_context.next=4,_this2.recorder.startRecording().then(function(){return callback()}).catch(function(error){console.log("getTracks:",stream.getTracks()),_this2.onError({mode:mode,skip:skip,key:1}),console.error("startRecording failure",error)});case 4:console.log("this.recorder.recordRTC:",_this2.recorder.recordRTC);case 5:case"end":return _context.stop()}},_callee,_this2)})),function(_x){return _ref2.apply(this,arguments)})).catch(function(err){console.log(err.name+": "+err.message)})}},{key:"pause",value:function pause(){try{this.recorder&&this.recorder.recordRTC&&this.recorder.recordRTC.pauseRecording()}catch(e){console.log(e)}}},{key:"resume",value:function resume(){try{this.recorder.recordRTC&&this.recorder.recordRTC.resumeRecording()}catch(e){console.log(e)}}},{key:"stop",value:function(){var _ref3=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(){var url,blob;return _regenerator2.default.wrap(function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,this.recorder.stopRecording();case 2:return _context2.next=4,this.recorder.getDataURL().then(function(url){return url});case 4:return url=_context2.sent,_context2.next=7,this.recorder.getBlob().then(function(blob){return blob});case 7:return blob=_context2.sent,_context2.abrupt("return",{url:url,blob:blob});case 9:case"end":return _context2.stop()}},_callee2,this)}));return function stop(){return _ref3.apply(this,arguments)}}()},{key:"destroy",value:function destroy(){this.recorder&&this.recorder.recordRTC&&this.recorder.recordRTC.destroy&&(this.recorder.recordRTC.destroy(),this.recorder=null)}},{key:"onError",value:function onError(_ref4){var mode=_ref4.mode,skip=_ref4.skip,_ref4$key=_ref4.key,key=void 0===_ref4$key?0:_ref4$key,buttons=[{title:"刷新页面",onClick:function onClick(){return global.location.reload()}}];mode&&"mock"===mode&&buttons.push({title:"跳过口语",class:"gray",onClick:function onClick(){return skip()}});var _Modal$instance$state=_modal2.default.instance.state,onShow=_Modal$instance$state.onShow,onHide=_Modal$instance$state.onHide;_modal2.default.show("ModalAlert",{title:"录音错误提示",buttons:buttons,width:400,component:_react2.default.createElement(_tiUi.View,{style:{alignItems:"center",justifyContent:"center"}},_react2.default.createElement(_tiUi.Image,{src:__webpack_require__(788),style:{width:"80px",margin:"20px 0 30px"}}),1===key&&_react2.default.createElement("span",{className:(0,_aphrodite.css)(_styles2.default.text1)},"因Safari浏览器录音权限限制，如果要继续录音，",_react2.default.createElement("br",null),"请手动刷新页面（建议使用Chrome浏览器）",_react2.default.createElement("br",null)),0===key&&_react2.default.createElement("span",{className:(0,_aphrodite.css)(_styles2.default.text)},"1.请检查浏览器是否允许使用麦克风权限；",_react2.default.createElement("br",null),"2.请在修改该权限后，刷新页面。"))},onShow,onHide)}}]),Recorder}(_react.Component);exports.default=Recorder,Recorder.__docgenInfo={description:"",methods:[{name:"init",docblock:null,modifiers:["static"],params:[],returns:null},{name:"start",docblock:null,modifiers:["static"],params:[{name:"{ mode, skip, callback = () => {} }",type:null}],returns:null},{name:"pause",docblock:null,modifiers:["static"],params:[],returns:null},{name:"resume",docblock:null,modifiers:["static"],params:[],returns:null},{name:"stop",docblock:null,modifiers:["static","async"],params:[],returns:null},{name:"destroy",docblock:null,modifiers:["static"],params:[],returns:null},{name:"onError",docblock:null,modifiers:["static"],params:[{name:"{ mode, skip, key = 0 }",type:null}],returns:null}],displayName:"Recorder"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/recorder/index.js"]={name:"Recorder",docgenInfo:Recorder.__docgenInfo,path:"src/recorder/index.js"})}).call(this,__webpack_require__(3))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf2=_interopRequireDefault(__webpack_require__(9)),_assign2=_interopRequireDefault(__webpack_require__(58)),_classCallCheck3=_interopRequireDefault(__webpack_require__(4)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(7)),_createClass3=_interopRequireDefault(__webpack_require__(5)),_inherits3=_interopRequireDefault(__webpack_require__(8)),_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_lodash=__webpack_require__(13),_uuid2=_interopRequireDefault(__webpack_require__(139)),_tiUi=__webpack_require__(10),_alert2=_interopRequireDefault(__webpack_require__(850)),_correct2=_interopRequireDefault(__webpack_require__(852)),_preview2=_interopRequireDefault(__webpack_require__(861)),_analysis2=_interopRequireDefault(__webpack_require__(863)),_user_grade2=_interopRequireDefault(__webpack_require__(870)),_styles2=_interopRequireDefault(__webpack_require__(872));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Modal=function(_Component){function Modal(props){(0,_classCallCheck3.default)(this,Modal);var _this=(0,_possibleConstructorReturn3.default)(this,(Modal.__proto__||(0,_getPrototypeOf2.default)(Modal)).call(this,props));return _this.state={modals:[],modalInstance:{ModalAlert:_alert2.default,ModalCorrect:_correct2.default,ModalPreview:_preview2.default,ModalAnalysis:_analysis2.default,ModalUserGrade:_user_grade2.default},onHide:null},_this}return(0,_inherits3.default)(Modal,_Component),(0,_createClass3.default)(Modal,null,[{key:"show",value:function show(){var type=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",props=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},onShow=arguments[2],onHide=arguments[3];if(this.instance&&this.instance.setState){var _instance$state=this.instance.state,modals=_instance$state.modals,modalInstance=_instance$state.modalInstance,id=_uuid2.default.v1();return this.instance.setState({modals:(0,_lodash.concat)(modals,{id:id,instance:modalInstance[type],props:(0,_assign2.default)({},{modalId:id},props)}),onHide:onHide||null}),onShow&&onShow(),id}}},{key:"hide",value:function hide(id){this.instance.hide(id)}}]),(0,_createClass3.default)(Modal,[{key:"hide",value:function hide(id){var _state=this.state,modals=_state.modals,onHide=_state.onHide,modal=(0,_lodash.find)(modals,function(item){return item.id===id}),newModals=(0,_lodash.filter)(modals,function(item){return item.id!==id});this.setState({modals:newModals}),modal.props.isReport||0!==newModals.length||onHide&&onHide()}},{key:"render",value:function render(){var _this2=this,modals=this.state.modals;return _react2.default.createElement(_tiUi.View,null,modals.map(function(modal){return _react2.default.createElement(_tiUi.View,{key:modal.id,className:_styles2.default.modal},_react2.default.createElement(_tiUi.View,{className:_styles2.default.front,style:modal.props.width?{width:modal.props.width}:{}},modal.props.hideHeader?_react2.default.createElement(_tiUi.Image,{className:_styles2.default.imageClose,src:__webpack_require__(338),onClick:function onClick(){return _this2.hide(modal.id)}}):_react2.default.createElement(_tiUi.View,{className:_styles2.default.header},_react2.default.createElement(_tiUi.View,{className:_styles2.default.title},modal.props.title),!modal.props.isUnhide&&_react2.default.createElement(_tiUi.Image,{className:_styles2.default.close,src:__webpack_require__(338),onClick:function onClick(){return _this2.hide(modal.id)}})),_react2.default.createElement(modal.instance,modal.props)),_react2.default.createElement(_tiUi.View,{className:_styles2.default.backdrop,onClick:modal.props.isUnhide?void 0:function(){return _this2.hide(modal.id)}}))}))}}]),Modal}(_react.Component);exports.default=Modal,Modal.__docgenInfo={description:"",methods:[{name:"show",docblock:null,modifiers:["static"],params:[{name:"type",type:null},{name:"props",type:null},{name:"onShow",type:null},{name:"onHide",type:null}],returns:null},{name:"hide",docblock:null,modifiers:["static"],params:[{name:"id",type:null}],returns:null},{name:"hide",docblock:null,modifiers:[],params:[{name:"id",type:null}],returns:null}],displayName:"Modal"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["show/modal/index.js"]={name:"Modal",docgenInfo:Modal.__docgenInfo,path:"show/modal/index.js"})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _assign2=_interopRequireDefault(__webpack_require__(58)),_getPrototypeOf2=_interopRequireDefault(__webpack_require__(9)),_classCallCheck3=_interopRequireDefault(__webpack_require__(4)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(7)),_createClass3=_interopRequireDefault(__webpack_require__(5)),_inherits3=_interopRequireDefault(__webpack_require__(8)),_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_howler=__webpack_require__(750),_tiUi=__webpack_require__(10);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var AudioPlayer=function(_Component){function AudioPlayer(props){(0,_classCallCheck3.default)(this,AudioPlayer);var _this=(0,_possibleConstructorReturn3.default)(this,(AudioPlayer.__proto__||(0,_getPrototypeOf2.default)(AudioPlayer)).call(this,props));return _this.state=(0,_assign2.default)({volume:1}),_this}return(0,_inherits3.default)(AudioPlayer,_Component),(0,_createClass3.default)(AudioPlayer,null,[{key:"play",value:function play(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.unload();var audioArr=Array.isArray(options.src)?options.src:[options.src];this.playAudios(audioArr,options)}},{key:"playAudios",value:function playAudios(audioArr,options){var _this2=this,volume=this.instance.state.volume;this.player=new _howler.Howl({src:audioArr,format:options.format?[options.format]:null,volume:volume}),this.player.play(),this.player.once("end",function(){if(audioArr.length>1)audioArr.shift();else if(1===audioArr.length)return _this2.unload(),options.onEnd&&options.onEnd(),!1;_this2.playAudios(audioArr,options)})}},{key:"resume",value:function resume(){this.player&&this.player.play()}},{key:"pause",value:function pause(){this.player&&this.player.pause()}},{key:"unload",value:function unload(){this.player&&(this.player.unload(),this.player=void 0)}},{key:"getStatus",value:function getStatus(){return{state:this.player.state(),volume:this.player.volume(),seek:parseInt(1e3*this.player.seek(),10),duration:parseInt(1e3*this.player.duration(),10)}}},{key:"setVolume",value:function setVolume(volume){this.instance.setState({volume:volume}),this.player&&this.player.volume(volume)}}]),(0,_createClass3.default)(AudioPlayer,[{key:"render",value:function render(){return _react2.default.createElement(_tiUi.View,null)}}]),AudioPlayer}(_react.Component);AudioPlayer.instance={state:{volume:null}},exports.default=AudioPlayer,AudioPlayer.__docgenInfo={description:"",methods:[{name:"play",docblock:null,modifiers:["static"],params:[{name:"options",type:null}],returns:null},{name:"playAudios",docblock:null,modifiers:["static"],params:[{name:"audioArr",type:null},{name:"options",type:null}],returns:null},{name:"resume",docblock:null,modifiers:["static"],params:[],returns:null},{name:"pause",docblock:null,modifiers:["static"],params:[],returns:null},{name:"unload",docblock:null,modifiers:["static"],params:[],returns:null},{name:"getStatus",docblock:null,modifiers:["static"],params:[],returns:null},{name:"setVolume",docblock:null,modifiers:["static"],params:[{name:"volume",type:null}],returns:null}],displayName:"AudioPlayer"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/audio_player/index.js"]={name:"AudioPlayer",docgenInfo:AudioPlayer.__docgenInfo,path:"src/audio_player/index.js"})},,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _extends3=_interopRequireDefault(__webpack_require__(11)),_getPrototypeOf2=_interopRequireDefault(__webpack_require__(9)),_classCallCheck3=_interopRequireDefault(__webpack_require__(4)),_createClass3=_interopRequireDefault(__webpack_require__(5)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(7)),_inherits3=_interopRequireDefault(__webpack_require__(8)),_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_aphrodite=__webpack_require__(2),_propTypes2=_interopRequireDefault(__webpack_require__(0)),_reactRouter=__webpack_require__(340),_lodash=__webpack_require__(13),_utils=__webpack_require__(767),_block2=_interopRequireDefault(__webpack_require__(316)),_styles2=_interopRequireDefault(__webpack_require__(782));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Article=function(_Component){function Article(){return(0,_classCallCheck3.default)(this,Article),(0,_possibleConstructorReturn3.default)(this,(Article.__proto__||(0,_getPrototypeOf2.default)(Article)).apply(this,arguments))}return(0,_inherits3.default)(Article,_Component),(0,_createClass3.default)(Article,[{key:"componentDidMount",value:function componentDidMount(){var _this2=this;this.props.isReport||setTimeout(function(){_this2.anchor&&_this2.anchor.scrollIntoView({behavior:"smooth"})},50)}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps){var _this3=this;this.props.isReport||this.props.location&&this.props.location.pathname!==prevProps.location.pathname&&this.anchor&&setTimeout(function(){_this3.anchor.scrollIntoView({behavior:"smooth"})},50)}},{key:"render",value:function render(){var _this4=this,_props=this.props,material=_props.material,question=_props.question,isTextOnly=_props.isTextOnly,answer=_props.answer,isReport=_props.isReport,externalInitAnswer=_props.externalInitAnswer,qNum=_props.qNum,materialIds=_props.materialIds,answerRsult=_props.answerRsult,isIelts=_props.isIelts,paragraphClassName=_props.paragraphClassName,imgWidth=_props.imgWidth,pStyle=_props.pStyle,article=(0,_utils.normalizeArticle)(material,(0,_lodash.get)(question,"materials.0.reference"),(0,_lodash.isEmpty)(question)?"true":isTextOnly),props={};"Insert"===question.type&&(props.handleAnswer=this.props.handleAnswer,props.insertSentence=(0,_lodash.get)(question,"materials.0.insertSentence.paragraphs.0.text"));var initAnswer=0;return!(!Array.isArray(article.paragraphs)||0===article.paragraphs.length||1===article.paragraphs.length&&""===article.paragraphs[0].text)&&_react2.default.createElement("div",{className:(0,_aphrodite.css)(_styles2.default.container)},_react2.default.createElement("div",{ref:function ref(node){article.hasAnchor||isTextOnly||(_this4.anchor=node)}}),Array.isArray(article.paragraphs)&&article.paragraphs.map(function(p){var count=p.inlineMarkups.filter(function(item){return"InsertBlank"===item.type||"Insert"===item.type||"InsertLine"===item.type||"DragBlank"===item.type||"BlankTable"===item.type}).length;return initAnswer+=count,""!==p.text&&_react2.default.createElement(_block2.default,(0,_extends3.default)({key:p.id,p:p},props,{answer:isReport?(0,_lodash.get)(question,"materials.0.answer"):answer,isReport:isReport,initAnswer:-1===externalInitAnswer?initAnswer-count:externalInitAnswer+initAnswer-count,qNum:qNum,materialIds:materialIds,answerRsult:answerRsult,isIelts:isIelts,paragraphClassName:paragraphClassName,pStyle:pStyle,imgWidth:imgWidth}))}))}}]),Article}(_react.Component);Article.defaultProps={isTextOnly:!1,handleAnswer:function handleAnswer(){},question:{},answer:"",isReport:!1,qNum:["10"],externalInitAnswer:-1,handleQuestionSelect:function handleQuestionSelect(){},materialIds:[],answerRsult:[],paragraphClassName:void 0,pStyle:void 0,isIelts:!1,imgWidth:0},Article.propTypes={material:_propTypes2.default.object.isRequired,question:_propTypes2.default.object,isTextOnly:_propTypes2.default.bool,handleAnswer:_propTypes2.default.func,location:_propTypes2.default.object.isRequired,answer:_propTypes2.default.any,isReport:_propTypes2.default.bool,qNum:_propTypes2.default.array,externalInitAnswer:_propTypes2.default.number,handleQuestionSelect:_propTypes2.default.func,materialIds:_propTypes2.default.array,answerRsult:_propTypes2.default.array,paragraphClassName:_propTypes2.default.object,pStyle:_propTypes2.default.object,isIelts:_propTypes2.default.bool,imgWidth:_propTypes2.default.number},exports.default=(0,_reactRouter.withRouter)(Article),Article.__docgenInfo={description:"",methods:[],displayName:"Article",props:{isTextOnly:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},handleAnswer:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},question:{defaultValue:{value:"{}",computed:!1},type:{name:"object"},required:!1,description:""},answer:{defaultValue:{value:"''",computed:!1},type:{name:"any"},required:!1,description:""},isReport:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},qNum:{defaultValue:{value:"['10']",computed:!1},type:{name:"array"},required:!1,description:""},externalInitAnswer:{defaultValue:{value:"-1",computed:!1},type:{name:"number"},required:!1,description:""},handleQuestionSelect:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},materialIds:{defaultValue:{value:"[]",computed:!1},type:{name:"array"},required:!1,description:""},answerRsult:{defaultValue:{value:"[]",computed:!1},type:{name:"array"},required:!1,description:""},paragraphClassName:{defaultValue:{value:"undefined",computed:!0},type:{name:"object"},required:!1,description:""},pStyle:{defaultValue:{value:"undefined",computed:!0},type:{name:"object"},required:!1,description:""},isIelts:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},imgWidth:{defaultValue:{value:"0",computed:!1},type:{name:"number"},required:!1,description:""},material:{type:{name:"object"},required:!0,description:""},location:{type:{name:"object"},required:!0,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/article/index.js"]={name:"Article",docgenInfo:Article.__docgenInfo,path:"src/article/index.js"})},,function(module,exports,__webpack_require__){"use strict";(function(global){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf2=_interopRequireDefault(__webpack_require__(9)),_classCallCheck3=_interopRequireDefault(__webpack_require__(4)),_createClass3=_interopRequireDefault(__webpack_require__(5)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(7)),_inherits3=_interopRequireDefault(__webpack_require__(8)),_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_tiUi=__webpack_require__(10),_propTypes2=_interopRequireDefault(__webpack_require__(0)),_styles2=_interopRequireDefault(__webpack_require__(796));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Calculator=function(_Component){function Calculator(props){(0,_classCallCheck3.default)(this,Calculator);var _this=(0,_possibleConstructorReturn3.default)(this,(Calculator.__proto__||(0,_getPrototypeOf2.default)(Calculator)).call(this,props));return _this.state={pageX:"50%",pageY:"80px",diffX:"",diffY:"",moving:!1,isclosed:!1},_this.getPosition=_this.getPosition.bind(_this),_this.onMouseDown=_this.onMouseDown.bind(_this),_this.onMouseUp=_this.onMouseUp.bind(_this),_this.onMouseMove=_this.onMouseMove.bind(_this),_this}return(0,_inherits3.default)(Calculator,_Component),(0,_createClass3.default)(Calculator,[{key:"getPosition",value:function getPosition(e){var X=e.target.getBoundingClientRect().left,Y=global.document.getElementById("group").offsetTop,mouseX=e.pageX,mouseY=e.screenY;return{X:X,Y:Y,mouseX:mouseX,mouseY:mouseY,diffX:mouseX-X,diffY:mouseY-Y}}},{key:"onMouseDown",value:function onMouseDown(e){var position=this.getPosition(e);global.window.onmousemove=this.onMouseMove,global.window.onmouseup=this.onMouseUp,this.setState({moving:!0,diffX:position.diffX,diffY:position.diffY})}},{key:"onMouseUp",value:function onMouseUp(){this.state.moving&&this.setState({moving:!1})}},{key:"onMouseMove",value:function onMouseMove(e){var _state=this.state,moving=_state.moving,diffX=_state.diffX,diffY=_state.diffY;if(moving){var position=this.getPosition(e),x=position.mouseX-diffX,y=position.mouseY-diffY,_global$document$docu=global.document.documentElement,clientWidth=_global$document$docu.clientWidth,clientHeight=_global$document$docu.clientHeight,modal=global.document.getElementById("group");if(modal){var maxHeight=clientHeight-modal.offsetHeight,maxWidth=clientWidth-modal.offsetWidth,left=x>0?x<maxWidth?x:maxWidth:0,top=y>0?y<maxHeight?y:maxHeight:0;this.setState({pageX:left,pageY:top})}}}},{key:"handleCancel",value:function handleCancel(){this.props.destroy(),this.setState({isclosed:!0})}},{key:"render",value:function render(){var _this2=this,_state2=this.state,pageX=_state2.pageX,pageY=_state2.pageY,isclosed=_state2.isclosed,_props=this.props,showTitle=_props.showTitle,title=_props.title;return _react2.default.createElement(_tiUi.View,{id:"group",className:[_styles2.default.group,isclosed&&_styles2.default.group1],style:{left:pageX,top:pageY}},showTitle&&_react2.default.createElement(_tiUi.View,{className:_styles2.default.group_head,onMouseDown:this.onMouseDown},_react2.default.createElement(_tiUi.Image,{className:_styles2.default.group_head_close,src:__webpack_require__(797),onClick:function onClick(){return _this2.handleCancel()}}),title),_react2.default.createElement(_tiUi.View,{className:_styles2.default.group_body},this.props.children))}}]),Calculator}(_react.Component);Calculator.defaultProps={destroy:function destroy(){},showTitle:!0,title:""},Calculator.propTypes={destroy:_propTypes2.default.func,showTitle:_propTypes2.default.bool,title:_propTypes2.default.string},exports.default=Calculator,Calculator.__docgenInfo={description:"拖拽效果\n目前主要应用于 GRE计算器中",methods:[{name:"getPosition",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onMouseDown",docblock:"鼠标按下，设置modal状态为可移动，并注册鼠标移动事件\n计算鼠标按下时，指针所在位置与modal位置以及两者的差值",modifiers:[],params:[{name:"e"}],returns:null,description:"鼠标按下，设置modal状态为可移动，并注册鼠标移动事件\n计算鼠标按下时，指针所在位置与modal位置以及两者的差值"},{name:"onMouseUp",docblock:null,modifiers:[],params:[],returns:null},{name:"onMouseMove",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"handleCancel",docblock:"关闭窗口，清除组件",modifiers:[],params:[],returns:null,description:"关闭窗口，清除组件"}],displayName:"Calculator",props:{destroy:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},showTitle:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:""},title:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/drag/index.js"]={name:"Calculator",docgenInfo:Calculator.__docgenInfo,path:"src/drag/index.js"})}).call(this,__webpack_require__(3))},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/blue2.d38ede5c.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/loading.a92a7a35.png"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _extends3=_interopRequireDefault(__webpack_require__(11)),_toConsumableArray3=_interopRequireDefault(__webpack_require__(191)),_assign2=_interopRequireDefault(__webpack_require__(58)),_getPrototypeOf2=_interopRequireDefault(__webpack_require__(9)),_classCallCheck3=_interopRequireDefault(__webpack_require__(4)),_createClass3=_interopRequireDefault(__webpack_require__(5)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(7)),_inherits3=_interopRequireDefault(__webpack_require__(8)),_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_propTypes2=_interopRequireDefault(__webpack_require__(0)),_reactDom2=_interopRequireDefault(__webpack_require__(69)),_tiUi=__webpack_require__(10),_aphrodite=__webpack_require__(2),_uuid2=_interopRequireDefault(__webpack_require__(139)),_lodash=__webpack_require__(13),_audio2=_interopRequireDefault(__webpack_require__(299)),_utils=__webpack_require__(709),_styles2=_interopRequireDefault(__webpack_require__(710));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Block=function(_Component){function Block(){var _ref,_temp,_this,_ret;(0,_classCallCheck3.default)(this,Block);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _temp=_this=(0,_possibleConstructorReturn3.default)(this,(_ref=Block.__proto__||(0,_getPrototypeOf2.default)(Block)).call.apply(_ref,[this].concat(args))),_this.renderInline=function(){var _this$props=_this.props,p=_this$props.p,insertSentence=_this$props.insertSentence,hasAction=_this$props.hasAction,handleAnswer=_this$props.handleAnswer,initAnswer=_this$props.initAnswer,answer=_this$props.answer,isReport=_this$props.isReport,qNum=_this$props.qNum,materialIds=_this$props.materialIds,answerRsult=_this$props.answerRsult,isIelts=_this$props.isIelts;if(Array.isArray(p.inlineMarkups)&&p.inlineMarkups.length){for(var spans=[],insertLineIndex=0,inlineMarkups=(0,_lodash.sortBy)(p.inlineMarkups,"index").map(function(markup,index){var answerIndex="Insert"===markup.type||"InsertLine"===markup.type||"InsertBlank"===markup.type||"DragBlank"===markup.type||"BlankTable"===markup.type?insertLineIndex+initAnswer:index;return"Insert"!==markup.type&&"InsertLine"!==markup.type&&"InsertBlank"!==markup.type&&"DragBlank"!==markup.type&&"BlankTable"!==markup.type||(insertLineIndex+=1),(0,_assign2.default)({},markup,{answerIndex:answerIndex})}),start=0,cntAnswer=initAnswer,_loop=function _loop(){var markup=inlineMarkups.shift();if(console.log("markup:",markup),markup.index!==start){if(""!==p.text.substring(start,markup.index)){var text=p.text.substring(start,markup.index);spans.push(_this.handleCenter(text))}start=markup.index}var markupText=p.text.substr(start,markup.length);if("Insert"===markup.type){var _onClick=function _onClick(markup){isReport||hasAction&&handleAnswer([markup.answerIndex])};"right"===markup.value&&spans.push(_react2.default.createElement("span",{key:start+"-insert"},_this.handleCenter(markupText)," ")),(0,_lodash.get)(answer,"0")===cntAnswer?(spans.push(_react2.default.createElement("span",{key:start+"-head"}," ")),spans.push(_react2.default.createElement("span",{key:start,className:(0,_aphrodite.css)(_styles2.default.inlineHighlight),onClick:function onClick(){return _onClick(markup)}},insertSentence)),spans.push(_react2.default.createElement("span",{key:start+"-tail"}," "))):spans.push(_react2.default.createElement("span",{key:start,className:(0,_aphrodite.css)(_styles2.default["inline"+markup.type]),onClick:function onClick(){return _onClick(markup)}})),"left"===markup.value&&spans.push(_react2.default.createElement("span",{key:start+"-insert"}," ",_this.handleCenter(markupText))),cntAnswer+=1}else if("InsertLine"===markup.type){var defaultAnswer="";answer&&!isReport&&(defaultAnswer=answer[markup.answerIndex]||""),spans.push(_react2.default.createElement("span",{key:start},_this.handleCenter(markupText),_react2.default.createElement(_tiUi.Input,{readOnly:isReport,className:_styles2.default[markup.value+"Line"],onChange:function onChange(e){return handleAnswer(e,markup.answerIndex)},value:defaultAnswer,placeholder:defaultAnswer})))}else if("Formula"===markup.type)spans.push(_react2.default.createElement("span",{key:start},_react2.default.createElement("img",{className:(0,_aphrodite.css)(_styles2.default.kfformula),src:""+markup.value})));else if("InsertBlank"===markup.type||"BlankTable"===markup.type||"DragBlank"===markup.type){var _defaultAnswer="",className=void 0;answer&&!isReport&&(_defaultAnswer=answer[markup.answerIndex]||""),isReport&&isIelts?(_defaultAnswer=(0,_lodash.get)(answerRsult,markup.answerIndex+".userAnswer")||"",className=(0,_lodash.get)(answerRsult,markup.answerIndex+".isCorrect")?_styles2.default.correct:_styles2.default.error):className=_styles2.default.insertBlank,spans.push(_react2.default.createElement("span",{key:start,className:(0,_aphrodite.css)(_styles2.default.ieltsBlank)},_this.handleCenter(markupText),_react2.default.createElement("input",{ref:(0,_lodash.get)(materialIds,""+markup.answerIndex)&&(0,_lodash.get)(materialIds,""+markup.answerIndex).toString(),readOnly:isReport,className:(0,_aphrodite.css)(className),onChange:function onChange(e){if(isReport)return!1;isIelts?handleAnswer(e.target.value,markup.answerIndex,materialIds[markup.answerIndex],!1):handleAnswer(e,markup.answerIndex)},onBlur:function onBlur(e){if(isReport)return!1;if(isIelts){(/^(\s)*$/g.test(_defaultAnswer)||null===_defaultAnswer)&&(e.target.placeholder=qNum[markup.answerIndex]&&qNum[markup.answerIndex].toString()),handleAnswer(e.target.value,markup.answerIndex,materialIds[markup.answerIndex])}else handleAnswer(e,markup.answerIndex)},value:_defaultAnswer,placeholder:isIelts?qNum[markup.answerIndex]&&qNum[markup.answerIndex].toString():_defaultAnswer,id:isIelts?(0,_lodash.get)(materialIds,""+markup.answerIndex)&&(0,_lodash.get)(materialIds,""+markup.answerIndex).toString():"",onFocus:function onFocus(e){if(isReport)return!1;isIelts&&(e.target.placeholder="",_this.props.handleQuestionSelect(materialIds[markup.answerIndex]))}})))}else"Arrow"===markup.type?"right"===markup.value?spans.push(_react2.default.createElement("span",{key:""+start},_this.handleCenter(markupText),_react2.default.createElement("span",{className:(0,_aphrodite.css)(_styles2.default.blockArrowBlank)}))):"left"===markup.value&&spans.push(_react2.default.createElement("span",{key:""+start},_react2.default.createElement("span",{className:(0,_aphrodite.css)(_styles2.default.blockArrowBlank)}),_this.handleCenter(markupText))):spans.push(_react2.default.createElement("span",{key:start,className:(0,_aphrodite.css)("FontSize"===markup.type?_styles2.default["inline"+markup.type+(0,_lodash.capitalize)(markup.value)]:_styles2.default["inline"+markup.type+(markup.value?(0,_lodash.capitalize)(markup.value):"")])},_this.handleCenter(markupText)));start+=markup.length};inlineMarkups.length;)_loop();return inlineMarkups.length||""!==p.text.substr(start)&&spans.push(_this.handleCenter(p.text.substr(start))),_react2.default.createElement("p",{className:_this.props.pStyle?(0,_aphrodite.css)(_this.props.pStyle):(0,_aphrodite.css)(_styles2.default.block)},spans," ")}return _react2.default.createElement("p",{className:_this.props.pStyle?(0,_aphrodite.css)(_this.props.pStyle):(0,_aphrodite.css)(_styles2.default.block)},p.text)},_this.renderOrigin=function(){var p=_this.props.p;if(Array.isArray(p.markups)&&p.markups.length)return p.markups.map(function(item,index){var type=(0,_utils.firstUpperCase)(item.type);return"Audio"===type?_react2.default.createElement("div",{key:index,className:_this.props.pStyle?(0,_aphrodite.css)(_this.props.pStyle):(0,_aphrodite.css)(_styles2.default.block)},_react2.default.createElement(_audio2.default,{src:item.uploadPath})):"Image"===type&&_react2.default.createElement("div",{key:index,className:_this.props.pStyle?(0,_aphrodite.css)(_this.props.pStyle):(0,_aphrodite.css)(_styles2.default.block),style:{textAlign:"center"}},_react2.default.createElement(_tiUi.Image,{src:item.uploadPath,style:_this.props.imgWidth?{width:_this.props.imgWidth+"px"}:{width:"100%"}}))})},_this.handleCenter=function(text){if(-1===text.indexOf("↵"))return text;var spans=text.split("↵");return spans.map(function(span,index){return _react2.default.createElement("p",{key:_uuid2.default.v1(),className:(0,_aphrodite.css)(_styles2.default.center)},span,index!==spans.length-1&&_react2.default.createElement("span",null))})},_ret=_temp,(0,_possibleConstructorReturn3.default)(_this,_ret)}return(0,_inherits3.default)(Block,_Component),(0,_createClass3.default)(Block,[{key:"componentDidMount",value:function componentDidMount(){if(this.anchor){var anchorElement=_reactDom2.default.findDOMNode(this.anchor);setTimeout(function(){anchorElement.scrollIntoView({block:"start",behavior:"smooth"})},100)}}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps){if(this.props.location&&this.props.location.pathname!==prevProps.location.pathname&&this.anchor){var anchorElement=_reactDom2.default.findDOMNode(this.anchor);setTimeout(function(){anchorElement.scrollIntoView({block:"start",behavior:"smooth"})},100)}}},{key:"render",value:function render(){var _this2=this,_props=this.props,p=_props.p,paragraphClassName=_props.paragraphClassName,props={};return p.anchor&&(props.ref=function(node){_this2.anchor=node}),_react2.default.createElement(_tiUi.View,(0,_extends3.default)({className:[_styles2.default.paragraph,paragraphClassName].concat((0,_toConsumableArray3.default)(p.markups.map(function(markup){return"Align"===markup.type?_styles2.default["block"+markup.type+(0,_lodash.capitalize)(markup.value)]:_styles2.default["block"+markup.type]})))},props),this.renderInline(),p.markups&&p.markups.length>0&&this.renderOrigin())}}]),Block}(_react.Component);Block.defaultProps={initAnswer:0,insertSentence:"",hasAction:!0,handleAnswer:function handleAnswer(){},answer:[],qNum:["10"],externalInitAnswer:-1,handleQuestionSelect:function handleQuestionSelect(){},materialIds:[],answerRsult:[],isReport:!1,paragraphClassName:void 0,pStyle:void 0,isIelts:!1,location:void 0,imgWidth:0},Block.propTypes={p:_propTypes2.default.object.isRequired,location:_propTypes2.default.object,initAnswer:_propTypes2.default.number,handleAnswer:_propTypes2.default.func,insertSentence:_propTypes2.default.string,hasAction:_propTypes2.default.bool,answer:_propTypes2.default.any,qNum:_propTypes2.default.array,externalInitAnswer:_propTypes2.default.number,handleQuestionSelect:_propTypes2.default.func,answerRsult:_propTypes2.default.array,materialIds:_propTypes2.default.array,isReport:_propTypes2.default.bool,paragraphClassName:_propTypes2.default.object,pStyle:_propTypes2.default.object,isIelts:_propTypes2.default.bool,imgWidth:_propTypes2.default.number},exports.default=Block,Block.__docgenInfo={description:"",methods:[{name:"renderInline",docblock:null,modifiers:[],params:[],returns:null},{name:"renderOrigin",docblock:null,modifiers:[],params:[],returns:null},{name:"handleCenter",docblock:null,modifiers:[],params:[{name:"text",type:null}],returns:null}],displayName:"Block",props:{initAnswer:{defaultValue:{value:"0",computed:!1},type:{name:"number"},required:!1,description:"初始答案"},insertSentence:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:"托福插入题 插入的句子"},hasAction:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:"是否有段落定位"},handleAnswer:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:"用户作答之后的回调函数"},answer:{defaultValue:{value:"[]",computed:!1},type:{name:"any"},required:!1,description:"用于报告页的答案显示"},qNum:{defaultValue:{value:"['10']",computed:!1},type:{name:"array"},required:!1,description:"需要显示的子题题号"},externalInitAnswer:{defaultValue:{value:"-1",computed:!1},type:{name:"number"},required:!1,description:"外部累计InsertBlank数量"},handleQuestionSelect:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:"处理子题选中"},materialIds:{defaultValue:{value:"[]",computed:!1},type:{name:"array"},required:!1,description:"雅思填空题 && 拖拽题  用来定位"},answerRsult:{defaultValue:{value:"[]",computed:!1},type:{name:"array"},required:!1,description:"答案集合"},isReport:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:"是否是报告页"},paragraphClassName:{defaultValue:{value:"undefined",computed:!0},type:{name:"object"},required:!1,description:"外部传进来的段落样式"},pStyle:{defaultValue:{value:"undefined",computed:!0},type:{name:"object"},required:!1,description:"专门用来设置段落间距"},isIelts:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:"是否是雅思题库"},location:{defaultValue:{value:"undefined",computed:!0},type:{name:"object"},required:!1,description:"包含有关当前 URL 的信息的对象"},imgWidth:{defaultValue:{value:"0",computed:!1},type:{name:"number"},required:!1,description:"图片宽度"},p:{type:{name:"object"},required:!0,description:"block组件处理的段落"}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["show/block/index.js"]={name:"Block",docgenInfo:Block.__docgenInfo,path:"show/block/index.js"})},,,,function(module,exports,__webpack_require__){"use strict";(function(global){Object.defineProperty(exports,"__esModule",{value:!0}),exports.Player=void 0;var _typeof3=_interopRequireDefault(__webpack_require__(42)),_getPrototypeOf2=_interopRequireDefault(__webpack_require__(9)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(7)),_inherits3=_interopRequireDefault(__webpack_require__(8)),_classCallCheck3=_interopRequireDefault(__webpack_require__(4)),_createClass3=_interopRequireDefault(__webpack_require__(5)),_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_reactDom2=_interopRequireDefault(__webpack_require__(69)),_propTypes2=_interopRequireDefault(__webpack_require__(0)),_tiUi=__webpack_require__(10),_lodash=__webpack_require__(13),_article2=_interopRequireDefault(__webpack_require__(138)),_utils2=_interopRequireDefault(__webpack_require__(698)),_styles2=_interopRequireDefault(__webpack_require__(701));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var audioContainer=[],Audio=(exports.Player=function(){function Player(){(0,_classCallCheck3.default)(this,Player),this.player=null}return(0,_createClass3.default)(Player,[{key:"play",value:function play(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.player=new global.window.Audio(options.src),this.player.onended=options.onended,this.player.onpause=options.onpause,audioContainer.forEach(function(audio){audio.pause()}),audioContainer.push(this.player),this.player.play()}},{key:"stop",value:function stop(){var _this=this;(0,_lodash.remove)(audioContainer,function(audio){return audio===_this.player}),this.player.onpause=null,this.player.onended=null,this.player.src="",this.player=null}}]),Player}(),function(_Component){function Audio(props){(0,_classCallCheck3.default)(this,Audio);var _this2=(0,_possibleConstructorReturn3.default)(this,(Audio.__proto__||(0,_getPrototypeOf2.default)(Audio)).call(this,props));return _this2.onTouchStart=function(e){console.log(e,"start")},_this2.onTouchMove=function(e){console.log(e,"move")},_this2.onTouchEnd=function(e){console.log(e,"end")},_this2.setAudio=function(src){var newSrc=-1===src.indexOf("//")?_this2.props.cdnUrl+"/"+src:src;if(!src)return _this2.setState({show:!1,isload:!0}),!1;_this2.audio=new global.window.Audio(newSrc),_this2.audio.onplaying=_this2.handlePlay,_this2.audio.onpause=_this2.handlePause,_this2.audio.onended=_this2.handleEnded,_this2.audio.onerror=_this2.handleError,_this2.handleClickProgress=_this2.handleClickProgress,_this2.audio.onloadedmetadata=_this2.handleLoadedmetadata,_this2.audio.onloadedmetadata=_this2.handleLoadedmetadata,_this2.audio.ontimeupdate=_this2.handleTimeupdate,_this2.setState({playing:!1,duration:0,currtime:"00:00",progress:0,show:!1,isload:!0}),audioContainer.push(_this2.audio)},_this2.setWidth=function(){if(!_this2.props.showPlayer)return!1;var element=_reactDom2.default.findDOMNode(_this2.container);setTimeout(function(){if(element.parentElement&&element.parentElement.offsetWidth){var width=_this2.props.materialType?element.offsetWidth-260:element.offsetWidth-162;_this2.setState({width:width})}},100)},_this2.handleText=function(text){var mdRet=void 0;if("object"===(void 0===text?"undefined":(0,_typeof3.default)(text))){var isSpecialText=(0,_lodash.get)(text,"paragraphs.0.text")&&(0,_lodash.get)(text,"paragraphs.0.text").indexOf("}}");if(isSpecialText&&-1!==isSpecialText){for(var parser=new _utils2.default,i=0;i<text.paragraphs.length;i+=1)mdRet+=text.paragraphs[i].text;mdRet=parser.parse(mdRet,!1)}else mdRet=text}else if("string"==typeof text){var _isSpecialText=text.indexOf("}}");if(_isSpecialText&&-1!==_isSpecialText)mdRet=(new _utils2.default).parse(text,!1);else mdRet=text}_this2.setState({text:mdRet||_this2.state.text})},_this2.handleLoadedmetadata=function(){_this2.setState({isload:!1,duration:_this2.audio?_this2.audio.duration:45})},_this2.handleTimeupdate=function(){var duration=_this2.state.duration;if(_this2.audio&&_this2.audio.currentTime){var currentTime=_this2.timeFormat(_this2.audio.currentTime.toFixed(0));_this2.setState({currtime:currentTime,progress:_this2.audio.currentTime/duration*100})}},_this2.handlePlay=function(){_this2.setState({playing:!0})},_this2.handlePause=function(){_this2.setState({playing:!1})},_this2.handleEnded=function(){_this2.setState({playing:!1,progress:0,currtime:"00:00",isFirst:!1})},_this2.handleClickPlay=function(){_this2.state.playing?_this2.audio.pause():(audioContainer.forEach(function(audio){audio.pause()}),_this2.audio.play())},_this2.handleClickProgress=function(e){var _this2$state=_this2.state,duration=_this2$state.duration,width=_this2$state.width;_this2.audio.currentTime=e.nativeEvent.offsetX/width*duration},_this2.handleError=function(){_this2.isTry<2&&(setTimeout(function(){if(!_this2.audio)return!1;var oldSrc=_this2.audio.src;(0,_lodash.remove)(audioContainer,function(audio){return audio===_this2.audio}),_this2.audio=null,_this2.setAudio(oldSrc)},2e3),_this2.isTry+=1)},_this2.handleShow=function(){var _this2$state2=_this2.state,materialType=_this2$state2.materialType,text=_this2$state2.text;return!!("listenTranslation"!==materialType||Array.isArray(text)&&text[0].translation)&&(!("exampleOriginal"===materialType&&(!text||Array.isArray(text.paragraphs)&&0===text.paragraphs.length))&&void _this2.setState({show:!_this2.state.show}))},_this2.state={width:props.text||props.materialType?250:338,text:"",materialType:props.materialType,playing:!1,duration:0,currtime:"00:00",progress:0,show:!1,isload:!0,isFirst:!0,isTest:global.location.pathname.match(/\/([^\/]*)\//)&&"test"===global.location.pathname.match(/\/([^\/]*)\//)[1]},_this2.audio=null,_this2.isTry=0,_this2}return(0,_inherits3.default)(Audio,_Component),(0,_createClass3.default)(Audio,[{key:"componentDidMount",value:function componentDidMount(){this.setWidth()}},{key:"componentWillMount",value:function componentWillMount(){this.setAudio(this.props.src),this.handleText(this.props.text)}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(nextProps){var _this3=this;if(this.props.src===nextProps.src)return!1;this.audio&&((0,_lodash.remove)(audioContainer,function(audio){return audio===_this3.audio}),this.audio.onloadedmetadata=null,this.audio.ontimeupdate=null,this.audio.onplaying=null,this.audio.onpause=null,this.audio.onended=null,this.audio.onerror=null,this.audio.src="",this.audio=null,this.setAudio(nextProps.src),this.handleText(nextProps.text),this.setWidth())}},{key:"componentWillUnmount",value:function componentWillUnmount(){var _this4=this;this.audio&&((0,_lodash.remove)(audioContainer,function(audio){return audio===_this4.audio}),this.audio.onloadedmetadata=null,this.audio.ontimeupdate=null,this.audio.onplaying=null,this.audio.onpause=null,this.audio.onended=null,this.audio.onerror=null,this.audio.src="",this.audio=null)}},{key:"generateAudio",value:function generateAudio(){var _this5=this,_state=this.state,playing=_state.playing,progress=_state.progress,duration=_state.duration,currtime=_state.currtime,width=_state.width,isload=_state.isload,isFirst=_state.isFirst,isTest=_state.isTest,playClass=[_styles2.default.default];playing?playClass.push(_styles2.default.pause):playClass.push(_styles2.default.play);var blueWidth=width*progress/100,closeAudio=!1===isFirst&&isTest;return _react2.default.createElement(_tiUi.View,{className:_styles2.default.audioBox},_react2.default.createElement(_tiUi.View,{className:playClass,onClick:function onClick(){closeAudio||_this5.handleClickPlay()},style:{opacity:closeAudio?"0.5":"1"}}),_react2.default.createElement(_tiUi.View,null,currtime),_react2.default.createElement(_tiUi.View,{className:_styles2.default.progressBox,style:{width:width+"px"}},_react2.default.createElement(_tiUi.View,{className:_styles2.default.progress,onClick:function onClick(e){closeAudio||_this5.handleClickProgress(e)}},_react2.default.createElement(_tiUi.View,{className:_styles2.default.blueProgress,style:{width:blueWidth+"px"}})),_react2.default.createElement(_tiUi.View,{className:_styles2.default.dot,style:{left:blueWidth-6+"px"},onTouchStart:function onTouchStart(){closeAudio||_this5.onTouchStart()},onTouchMove:function onTouchMove(){closeAudio||_this5.onTouchMove()},onTouchEnd:function onTouchEnd(){closeAudio||_this5.onTouchEnd()}})),_react2.default.createElement(_tiUi.View,null,duration.toFixed(0)>0?this.timeFormat(duration.toFixed(0)):this.timeFormat(1)),isload&&_react2.default.createElement(_tiUi.View,{className:_styles2.default.mask},_react2.default.createElement(_tiUi.View,{className:_styles2.default.spot}),_react2.default.createElement(_tiUi.View,{className:_styles2.default.spot}),_react2.default.createElement(_tiUi.View,{className:_styles2.default.spot})))}},{key:"generateEmptyAudio",value:function generateEmptyAudio(){return _react2.default.createElement(_tiUi.View,{className:_styles2.default.audioBox},_react2.default.createElement(_tiUi.View,{className:[_styles2.default.default,_styles2.default.gray]}),_react2.default.createElement(_tiUi.View,{className:_styles2.default.color878F98},"暂无范例音频"),_react2.default.createElement(_tiUi.View,{className:_styles2.default.progressBox,style:{width:"203px"}},_react2.default.createElement(_tiUi.View,{className:_styles2.default.progress})),_react2.default.createElement(_tiUi.View,{className:_styles2.default.color878F98},"00:00"))}},{key:"generateListeningText",value:function generateListeningText(){var _state2=this.state,text=_state2.text,show=_state2.show;return Array.isArray(text)?_react2.default.createElement(_tiUi.View,null,text.map(function(item,index){return _react2.default.createElement(_tiUi.View,{className:_styles2.default.raw,key:index},_react2.default.createElement(_tiUi.View,{className:_styles2.default.rawText},item.raw),show&&item.translation&&_react2.default.createElement(_tiUi.View,{className:_styles2.default.rawText},item.translation))})):"string"==typeof text?_react2.default.createElement(_tiUi.View,{style:{paddingBottom:"18px"},dangerouslySetInnerHTML:{__html:text.replace(/\n/g,"<br/>")}}):_react2.default.createElement(_article2.default,{material:text,isReport:!0})}},{key:"timeFormat",value:function timeFormat(times){var day=0,hour=0,minute=0,seconds=0,newTimes=times;return newTimes>0&&(day=Math.floor(times/86400),hour=Math.floor(times/3600)-24*day,minute=Math.floor(times/60)-24*day*60-60*hour,seconds=Math.floor(times)-24*day*60*60-60*hour*60-60*minute),minute<=9&&(minute="0"+minute),seconds<=9&&(seconds="0"+seconds),newTimes=minute+":"+seconds}},{key:"render",value:function render(){var _this6=this,_state3=this.state,playing=_state3.playing,show=_state3.show,text=_state3.text,_props=this.props,showPlayer=_props.showPlayer,materialType=_props.materialType;if(!showPlayer)return!1;var playClass=[_styles2.default.default];return playing?playClass.push(_styles2.default.pause):playClass.push(_styles2.default.play),_react2.default.createElement(_tiUi.View,{className:_styles2.default.container,ref:function ref(node){_this6.container=node}},_react2.default.createElement(_tiUi.View,{className:_styles2.default.content},this.audio?this.generateAudio():this.generateEmptyAudio(),_react2.default.createElement(_tiUi.View,{className:_styles2.default.textStatus},"exampleOriginal"===materialType&&_react2.default.createElement(_tiUi.View,{className:[_styles2.default.showArrow,show&&_styles2.default.arrowRotate,(!text||Array.isArray(text.paragraphs)&&0===text.paragraphs.length)&&_styles2.default.arrowGray],onClick:this.handleShow}),"exampleOriginal"===materialType&&_react2.default.createElement(_tiUi.View,{className:[_styles2.default.showText,(!text||Array.isArray(text.paragraphs)&&0===text.paragraphs.length)&&_styles2.default.textGray],onClick:this.handleShow},show?"收起原文":"显示原文"),"listenTranslation"===materialType&&_react2.default.createElement(_tiUi.View,{className:_styles2.default.lBox},_react2.default.createElement(_tiUi.View,{className:[_styles2.default.strip,show&&_styles2.default.stripActive],onClick:this.handleShow},_react2.default.createElement(_tiUi.View,{className:[_styles2.default.round,show&&_styles2.default.roundActive]})),_react2.default.createElement(_tiUi.View,{className:[_styles2.default.listeningBtn,(!Array.isArray(text)||!text[0].translation)&&_styles2.default.listeningBtnGray]},"显示译文")))),text&&show&&"exampleOriginal"===materialType&&_react2.default.createElement(_tiUi.View,{className:_styles2.default.textBox},this.generateListeningText()),text&&"listenTranslation"===materialType&&_react2.default.createElement(_tiUi.View,{className:_styles2.default.textContent},this.generateListeningText()),!text&&show&&"listenTranslation"===materialType&&_react2.default.createElement(_tiUi.View,{className:_styles2.default.articleEmpty},_react2.default.createElement(_tiUi.Image,{className:_styles2.default.empty,src:__webpack_require__(708)}),"暂无原文哦~"))}}]),Audio}(_react.Component));Audio.defaultProps={src:"",showPlayer:!0,cdnUrl:"https://media8.smartstudy.com",text:"",materialType:""},Audio.propTypes={src:_propTypes2.default.string,showPlayer:_propTypes2.default.bool,cdnUrl:_propTypes2.default.string,text:_propTypes2.default.any,materialType:_propTypes2.default.string},exports.default=Audio,Audio.__docgenInfo={description:"",methods:[{name:"generateAudio",docblock:null,modifiers:[],params:[],returns:null},{name:"generateEmptyAudio",docblock:null,modifiers:[],params:[],returns:null},{name:"generateListeningText",docblock:null,modifiers:[],params:[],returns:null},{name:"onTouchStart",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onTouchMove",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onTouchEnd",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"setAudio",docblock:null,modifiers:[],params:[{name:"src",type:null}],returns:null},{name:"setWidth",docblock:null,modifiers:[],params:[],returns:null},{name:"handleText",docblock:null,modifiers:[],params:[{name:"text",type:null}],returns:null},{name:"handleLoadedmetadata",docblock:null,modifiers:[],params:[],returns:null},{name:"handleTimeupdate",docblock:null,modifiers:[],params:[],returns:null},{name:"timeFormat",docblock:null,modifiers:[],params:[{name:"times",type:null}],returns:null},{name:"handlePlay",docblock:null,modifiers:[],params:[],returns:null},{name:"handlePause",docblock:null,modifiers:[],params:[],returns:null},{name:"handleEnded",docblock:null,modifiers:[],params:[],returns:null},{name:"handleClickPlay",docblock:null,modifiers:[],params:[],returns:null},{name:"handleClickProgress",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"handleError",docblock:null,modifiers:[],params:[],returns:null},{name:"handleShow",docblock:null,modifiers:[],params:[],returns:null}],displayName:"Audio",props:{src:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:"音频地址"},showPlayer:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:"是否显示播放器"},cdnUrl:{defaultValue:{value:"'https://media8.smartstudy.com'",computed:!1},type:{name:"string"},required:!1,description:"cdnUrl 线上与dev 有差别"},text:{defaultValue:{value:"''",computed:!1},type:{name:"any"},required:!1,description:"支持传入材料原文 和音频译文  支持时间码和富文本结构"},materialType:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:"传入的材料类型 目前支持 听力原文和范例音频 'listenTranslation', 'exampleOriginal'\n     想要支持查看音频对应的原文或者译文， 必须要传 materialType 字段"}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["show/audio/index.js"]={name:"Audio",docgenInfo:Audio.__docgenInfo,path:"show/audio/index.js"})}).call(this,__webpack_require__(3))},,,,,,,,,,,,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/sound.e4544db1.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/checkbox-checked.57bd2eb9.png"},function(module,exports,__webpack_require__){"use strict";(function(global){Object.defineProperty(exports,"__esModule",{value:!0});exports.getBodyWidth=function getBodyWidth(){return global.document.body.offsetWidth},exports.getBodyHeight=function getBodyHeight(){return global.document.body.offsetHeight}}).call(this,__webpack_require__(3))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _extends3=_interopRequireDefault(__webpack_require__(11)),_toConsumableArray3=_interopRequireDefault(__webpack_require__(191)),_assign2=_interopRequireDefault(__webpack_require__(58)),_getPrototypeOf2=_interopRequireDefault(__webpack_require__(9)),_classCallCheck3=_interopRequireDefault(__webpack_require__(4)),_createClass3=_interopRequireDefault(__webpack_require__(5)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(7)),_inherits3=_interopRequireDefault(__webpack_require__(8)),_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_propTypes2=_interopRequireDefault(__webpack_require__(0)),_reactDom2=_interopRequireDefault(__webpack_require__(69)),_uuid2=_interopRequireDefault(__webpack_require__(139)),_reactRouter=__webpack_require__(340),_tiUi=__webpack_require__(10),_aphrodite=__webpack_require__(2),_lodash=__webpack_require__(13),_audio2=_interopRequireDefault(__webpack_require__(317)),_utils=__webpack_require__(777),_styles2=_interopRequireDefault(__webpack_require__(778));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Block=function(_Component){function Block(){var _ref,_temp,_this,_ret;(0,_classCallCheck3.default)(this,Block);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _temp=_this=(0,_possibleConstructorReturn3.default)(this,(_ref=Block.__proto__||(0,_getPrototypeOf2.default)(Block)).call.apply(_ref,[this].concat(args))),_this.renderInline=function(){var _this$props=_this.props,p=_this$props.p,insertSentence=_this$props.insertSentence,hasAction=_this$props.hasAction,handleAnswer=_this$props.handleAnswer,initAnswer=_this$props.initAnswer,answer=_this$props.answer,isReport=_this$props.isReport,qNum=_this$props.qNum,materialIds=_this$props.materialIds,answerRsult=_this$props.answerRsult,isIelts=_this$props.isIelts;if(Array.isArray(p.inlineMarkups)&&p.inlineMarkups.length){for(var spans=[],insertLineIndex=0,inlineMarkups=(0,_lodash.sortBy)(p.inlineMarkups,"index").map(function(markup,index){var answerIndex="Insert"===markup.type||"InsertLine"===markup.type||"InsertBlank"===markup.type||"DragBlank"===markup.type||"BlankTable"===markup.type?insertLineIndex+initAnswer:index;return"Insert"!==markup.type&&"InsertLine"!==markup.type&&"InsertBlank"!==markup.type&&"DragBlank"!==markup.type&&"BlankTable"!==markup.type||(insertLineIndex+=1),(0,_assign2.default)({},markup,{answerIndex:answerIndex})}),start=0,cntAnswer=initAnswer,_loop=function _loop(){var markup=inlineMarkups.shift();if(markup.index!==start){if(""!==p.text.substring(start,markup.index)){var _markupText=p.text.substring(start,markup.index);spans.push(_this.handleCenter(_markupText))}start=markup.index}var markupText=p.text.substr(start,markup.length);if("Insert"===markup.type){var _onClick=function _onClick(markup){isReport||hasAction&&handleAnswer([markup.answerIndex])};"right"===markup.value&&spans.push(_react2.default.createElement("span",{key:start+"-insert"},_this.handleCenter(markupText)," ")),(0,_lodash.get)(answer,"0")===cntAnswer?(spans.push(_react2.default.createElement("span",{key:start+"-head"}," ")),spans.push(_react2.default.createElement("span",{key:start,className:(0,_aphrodite.css)(_styles2.default.inlineHighlight),onClick:function onClick(){return _onClick(markup)}},insertSentence)),spans.push(_react2.default.createElement("span",{key:start+"-tail"}," "))):spans.push(_react2.default.createElement("span",{key:start,className:(0,_aphrodite.css)(_styles2.default["inline"+markup.type]),onClick:function onClick(){return _onClick(markup)}})),"left"===markup.value&&spans.push(_react2.default.createElement("span",{key:start+"-insert"}," ",_this.handleCenter(markupText))),cntAnswer+=1}else if("InsertLine"===markup.type){var defaultAnswer="";answer&&!isReport&&(defaultAnswer=answer[markup.answerIndex]||""),spans.push(_react2.default.createElement("span",{key:start},_this.handleCenter(markupText),_react2.default.createElement(_tiUi.Input,{readOnly:isReport,className:_styles2.default[markup.value+"Line"],onChange:function onChange(e){return handleAnswer(e,markup.answerIndex)},value:defaultAnswer,placeholder:defaultAnswer})))}else if("Formula"===markup.type)spans.push(_react2.default.createElement("span",null,_react2.default.createElement("img",{className:(0,_aphrodite.css)(_styles2.default.kfformula),src:""+markup.value})));else if("InsertBlank"===markup.type||"BlankTable"===markup.type||"DragBlank"===markup.type){var _defaultAnswer="",className=void 0;answer&&!isReport&&(_defaultAnswer=answer[markup.answerIndex]||""),isReport&&isIelts?(_defaultAnswer=(0,_lodash.get)(answerRsult,markup.answerIndex+".userAnswer")||"",className=(0,_lodash.get)(answerRsult,markup.answerIndex+".isCorrect")?_styles2.default.correct:_styles2.default.error):className=_styles2.default.insertBlank,spans.push(_react2.default.createElement("span",{key:start,className:(0,_aphrodite.css)(_styles2.default.ieltsBlank)},_this.handleCenter(markupText),_react2.default.createElement("input",{ref:(0,_lodash.get)(materialIds,""+markup.answerIndex)&&(0,_lodash.get)(materialIds,""+markup.answerIndex).toString(),readOnly:isReport,className:(0,_aphrodite.css)(className),onChange:function onChange(e){if(isReport)return!1;isIelts?handleAnswer(e.target.value,markup.answerIndex,materialIds[markup.answerIndex],!1):handleAnswer(e,markup.answerIndex)},onBlur:function onBlur(e){if(isReport)return!1;if(isIelts){(/^(\s)*$/g.test(_defaultAnswer)||null===_defaultAnswer)&&(e.target.placeholder=qNum[markup.answerIndex]&&qNum[markup.answerIndex].toString()),handleAnswer(e.target.value,markup.answerIndex,materialIds[markup.answerIndex])}else handleAnswer(e,markup.answerIndex)},value:_defaultAnswer,placeholder:isIelts?qNum[markup.answerIndex]&&qNum[markup.answerIndex].toString():_defaultAnswer,id:isIelts?(0,_lodash.get)(materialIds,""+markup.answerIndex)&&(0,_lodash.get)(materialIds,""+markup.answerIndex).toString():"",onFocus:function onFocus(e){if(isReport)return!1;isIelts&&(e.target.placeholder="",_this.props.handleQuestionSelect(materialIds[markup.answerIndex]))}})))}else"Arrow"===markup.type?"right"===markup.value?spans.push(_react2.default.createElement("span",{key:""+start},_this.handleCenter(markupText),_react2.default.createElement("span",{className:(0,_aphrodite.css)(_styles2.default.blockArrowBlank)}))):"left"===markup.value&&spans.push(_react2.default.createElement("span",{key:""+start},_react2.default.createElement("span",{className:(0,_aphrodite.css)(_styles2.default.blockArrowBlank)}),_this.handleCenter(markupText))):spans.push(_react2.default.createElement("span",{key:start,className:(0,_aphrodite.css)("FontSize"===markup.type?_styles2.default["inline"+markup.type+(0,_lodash.capitalize)(markup.value)]:_styles2.default["inline"+markup.type+(markup.value?(0,_lodash.capitalize)(markup.value):"")])},_this.handleCenter(markupText)));start+=markup.length};inlineMarkups.length;)_loop();return inlineMarkups.length||""!==p.text.substr(start)&&spans.push(_this.handleCenter(p.text.substr(start))),_react2.default.createElement("p",{className:_this.props.pStyle?(0,_aphrodite.css)(_this.props.pStyle):(0,_aphrodite.css)(_styles2.default.block)},spans," ")}return _react2.default.createElement("p",{className:_this.props.pStyle?(0,_aphrodite.css)(_this.props.pStyle):(0,_aphrodite.css)(_styles2.default.block)},p.text)},_this.renderOrigin=function(){var p=_this.props.p;if(Array.isArray(p.markups)&&p.markups.length)return p.markups.map(function(item,index){var type=(0,_utils.firstUpperCase)(item.type);return"Audio"===type?_react2.default.createElement("div",{key:index,className:_this.props.pStyle?(0,_aphrodite.css)(_this.props.pStyle):(0,_aphrodite.css)(_styles2.default.block)},_react2.default.createElement(_audio2.default,{src:item.uploadPath})):"Image"===type&&_react2.default.createElement("div",{key:index,className:_this.props.pStyle?(0,_aphrodite.css)(_this.props.pStyle):(0,_aphrodite.css)(_styles2.default.block),style:{textAlign:"center"}},_react2.default.createElement(_tiUi.Image,{src:item.uploadPath,style:_this.props.imgWidth?{width:_this.props.imgWidth+"px"}:{width:"100%"}}))})},_this.handleCenter=function(text){if(-1===text.indexOf("\n"))return text;var spans=text.split("\n");return spans.map(function(span,index){return _react2.default.createElement("p",{key:_uuid2.default.v1(),className:(0,_aphrodite.css)(_styles2.default.center)},span,index!==spans.length-1&&_react2.default.createElement("span",null))})},_ret=_temp,(0,_possibleConstructorReturn3.default)(_this,_ret)}return(0,_inherits3.default)(Block,_Component),(0,_createClass3.default)(Block,[{key:"componentDidMount",value:function componentDidMount(){if(this.anchor){var anchorElement=_reactDom2.default.findDOMNode(this.anchor);setTimeout(function(){anchorElement.scrollIntoView({block:"start",behavior:"smooth"})},100)}}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps){if(this.props.location.pathname!==prevProps.location.pathname&&this.anchor){var anchorElement=_reactDom2.default.findDOMNode(this.anchor);setTimeout(function(){anchorElement.scrollIntoView({block:"start",behavior:"smooth"})},100)}}},{key:"render",value:function render(){var _this2=this,_props=this.props,p=_props.p,paragraphClassName=_props.paragraphClassName,props={};return p.anchor&&(props.ref=function(node){_this2.anchor=node}),_react2.default.createElement(_tiUi.View,(0,_extends3.default)({className:[_styles2.default.paragraph,paragraphClassName].concat((0,_toConsumableArray3.default)(p.markups.map(function(markup){return"Align"===markup.type?_styles2.default["block"+markup.type+(0,_lodash.capitalize)(markup.value)]:_styles2.default["block"+markup.type]})))},props),this.renderInline(),p.markups&&p.markups.length>0&&this.renderOrigin())}}]),Block}(_react.Component);Block.defaultProps={initAnswer:0,insertSentence:"",hasAction:!0,handleAnswer:function handleAnswer(){},answer:[],qNum:["10"],externalInitAnswer:-1,handleQuestionSelect:function handleQuestionSelect(){},materialIds:[],answerRsult:[],isReport:!1,paragraphClassName:void 0,pStyle:void 0,isIelts:!1,imgWidth:0},Block.propTypes={p:_propTypes2.default.object.isRequired,location:_propTypes2.default.object.isRequired,initAnswer:_propTypes2.default.number,handleAnswer:_propTypes2.default.func,insertSentence:_propTypes2.default.string,hasAction:_propTypes2.default.bool,answer:_propTypes2.default.any,qNum:_propTypes2.default.array,externalInitAnswer:_propTypes2.default.number,handleQuestionSelect:_propTypes2.default.func,answerRsult:_propTypes2.default.array,materialIds:_propTypes2.default.array,isReport:_propTypes2.default.bool,paragraphClassName:_propTypes2.default.object,pStyle:_propTypes2.default.object,isIelts:_propTypes2.default.bool,imgWidth:_propTypes2.default.number},exports.default=(0,_reactRouter.withRouter)(Block),Block.__docgenInfo={description:"",methods:[{name:"renderInline",docblock:null,modifiers:[],params:[],returns:null},{name:"renderOrigin",docblock:null,modifiers:[],params:[],returns:null},{name:"handleCenter",docblock:null,modifiers:[],params:[{name:"text",type:null}],returns:null}],displayName:"Block",props:{initAnswer:{defaultValue:{value:"0",computed:!1},type:{name:"number"},required:!1,description:""},insertSentence:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},hasAction:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:""},handleAnswer:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},answer:{defaultValue:{value:"[]",computed:!1},type:{name:"any"},required:!1,description:""},qNum:{defaultValue:{value:"['10']",computed:!1},type:{name:"array"},required:!1,description:""},externalInitAnswer:{defaultValue:{value:"-1",computed:!1},type:{name:"number"},required:!1,description:""},handleQuestionSelect:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},materialIds:{defaultValue:{value:"[]",computed:!1},type:{name:"array"},required:!1,description:""},answerRsult:{defaultValue:{value:"[]",computed:!1},type:{name:"array"},required:!1,description:""},isReport:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},paragraphClassName:{defaultValue:{value:"undefined",computed:!0},type:{name:"object"},required:!1,description:""},pStyle:{defaultValue:{value:"undefined",computed:!0},type:{name:"object"},required:!1,description:""},isIelts:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},imgWidth:{defaultValue:{value:"0",computed:!1},type:{name:"number"},required:!1,description:""},p:{type:{name:"object"},required:!0,description:""},location:{type:{name:"object"},required:!0,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/block/index.js"]={name:"Block",docgenInfo:Block.__docgenInfo,path:"src/block/index.js"})},function(module,exports,__webpack_require__){"use strict";(function(global){Object.defineProperty(exports,"__esModule",{value:!0}),exports.Player=void 0;var _typeof3=_interopRequireDefault(__webpack_require__(42)),_getPrototypeOf2=_interopRequireDefault(__webpack_require__(9)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(7)),_inherits3=_interopRequireDefault(__webpack_require__(8)),_classCallCheck3=_interopRequireDefault(__webpack_require__(4)),_createClass3=_interopRequireDefault(__webpack_require__(5)),_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_reactDom2=_interopRequireDefault(__webpack_require__(69)),_propTypes2=_interopRequireDefault(__webpack_require__(0)),_tiUi=__webpack_require__(10),_lodash=__webpack_require__(13),_article2=_interopRequireDefault(__webpack_require__(200)),_utils2=_interopRequireDefault(__webpack_require__(768)),_search_words2=_interopRequireDefault(__webpack_require__(112)),_styles2=_interopRequireDefault(__webpack_require__(769));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var audioContainer=[],Audio=(exports.Player=function(){function Player(){(0,_classCallCheck3.default)(this,Player),this.player=null}return(0,_createClass3.default)(Player,[{key:"play",value:function play(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.player=new global.window.Audio(options.src),this.player.onended=options.onended,this.player.onpause=options.onpause,audioContainer.forEach(function(audio){audio.pause()}),audioContainer.push(this.player),this.player.play()}},{key:"stop",value:function stop(){var _this=this;(0,_lodash.remove)(audioContainer,function(audio){return audio===_this.player}),this.player.onpause=null,this.player.onended=null,this.player.src="",this.player=null}}]),Player}(),function(_Component){function Audio(props){(0,_classCallCheck3.default)(this,Audio);var _this2=(0,_possibleConstructorReturn3.default)(this,(Audio.__proto__||(0,_getPrototypeOf2.default)(Audio)).call(this,props));return _this2.onTouchStart=function(e){console.log(e,"start")},_this2.onTouchMove=function(e){console.log(e,"move")},_this2.onTouchEnd=function(e){console.log(e,"end")},_this2.setAudio=function(src){var newSrc=-1===src.indexOf("//")?_this2.props.cdnUrl+"/"+src:src;if(!src)return _this2.setState({show:!1,isload:!0}),!1;_this2.audio=new global.window.Audio(newSrc),_this2.audio.onplaying=_this2.handlePlay,_this2.audio.onpause=_this2.handlePause,_this2.audio.onended=_this2.handleEnded,_this2.audio.onerror=_this2.handleError,_this2.handleClickProgress=_this2.handleClickProgress,_this2.audio.onloadedmetadata=_this2.handleLoadedmetadata,_this2.audio.onloadedmetadata=_this2.handleLoadedmetadata,_this2.audio.ontimeupdate=_this2.handleTimeupdate,_this2.setState({playing:!1,duration:0,currtime:"00:00",progress:0,show:!1,isload:!0}),audioContainer.push(_this2.audio)},_this2.setWidth=function(){if(!_this2.props.showPlayer)return!1;var element=_reactDom2.default.findDOMNode(_this2.container);setTimeout(function(){if(element.parentElement&&element.parentElement.offsetWidth){var width=_this2.props.materialType?element.offsetWidth-260:element.offsetWidth-162;_this2.setState({width:width})}},100)},_this2.handleText=function(text){var mdRet=void 0;if("object"===(void 0===text?"undefined":(0,_typeof3.default)(text))){var isSpecialText=(0,_lodash.get)(text,"paragraphs.0.text")&&(0,_lodash.get)(text,"paragraphs.0.text").indexOf("}}");if(isSpecialText&&-1!==isSpecialText){for(var parser=new _utils2.default,i=0;i<text.paragraphs.length;i+=1)mdRet+=text.paragraphs[i].text;mdRet=parser.parse(mdRet,!1)}else mdRet=text}else if("string"==typeof text){var _isSpecialText=text.indexOf("}}");if(_isSpecialText&&-1!==_isSpecialText)mdRet=(new _utils2.default).parse(text,!1);else mdRet=text}_this2.setState({text:mdRet||_this2.state.text})},_this2.handleLoadedmetadata=function(){_this2.setState({isload:!1,duration:_this2.audio?_this2.audio.duration:45})},_this2.handleTimeupdate=function(){var duration=_this2.state.duration;if(_this2.audio&&_this2.audio.currentTime){var currentTime=_this2.timeFormat(_this2.audio.currentTime.toFixed(0));_this2.setState({currtime:currentTime,progress:_this2.audio.currentTime/duration*100})}},_this2.handlePlay=function(){_this2.setState({playing:!0})},_this2.handlePause=function(){_this2.setState({playing:!1})},_this2.handleEnded=function(){_this2.setState({playing:!1,progress:0,currtime:"00:00",isFirst:!1})},_this2.handleClickPlay=function(){_this2.state.playing?_this2.audio.pause():(audioContainer.forEach(function(audio){audio.pause()}),_this2.audio.play())},_this2.handleClickProgress=function(e){var _this2$state=_this2.state,duration=_this2$state.duration,width=_this2$state.width;_this2.audio.currentTime=e.nativeEvent.offsetX/width*duration},_this2.handleError=function(){_this2.isTry<2&&(setTimeout(function(){if(!_this2.audio)return!1;var oldSrc=_this2.audio.src;(0,_lodash.remove)(audioContainer,function(audio){return audio===_this2.audio}),_this2.audio=null,_this2.setAudio(oldSrc)},2e3),_this2.isTry+=1)},_this2.handleShow=function(){var _this2$state2=_this2.state,materialType=_this2$state2.materialType,text=_this2$state2.text;return!!("listenTranslation"!==materialType||Array.isArray(text)&&text[0].translation)&&(!("exampleOriginal"===materialType&&(!text||Array.isArray(text.paragraphs)&&0===text.paragraphs.length))&&void _this2.setState({show:!_this2.state.show}))},_this2.state={width:props.text||props.materialType?250:338,text:"",materialType:props.materialType,playing:!1,duration:0,currtime:"00:00",progress:0,show:!1,isload:!0,isFirst:!0,isTest:global.location.pathname.match(/\/([^\/]*)\//)&&"test"===global.location.pathname.match(/\/([^\/]*)\//)[1]},_this2.audio=null,_this2.isTry=0,_this2}return(0,_inherits3.default)(Audio,_Component),(0,_createClass3.default)(Audio,[{key:"componentDidMount",value:function componentDidMount(){this.setWidth()}},{key:"componentWillMount",value:function componentWillMount(){this.setAudio(this.props.src),this.handleText(this.props.text)}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(nextProps){var _this3=this;if(this.props.src===nextProps.src)return!1;this.audio&&((0,_lodash.remove)(audioContainer,function(audio){return audio===_this3.audio}),this.audio.onloadedmetadata=null,this.audio.ontimeupdate=null,this.audio.onplaying=null,this.audio.onpause=null,this.audio.onended=null,this.audio.onerror=null,this.audio.src="",this.audio=null,this.setAudio(nextProps.src),this.handleText(nextProps.text),this.setWidth())}},{key:"componentWillUnmount",value:function componentWillUnmount(){var _this4=this;this.audio&&((0,_lodash.remove)(audioContainer,function(audio){return audio===_this4.audio}),this.audio.onloadedmetadata=null,this.audio.ontimeupdate=null,this.audio.onplaying=null,this.audio.onpause=null,this.audio.onended=null,this.audio.onerror=null,this.audio.src="",this.audio=null)}},{key:"generateAudio",value:function generateAudio(){var _this5=this,_state=this.state,playing=_state.playing,progress=_state.progress,duration=_state.duration,currtime=_state.currtime,width=_state.width,isload=_state.isload,isFirst=_state.isFirst,isTest=_state.isTest,playClass=[_styles2.default.default];playing?playClass.push(_styles2.default.pause):playClass.push(_styles2.default.play);var blueWidth=width*progress/100,closeAudio=!1===isFirst&&isTest;return _react2.default.createElement(_tiUi.View,{className:_styles2.default.audioBox},_react2.default.createElement(_tiUi.View,{className:playClass,onClick:function onClick(){closeAudio||_this5.handleClickPlay()},style:{opacity:closeAudio?"0.5":"1"}}),_react2.default.createElement(_tiUi.View,null,currtime),_react2.default.createElement(_tiUi.View,{className:_styles2.default.progressBox,style:{width:width+"px"}},_react2.default.createElement(_tiUi.View,{className:_styles2.default.progress,onClick:function onClick(e){closeAudio||_this5.handleClickProgress(e)}},_react2.default.createElement(_tiUi.View,{className:_styles2.default.blueProgress,style:{width:blueWidth+"px"}})),_react2.default.createElement(_tiUi.View,{className:_styles2.default.dot,style:{left:blueWidth-6+"px"},onTouchStart:function onTouchStart(){closeAudio||_this5.onTouchStart()},onTouchMove:function onTouchMove(){closeAudio||_this5.onTouchMove()},onTouchEnd:function onTouchEnd(){closeAudio||_this5.onTouchEnd()}})),_react2.default.createElement(_tiUi.View,null,duration.toFixed(0)>0?this.timeFormat(duration.toFixed(0)):this.timeFormat(1)),isload&&_react2.default.createElement(_tiUi.View,{className:_styles2.default.mask},_react2.default.createElement(_tiUi.View,{className:_styles2.default.spot}),_react2.default.createElement(_tiUi.View,{className:_styles2.default.spot}),_react2.default.createElement(_tiUi.View,{className:_styles2.default.spot})))}},{key:"generateEmptyAudio",value:function generateEmptyAudio(){return _react2.default.createElement(_tiUi.View,{className:_styles2.default.audioBox},_react2.default.createElement(_tiUi.View,{className:[_styles2.default.default,_styles2.default.gray]}),_react2.default.createElement(_tiUi.View,{className:_styles2.default.color878F98},"暂无范例音频"),_react2.default.createElement(_tiUi.View,{className:_styles2.default.progressBox,style:{width:"203px"}},_react2.default.createElement(_tiUi.View,{className:_styles2.default.progress})),_react2.default.createElement(_tiUi.View,{className:_styles2.default.color878F98},"00:00"))}},{key:"generateListeningText",value:function generateListeningText(){var _state2=this.state,text=_state2.text,show=_state2.show;return Array.isArray(text)?_react2.default.createElement(_tiUi.View,null,text.map(function(item,index){return _react2.default.createElement(_tiUi.View,{className:_styles2.default.raw,key:index},_react2.default.createElement(_tiUi.View,{className:_styles2.default.rawText},item.raw),show&&item.translation&&_react2.default.createElement(_tiUi.View,{className:_styles2.default.rawText},item.translation))})):"string"==typeof text?_react2.default.createElement(_tiUi.View,{style:{paddingBottom:"18px"},dangerouslySetInnerHTML:{__html:text.replace(/\n/g,"<br/>")}}):_react2.default.createElement(_article2.default,{material:text,isReport:!0})}},{key:"timeFormat",value:function timeFormat(times){var day=0,hour=0,minute=0,seconds=0,newTimes=times;return newTimes>0&&(day=Math.floor(times/86400),hour=Math.floor(times/3600)-24*day,minute=Math.floor(times/60)-24*day*60-60*hour,seconds=Math.floor(times)-24*day*60*60-60*hour*60-60*minute),minute<=9&&(minute="0"+minute),seconds<=9&&(seconds="0"+seconds),newTimes=minute+":"+seconds}},{key:"render",value:function render(){var _this6=this,_state3=this.state,playing=_state3.playing,show=_state3.show,text=_state3.text,_props=this.props,showPlayer=_props.showPlayer,materialType=_props.materialType;if(!showPlayer)return!1;var playClass=[_styles2.default.default];return playing?playClass.push(_styles2.default.pause):playClass.push(_styles2.default.play),_react2.default.createElement(_tiUi.View,{className:_styles2.default.container,ref:function ref(node){_this6.container=node}},_react2.default.createElement(_tiUi.View,{className:_styles2.default.content},this.audio?this.generateAudio():this.generateEmptyAudio(),_react2.default.createElement(_tiUi.View,{className:_styles2.default.textStatus},"exampleOriginal"===materialType&&_react2.default.createElement(_tiUi.View,{className:[_styles2.default.showArrow,show&&_styles2.default.arrowRotate,(!text||Array.isArray(text.paragraphs)&&0===text.paragraphs.length)&&_styles2.default.arrowGray],onClick:this.handleShow}),"exampleOriginal"===materialType&&_react2.default.createElement(_tiUi.View,{className:[_styles2.default.showText,(!text||Array.isArray(text.paragraphs)&&0===text.paragraphs.length)&&_styles2.default.textGray],onClick:this.handleShow},show?"收起原文":"显示原文"),"listenTranslation"===materialType&&_react2.default.createElement(_tiUi.View,{className:_styles2.default.lBox},_react2.default.createElement(_tiUi.View,{className:[_styles2.default.strip,show&&_styles2.default.stripActive],onClick:this.handleShow},_react2.default.createElement(_tiUi.View,{className:[_styles2.default.round,show&&_styles2.default.roundActive]})),_react2.default.createElement(_tiUi.View,{className:[_styles2.default.listeningBtn,(!Array.isArray(text)||!text[0].translation)&&_styles2.default.listeningBtnGray]},"显示译文")))),text&&show&&"exampleOriginal"===materialType&&_react2.default.createElement(_tiUi.View,{className:_styles2.default.textBox},this.generateListeningText()),text&&"listenTranslation"===materialType&&_react2.default.createElement(_tiUi.Scrollbar,{className:_styles2.default.textContent,onScrollStart:function onScrollStart(){_search_words2.default.hide()}},this.generateListeningText()),!text&&show&&"listenTranslation"===materialType&&_react2.default.createElement(_tiUi.View,{className:_styles2.default.articleEmpty},_react2.default.createElement(_tiUi.Image,{className:_styles2.default.empty,src:__webpack_require__(776)}),"暂无原文哦~"))}}]),Audio}(_react.Component));Audio.defaultProps={src:"",showPlayer:!0,cdnUrl:"https://media8.smartstudy.com",text:"",materialType:""},Audio.propTypes={src:_propTypes2.default.string,showPlayer:_propTypes2.default.bool,cdnUrl:_propTypes2.default.string,text:_propTypes2.default.any,materialType:_propTypes2.default.string},exports.default=Audio,Audio.__docgenInfo={description:"",methods:[{name:"generateAudio",docblock:null,modifiers:[],params:[],returns:null},{name:"generateEmptyAudio",docblock:null,modifiers:[],params:[],returns:null},{name:"generateListeningText",docblock:null,modifiers:[],params:[],returns:null},{name:"onTouchStart",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onTouchMove",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onTouchEnd",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"setAudio",docblock:null,modifiers:[],params:[{name:"src",type:null}],returns:null},{name:"setWidth",docblock:null,modifiers:[],params:[],returns:null},{name:"handleText",docblock:null,modifiers:[],params:[{name:"text",type:null}],returns:null},{name:"handleLoadedmetadata",docblock:null,modifiers:[],params:[],returns:null},{name:"handleTimeupdate",docblock:null,modifiers:[],params:[],returns:null},{name:"timeFormat",docblock:null,modifiers:[],params:[{name:"times",type:null}],returns:null},{name:"handlePlay",docblock:null,modifiers:[],params:[],returns:null},{name:"handlePause",docblock:null,modifiers:[],params:[],returns:null},{name:"handleEnded",docblock:null,modifiers:[],params:[],returns:null},{name:"handleClickPlay",docblock:null,modifiers:[],params:[],returns:null},{name:"handleClickProgress",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"handleError",docblock:null,modifiers:[],params:[],returns:null},{name:"handleShow",docblock:null,modifiers:[],params:[],returns:null}],displayName:"Audio",props:{src:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:"音频地址"},showPlayer:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:"是否显示播放器"},cdnUrl:{defaultValue:{value:"'https://media8.smartstudy.com'",computed:!1},type:{name:"string"},required:!1,description:"cdnUrl 线上与dev 有差别"},text:{defaultValue:{value:"''",computed:!1},type:{name:"any"},required:!1,description:"支持传入材料原文 和音频译文  支持时间码和富文本结构"},materialType:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:"传入的材料类型 目前支持 听力原文和范例音频 'listenTranslation', 'exampleOriginal'\n     想要支持查看音频对应的原文或者译文， 必须要传 materialType 字段"}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/audio/index.js"]={name:"Audio",docgenInfo:Audio.__docgenInfo,path:"src/audio/index.js"})}).call(this,__webpack_require__(3))},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/close.9b753fae.png"},function(module,exports,__webpack_require__){"use strict";(function(global){Object.defineProperty(exports,"__esModule",{value:!0});var _assign2=_interopRequireDefault(__webpack_require__(58)),_getPrototypeOf2=_interopRequireDefault(__webpack_require__(9)),_classCallCheck3=_interopRequireDefault(__webpack_require__(4)),_createClass3=_interopRequireDefault(__webpack_require__(5)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(7)),_inherits3=_interopRequireDefault(__webpack_require__(8)),_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_tiUi=__webpack_require__(10),_propTypes2=_interopRequireDefault(__webpack_require__(0)),_aphrodite=__webpack_require__(2),_drag2=_interopRequireDefault(__webpack_require__(202)),_getAllValue2=_interopRequireDefault(__webpack_require__(798)),_styles2=_interopRequireDefault(__webpack_require__(799));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var imgBlue1=__webpack_require__(802),imgBlue2=__webpack_require__(803),imgOrange=__webpack_require__(804),imgWrite=__webpack_require__(805),KEYVALUE=[{value:"MR",type:"member"},{value:"MC",type:"member"},{value:"M+",type:"member"},{value:"(",type:"brackets"},{value:")",type:"brackets"},{value:"7",type:"number"},{value:"8",type:"number"},{value:"9",type:"number"},{value:"÷",type:"operator"},{value:"C",type:"clear"},{value:"4",type:"number"},{value:"5",type:"number"},{value:"6",type:"number"},{value:"×",type:"operator"},{value:"CE",type:"back"},{value:"1",type:"number"},{value:"2",type:"number"},{value:"3",type:"number"},{value:"-",type:"operator"},{value:"√",type:"spoperator"},{value:"±",type:"operator"},{value:"0",type:"number"},{value:".",type:"point"},{value:"+",type:"operator"},{value:"=",type:"equal"}],Calculator=function(_Component){function Calculator(props){(0,_classCallCheck3.default)(this,Calculator);var _this=(0,_possibleConstructorReturn3.default)(this,(Calculator.__proto__||(0,_getPrototypeOf2.default)(Calculator)).call(this,props));return _this.initButtonList=function(value){return value.map(function(data){return _react2.default.createElement("button",{id:data.value,className:(0,_aphrodite.css)(_styles2.default.div_class_button),style:"brackets"===data.type?{backgroundImage:"url("+(")"===data.value?__webpack_require__(320):__webpack_require__(203))+")",backgroundSize:"100%",color:"number"===data.type?"#000":"#fff"}:{backgroundImage:"url("+("number"===data.type?__webpack_require__(806):"member"===data.type||"equal"===data.type?__webpack_require__(807):"spoperator"===data.type||"operator"===data.type?__webpack_require__(203):__webpack_require__(808))+")",backgroundSize:"100%",color:"number"===data.type?"#000":"#fff"},key:data.value,onClick:_this.handleValueInput.bind(_this,data)},data.value)})},_this.state=(0,_assign2.default)({valueText:"",equalFlag:!1,errorFlag:!1,resultNum:0,mrNum:"",currentKey:"",bracketsLeft:!1}),_this}return(0,_inherits3.default)(Calculator,_Component),(0,_createClass3.default)(Calculator,[{key:"componentDidMount",value:function componentDidMount(){var toShowdata=""+this.props.revdata;this.setState({errorFlag:!1,valueText:toShowdata,resultNum:this.props.revdata})}},{key:"handleValueInput",value:function handleValueInput(data){var _this2=this,bracketsLeft=this.state.bracketsLeft;if(bracketsLeft&&"("===data.value||!bracketsLeft&&")"===data.value)return!1;var button=global.document.getElementById(data.value);if(this.image=button.style.backgroundImage,this.imageStr=this.image.split(".")[0].split("/"),"brackets"===data.type){global.document.getElementById("("===data.value?")":"(").style.backgroundImage="url("+__webpack_require__(203)+")",button.style.backgroundImage="url("+__webpack_require__(320)+")",this.setState({bracketsLeft:!bracketsLeft})}else{var imageStr=void 0;switch(this.imageStr[this.imageStr.length-1]){case"blue1":imageStr=imgBlue1;break;case"blue2":imageStr=imgBlue2;break;case"orange":imageStr=imgOrange;break;default:imageStr=imgWrite}button.style.backgroundImage="url("+imageStr+")",button.style.transition="all 300ms linear 30ms",setTimeout(function(){button.style.backgroundImage=_this2.image},100)}var oldState=this.state.valueText,valueText=void 0,resultNum=void 0;try{var data1=this.checkClickType(oldState,data);valueText=data1.valueText,resultNum=data1.resultNum}catch(error){console.error("计算出错, 做清空处理:",error),valueText="0",resultNum="0"}this.setState({valueText:valueText,resultNum:resultNum.slice(0,16),currentKey:data.value})}},{key:"checkClickType",value:function checkClickType(oldvalue,data){var initFlag="0"===oldvalue&&"point"!==data.type,calAfterFlag=!0===this.state.equalFlag,_state=this.state,resultNum=_state.resultNum,mrNum=_state.mrNum;switch(data.type){case"member":return"MR"===data.value&&mrNum?{valueText:mrNum,resultNum:mrNum}:("MC"===data.value?this.setState({mrNum:""}):"M+"===data.value&&this.setState({mrNum:resultNum}),{valueText:oldvalue,resultNum:resultNum||"0"});case"equal":var prevresult=(0,_getAllValue2.default)(oldvalue);return this.setState({equalFlag:!0}),{valueText:""+prevresult,resultNum:""+prevresult};case"back":return{valueText:oldvalue.substring(0,oldvalue.length-1)||"0",resultNum:resultNum.substring(0,oldvalue.length-1)||"0"};case"clear":return{valueText:"0",resultNum:"0"};case"operator":if("±"===data.value){var valueArr2=oldvalue.split(" "),value2=valueArr2&&valueArr2[valueArr2.length-2];return valueArr2.length>1&&isNaN(value2)?{valueText:(oldvalue&&oldvalue.slice(0,valueArr2.lastIndexOf(" ")))+"-"+(valueArr2&&valueArr2[valueArr2.length-1]),resultNum:"-"+resultNum}:{valueText:"-"+resultNum,resultNum:"-"+resultNum}}calAfterFlag&&this.setState({equalFlag:!1});var valueArr=oldvalue.split(" ");if(""===valueArr[valueArr.length-1]&&")"!==valueArr[valueArr.length-2]){var oldvalue1=oldvalue.substring(0,oldvalue.length-3);return{valueText:oldvalue1+" "+data.value+" ",resultNum:oldvalue1}}return{valueText:oldvalue+" "+data.value+" ",resultNum:oldvalue};case"spoperator":if(calAfterFlag&&this.setState({equalFlag:!1}),"√"===data.value){var result=Math.sqrt(Number(oldvalue))+"";return{valueText:result,resultNum:result}}return{valueText:oldvalue+data.value,resultNum:oldvalue};case"brackets":var valueArr0=oldvalue.split("("),value0=valueArr0[valueArr0.length-1].split(")");return")"===data.value&&valueArr0[1]&&(value0=(0,_getAllValue2.default)(valueArr0[1])+"",this.props.transferResult(value0)),{valueText:"("===data.value?data.value:"0",resultNum:value0};default:if(initFlag&&(oldvalue=""),calAfterFlag&&this.setState({equalFlag:!1}),"0"===data.value||"00"===data.value){var _valueArr=oldvalue.split(" ");if("÷"===_valueArr[_valueArr.length-2])return this.setState({errorFlag:!0}),{valueText:"0",resultNum:"0"}}var valueArr1=oldvalue.split(" "),value=valueArr1&&valueArr1[valueArr1.length-2];return{valueText:oldvalue+data.value,resultNum:valueArr1.length>1&&isNaN(value)?this.removeCharacter(valueArr1[valueArr1.length-1]+data.value,"("):this.removeCharacter(oldvalue+data.value,"(")}}}},{key:"removeCharacter",value:function removeCharacter(string,character){return string.split(character)[string.split(character).length-1]}},{key:"render",value:function render(){var _this3=this,_state2=this.state,resultNum=_state2.resultNum,mrNum=_state2.mrNum,_props=this.props,transferVisible=_props.transferVisible,_destroy=_props.destroy;return _react2.default.createElement(_drag2.default,{className:_styles2.default.conatiner,destroy:function destroy(){return _destroy()}},_react2.default.createElement("input",{type:"text",className:(0,_aphrodite.css)(_styles2.default.screen),value:resultNum&&-1!==resultNum.indexOf(".")?""+resultNum:resultNum+".",readOnly:!0}),mrNum&&_react2.default.createElement("span",{className:(0,_aphrodite.css)(_styles2.default.mrNum)},"M"),_react2.default.createElement("div",{className:(0,_aphrodite.css)(_styles2.default.div_class_buttonlist)},this.initButtonList(KEYVALUE)),_react2.default.createElement(_tiUi.View,{className:transferVisible?_styles2.default.transfer:_styles2.default.transfer1,onClick:function onClick(){if(!transferVisible)return!1;_this3.props.transferResult(resultNum)}},"Transfer Display"))}}]),Calculator}(_react.Component);Calculator.defaultProps={transferResult:function transferResult(){},revdata:"",transferVisible:!1},Calculator.propTypes={transferResult:_propTypes2.default.func,destroy:_propTypes2.default.func.isRequired,revdata:_propTypes2.default.string,transferVisible:_propTypes2.default.bool},exports.default=Calculator,Calculator.__docgenInfo={description:"该计算器主要 应用于GRE考试数学科目\n支持页面自由拖动\n点击按钮关闭\n记忆的功能",methods:[{name:"initButtonList",docblock:null,modifiers:[],params:[{name:"value",type:null}],returns:null},{name:"handleValueInput",docblock:null,modifiers:[],params:[{name:"data",type:null}],returns:null},{name:"checkClickType",docblock:null,modifiers:[],params:[{name:"oldvalue",type:null},{name:"data",type:null}],returns:null},{name:"removeCharacter",docblock:null,modifiers:[],params:[{name:"string",type:null},{name:"character",type:null}],returns:null}],displayName:"Calculator",props:{transferResult:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},revdata:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},transferVisible:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},destroy:{type:{name:"func"},required:!0,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/calculator/index.js"]={name:"Calculator",docgenInfo:Calculator.__docgenInfo,path:"src/calculator/index.js"})}).call(this,__webpack_require__(3))},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/blue3.5bcec6d1.png"},function(module,exports,__webpack_require__){"use strict";(function(global){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf2=_interopRequireDefault(__webpack_require__(9)),_classCallCheck3=_interopRequireDefault(__webpack_require__(4)),_createClass3=_interopRequireDefault(__webpack_require__(5)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(7)),_inherits3=_interopRequireDefault(__webpack_require__(8)),_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_propTypes2=_interopRequireDefault(__webpack_require__(0)),_tiUi=__webpack_require__(10),_styles2=_interopRequireDefault(__webpack_require__(811));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Error=function(_Component){function Error(){return(0,_classCallCheck3.default)(this,Error),(0,_possibleConstructorReturn3.default)(this,(Error.__proto__||(0,_getPrototypeOf2.default)(Error)).apply(this,arguments))}return(0,_inherits3.default)(Error,_Component),(0,_createClass3.default)(Error,[{key:"componentDidMount",value:function componentDidMount(){global.document.title="Oops... 发生错误 - 智课"}},{key:"retry",value:function retry(){var retryUrl=this.props.match.params.retryUrl;global.location.href=decodeURIComponent(retryUrl)}},{key:"render",value:function render(){var _this2=this,type=this.props.match.params.type;return"loading"===type?_react2.default.createElement(_tiUi.View,{className:_styles2.default.container},_react2.default.createElement(_tiUi.Image,{className:_styles2.default.image,src:__webpack_require__(204)}),_react2.default.createElement(_tiUi.View,null,_react2.default.createElement(_tiUi.View,{className:_styles2.default.text},"题目加载失败..."),_react2.default.createElement(_tiUi.View,{className:_styles2.default.text},"请检查您是否已经登录或联系我们的客服人员"),_react2.default.createElement(_tiUi.View,{className:_styles2.default.text},"电话：400-011-9191"))):"compatible"===type?_react2.default.createElement(_tiUi.View,{className:_styles2.default.container},_react2.default.createElement(_tiUi.Image,{className:_styles2.default.image,src:__webpack_require__(204)}),_react2.default.createElement(_tiUi.View,{className:_styles2.default.text},"暂不支持当前浏览器..."),_react2.default.createElement(_tiUi.View,{className:_styles2.default.text},_react2.default.createElement("a",{style:{color:"#fff"},href:"http://www.google.cn/chrome/browser/desktop/index.html",target:"_blank"},"请下载最新版本Chrome浏览器"))):"multiple"===type?_react2.default.createElement(_tiUi.View,{className:_styles2.default.container},_react2.default.createElement(_tiUi.Image,{className:_styles2.default.image,src:__webpack_require__(204)}),_react2.default.createElement(_tiUi.View,{className:_styles2.default.text},"对于同一场练习，暂不支持打开多个标签页..."),_react2.default.createElement(_tiUi.View,{className:_styles2.default.text},"请在原标签页作答，或者关闭原标签页重新打开练习")):"upload"===type?_react2.default.createElement(_tiUi.View,{className:_styles2.default.container},_react2.default.createElement(_tiUi.Image,{className:_styles2.default.image,src:__webpack_require__(322)}),_react2.default.createElement(_tiUi.View,{className:_styles2.default.text},"答案上传失败..."),_react2.default.createElement(_tiUi.View,{className:_styles2.default.text},"请检查网络，并点击下面的按钮重新提交答案"),_react2.default.createElement(_tiUi.Button,{className:_styles2.default.button,textClassName:_styles2.default.buttonText,text:"重试",theme:"hollow",onClick:function onClick(){return _this2.retry()}}),_react2.default.createElement(_tiUi.View,{className:_styles2.default.text},"如果还有问题，请联系我们的客服人员"),_react2.default.createElement(_tiUi.View,{className:_styles2.default.text},"电话：400-011-9191")):"save"===type?_react2.default.createElement(_tiUi.View,{className:_styles2.default.container},_react2.default.createElement(_tiUi.Image,{className:_styles2.default.image,src:__webpack_require__(322)}),_react2.default.createElement(_tiUi.View,{className:_styles2.default.text},"无法连接到网络，请尝试以下解决方案："),_react2.default.createElement(_tiUi.View,{className:[_styles2.default.text,_styles2.default.project1]},"方案一：请检查网络连接是否正常，正常后点击“",_react2.default.createElement(_tiUi.View,{className:_styles2.default.retry,onClick:function onClick(){return _this2.retry()}},"重试"),"”按钮；"),_react2.default.createElement(_tiUi.View,{className:[_styles2.default.text,_styles2.default.project1]},"方案二：关闭此页面，尝试重新进入（已保存的答案不会丢失）")):_react2.default.createElement(_tiUi.View,null)}}]),Error}(_react.Component);Error.propTypes={match:_propTypes2.default.object.isRequired},exports.default=Error,Error.__docgenInfo={description:"",methods:[{name:"retry",docblock:null,modifiers:[],params:[],returns:null}],displayName:"Error",props:{match:{type:{name:"object"},required:!0,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/error/index.js"]={name:"Error",docgenInfo:Error.__docgenInfo,path:"src/error/index.js"})}).call(this,__webpack_require__(3))},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/save.24a4b85f.png"},function(module,exports,__webpack_require__){"use strict";(function(global){Object.defineProperty(exports,"__esModule",{value:!0});var _regenerator2=_interopRequireDefault(__webpack_require__(36)),_asyncToGenerator3=_interopRequireDefault(__webpack_require__(44)),_getPrototypeOf2=_interopRequireDefault(__webpack_require__(9)),_assign2=_interopRequireDefault(__webpack_require__(58)),_classCallCheck3=_interopRequireDefault(__webpack_require__(4)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(7)),_createClass3=_interopRequireDefault(__webpack_require__(5)),_inherits3=_interopRequireDefault(__webpack_require__(8)),_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_propTypes2=_interopRequireDefault(__webpack_require__(0)),_reactDom2=_interopRequireDefault(__webpack_require__(69)),_tiUi=__webpack_require__(10),_cookie2=_interopRequireDefault(__webpack_require__(201)),_aphrodite=__webpack_require__(2),_lodash=__webpack_require__(13),_axios2=_interopRequireDefault(__webpack_require__(53)),_modal2=_interopRequireDefault(__webpack_require__(88)),_audio_player2=_interopRequireDefault(__webpack_require__(198)),_recorder2=_interopRequireDefault(__webpack_require__(141)),_utils2=_interopRequireDefault(__webpack_require__(324)),_constants=__webpack_require__(817),_styles2=_interopRequireDefault(__webpack_require__(818));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var formatDuration=_utils2.default.formatDuration,redirectToLoginPage=_utils2.default.redirectToLoginPage,search=global.location.search,isFull=decodeURIComponent(search.match(new RegExp("[?#&]isFull=([^?#&]+)","i"))?RegExp.$1:""),initialOptions={exerciseId:void 0,stepId:void 0,title:"",showButtons:[],unavailableButtons:[],isShowTime:!0,onClickNext:void 0,onClickContinue:void 0,onClickBack:void 0,onClickGoToQuestion:void 0,onClickReturn:void 0},Header=function(_Component){function Header(props){(0,_classCallCheck3.default)(this,Header);var _this=(0,_possibleConstructorReturn3.default)(this,(Header.__proto__||(0,_getPrototypeOf2.default)(Header)).call(this,props));return _this.onArrowRightDown=function(event){var _this$props=_this.props,step=_this$props.step,params=_this$props.params,altKey=event.altKey,ctrlKey=event.ctrlKey,metaKey=event.metaKey,shiftKey=event.shiftKey,keyCode=event.keyCode,unavailableButtons=_this.state.options.unavailableButtons,isAvailable=-1===unavailableButtons.indexOf("testNext");"package"===params.mode&&(isAvailable=-1===unavailableButtons.indexOf("next")),isAvailable&&!altKey&&!ctrlKey&&!metaKey&&!shiftKey&&39===keyCode&&!_this.alertTimeExpried&&!_this.alertTimeNote&&!_this.alertUpdateInfo&&_this.updateUserInfo(step.sectionId,step.questionIndex===step.questionCount)},_this.handleCorrect=function(){var _this$props2=_this.props,getUploadSignature=_this$props2.getUploadSignature,postCorrectionImage=_this$props2.postCorrectionImage,postCorrection=_this$props2.postCorrection,step=_this$props2.step,pathname=global.location.pathname,isFollowUpOrListen=pathname.includes("repeat")||pathname.includes("listen");_modal2.default.show("ModalCorrect",{title:"我要纠错",width:700,getUploadSignature:getUploadSignature,postCorrectionImage:postCorrectionImage,postCorrection:postCorrection,step:step,option:{version:"1.0.0",source:"ti-base"},type:isFollowUpOrListen?"followUpOrListen":"normal"},_this.onShow,_this.onHide)},_this.onShow=function(){_audio_player2.default.pause(),_this.setState({isPauseTimerForModal:!0})},_this.onHide=function(){_this.setState({isPauseTimerForModal:!1}),_audio_player2.default.resume()},_this.state=(0,_assign2.default)({options:initialOptions,isPauseTimer:!1,isPauseTimerForModal:!1,isShowVolume:!0,volume:1,isShowTip:1===_this.props.step.questionIndex,isShowShortcutTip:!1,grade:"",background:{}}),_this.saveDurationTime=0,_this.setIntervalTime=null,_this.alertUpdateInfo=!1,_this}return(0,_inherits3.default)(Header,_Component),(0,_createClass3.default)(Header,null,[{key:"config",value:function config(){var _this2=this,options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.instance){this.instance.setState({options:(0,_assign2.default)({},initialOptions,options.inherit?this.instance.state.options:{},options)});var _instance$props=this.instance.props,step=_instance$props.step,params=_instance$props.params,name=_instance$props.name;"package"===params.mode?global.document.title=(name||"")+" - 智课":global.document.title=step.practice.name+(options.title?" ":"")+(options.title||"")+" - 智课"}else setTimeout(function(){_this2.config(options)},100)}},{key:"back",value:function back(){this.instance&&this.instance.back()}},{key:"next",value:function next(){this.instance&&this.instance.next()}},{key:"handleCorrect",value:function handleCorrect(){this.instance&&this.instance.handleCorrect()}},{key:"uploadFailed",value:function uploadFailed(){this.instance&&this.instance.handleTimeExpried()}},{key:"setTimer",value:function setTimer(options){this.instance&&this.instance.setTimer(options)}},{key:"cleanTimer",value:function cleanTimer(){this.instance&&this.instance.cleanTimer()}},{key:"startTimer",value:function startTimer(){this.instance&&this.instance.setState({isPauseTimer:!1})}},{key:"pauseTimer",value:function pauseTimer(){this.instance&&this.instance.setState({isPauseTimer:!0})}},{key:"startTimerForModal",value:function startTimerForModal(){this.instance&&this.instance.setState({isPauseTimerForModal:!1})}},{key:"pauseTimerForModal",value:function pauseTimerForModal(){this.instance&&this.instance.setState({isPauseTimerForModal:!0})}},{key:"getTime",value:function getTime(){return this.instance.props.timer&&this.instance.props.timer.time||0}}]),(0,_createClass3.default)(Header,[{key:"componentDidMount",value:function componentDidMount(){var _this3=this,_props=this.props,step=_props.step,mode=_props.params.mode;"package"===mode?-1===["ToeflListenPlayer","Tip"].indexOf(step.type)&&setTimeout(function(){_this3.resetTimer(_this3.props),_this3.setIntervalTime||(_this3.setIntervalTime=setInterval(function(){return _this3.countDown()},1e3))},100):(setTimeout(function(){_this3.resetTimer(_this3.props)},100),this.setIntervalTime=setInterval(function(){return _this3.countDown()},1e3)),"test"!==mode&&"package"!==mode||global.document.addEventListener("keydown",this.onArrowRightDown)}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(nextProps){var _this4=this,step=nextProps.step,mode=nextProps.params.mode;this.props.step.sectionId&&nextProps.step.sectionId!==this.props.step.sectionId&&this.setState({isShowTip:!0}),"package"===mode&&setTimeout(function(){_this4.resetTimer(_this4.props),-1===["ToeflListenPlayer","Tip"].indexOf(step.type)&&(_this4.setIntervalTime||(_this4.setIntervalTime=setInterval(function(){return _this4.countDown()},1e3)))},100),"true"===isFull&&this.resetTimer(nextProps)}},{key:"componentWillUnmount",value:function componentWillUnmount(){var mode=this.props.params.mode;this.setIntervalTime&&clearInterval(this.setIntervalTime),"test"!==mode&&"package"!==mode||global.document.removeEventListener("keydown",this.onArrowRightDown)}},{key:"setTimer",value:function setTimer(value){var _props2=this.props,timer=_props2.timer,setTimer=_props2.setTimer,_props$params=this.props.params;setTimer({mode:_props$params.mode,id:_props$params.exerciseId,value:(0,_assign2.default)({},timer,value)})}},{key:"cleanTimer",value:function cleanTimer(){var setTimer=this.props.setTimer,_props$params2=this.props.params;setTimer({mode:_props$params2.mode,id:_props$params2.exerciseId,value:{}})}},{key:"resetTimer",value:function resetTimer(nextProps){var timer=nextProps.timer,step=nextProps.step,sectionId=step.sectionId,examId=step.examId,isOtherPage=step.isOtherPage;if("Base"!==timer.subject&&"Base"===step.mode&&this.setTimer({subject:"Base",time:0,isEnd:!1}),"Test"!==timer.subject&&"Test"===step.mode&&(this.setTimer({subject:"Test",time:18e5,isCountDown:!0,isEnd:!1}),this.alertTimeExpried=!1),"FullTest"===step.mode&&isOtherPage)return this.pauseTimer(),!1;if("FullTest"===step.mode&&sectionId!==timer.sectionId){var suggestTime1=_constants.suggestTime[examId]&&_constants.suggestTime[examId][sectionId-1];this.startTimer(),this.setTimer({subject:"FullTest",sectionId:step.sectionId,time:60*suggestTime1*1e3,isCountDown:!0,isEnd:!1}),this.alertTimeExpried=!1}"Package"===step.mode&&step.subject!==timer.subject&&this.setTimer({subject:step.subject,time:1e3*step.duration,isCountDown:!0,isEnd:!1})}},{key:"pauseTimer",value:function pauseTimer(){this.setState({isPauseTimer:!0})}},{key:"startTimer",value:function startTimer(){this.setState({isPauseTimer:!1})}},{key:"saveDuration",value:function saveDuration(){if(5===this.saveDurationTime){var _props3=this.props,postDuration=_props3.postDuration,timer=_props3.timer,createPromise=_props3.createPromise,exerciseId=this.props.params.exerciseId,time=timer&&timer.time||0;createPromise(postDuration,{exerciseId:exerciseId,duration:parseInt(time/1e3,10)}),this.saveDurationTime=0}this.saveDurationTime+=1}},{key:"back",value:function back(){var _props4=this.props,step=_props4.step,history=_props4.history,_props$params3=this.props.params,mode=_props$params3.mode,exerciseId=_props$params3.exerciseId,practiceId=_props$params3.practiceId,search=global.location.search;history.push("/"+mode+"/"+practiceId+"/"+exerciseId+"/"+(step.index-1)+search)}},{key:"next",value:function next(){var _this5=this,_props5=this.props,timer=_props5.timer,step=_props5.step,params=_props5.params,history=_props5.history,mode=params.mode,exerciseId=params.exerciseId,practiceId=params.practiceId,search=global.location.search;if("true"===isFull&&!step.isOtherPage){var sectionId=step.sectionId,examId=step.examId,suggestTime1=_constants.suggestTime[examId]&&_constants.suggestTime[examId][sectionId-1],timeOverHalf=timer.time/(60*suggestTime1*1e3)<=.5,questionNoHalf=step.questionIndex/step.questionCount<=.5;if(this.alertTimeNote=timeOverHalf&&questionNoHalf,this.alertTimeNote)return void _modal2.default.show("ModalAlert",{title:"提示",width:400,isUnhide:!0,buttons:[{title:"OK",class:"alertTip",onClick:function onClick(){_this5.alertTimeNote=!1,history.push("/"+mode+"/"+practiceId+"/"+exerciseId+"/"+(step.index+1)+search)}}],component:_react2.default.createElement(_tiUi.View,{className:_styles2.default.modalAlert},_react2.default.createElement(_tiUi.View,{className:_styles2.default.modalAlertText},"时间已过半，要加快进度哦~"))},this.onShow,this.onHide)}history.push("/"+mode+"/"+practiceId+"/"+exerciseId+"/"+(step.index+1)+search)}},{key:"handleTimeExpried",value:function handleTimeExpried(){var _props6=this.props,stepList=_props6.stepList,step=_props6.step,params=_props6.params,history=_props6.history,_props$params4=this.props.params,mode=_props$params4.mode,exerciseId=_props$params4.exerciseId,practiceId=_props$params4.practiceId,search=global.location.search;if("package"!==params.mode&&"true"===isFull)history.push("/"+mode+"/"+practiceId+"/"+exerciseId+"/"+(step.index+1+step.questionCount-step.questionIndex)+search);else{if("package"===params.mode){if(step.subject===(0,_lodash.get)(stepList,stepList.length-2+".subject"))return history.push("/"+mode+"/"+practiceId+"/"+exerciseId+"/"+(step.index+1)+search),!1;var isCurret=!1,isOk=!1,nextId=void 0;return stepList.map(function(item){return item.subject===step.subject?isCurret=!0:isCurret&&!isOk&&item.subject!==step.subject&&(isOk=!0,nextId=item.index),!1}),history.push("/"+mode+"/"+practiceId+"/"+exerciseId+"/"+nextId+search),!1}var stepId=stepList[stepList.length-1]&&stepList[stepList.length-1].index;history.push("/"+mode+"/"+practiceId+"/"+exerciseId+"/"+stepId+search)}}},{key:"countDown",value:function countDown(){var _this6=this,_props7=this.props,timer=_props7.timer,step=_props7.step,params=_props7.params,stepList=_props7.stepList,_state=this.state,isPauseTimer=_state.isPauseTimer,isPauseTimerForModal=_state.isPauseTimerForModal;if(step.isOtherPage||"Resting"===step.questionType||"package"===params.mode||this.saveDuration(),timer.isEnd&&timer.isCountDown&&!this.alertTimeExpried&&("Test"===timer.subject||"FullTest"===timer.subject&&7!==timer.sectionId||"package"===params.mode)&&(_modal2.default.show("ModalAlert",{title:"提示",width:400,isUnhide:!0,buttons:[{title:"package"!==params.mode?"true"!==isFull?"提交":"OK":step.subject===(0,_lodash.get)(stepList,stepList.length-2+".subject")?"提交":"Next",onClick:function onClick(){return _this6.handleTimeExpried()}}],component:"true"!==isFull?_react2.default.createElement(_tiUi.View,{className:_styles2.default.modalAlert},_react2.default.createElement(_tiUi.Image,{className:_styles2.default.modalAlertImage,src:__webpack_require__(325)}),_react2.default.createElement(_tiUi.View,{className:_styles2.default.modalAlertText},"时间已耗尽，点击","package"!==params.mode?"点击“提交”生成测评报告":step.subject===(0,_lodash.get)(stepList,stepList.length-2+".subject")?"“提交”生成您的测评报告":"“Next”继续")):_react2.default.createElement(_tiUi.View,{className:_styles2.default.modalAlert},_react2.default.createElement(_tiUi.View,{className:_styles2.default.modalAlertText},"时间已耗尽，点击","package"!==params.mode&&6===step.sectionId?"“提交”生成测评报告":"“Next”"))},this.onShow,this.onHide),this.alertTimeExpried=!0),!(timer.isEnd||isPauseTimer||isPauseTimerForModal)){var cntTime=void 0,cntIsEnd=0===(cntTime=timer.isCountDown?Math.max(0,timer.time-1e3):timer.time+1e3);this.setTimer({time:cntTime,isEnd:cntIsEnd})}}},{key:"toggleTimer",value:function toggleTimer(){var timer=this.props.timer;this.setTimer({isHide:!timer.isHide})}},{key:"toggleVolume",value:function toggleVolume(){var isShowVolume=this.state.isShowVolume;this.setState({isShowVolume:!isShowVolume})}},{key:"adjustVolume",value:function adjustVolume(status,event){var _this7=this;if("start"===status&&(global.window.onmouseup=function(){return _this7.adjustVolume("end")},global.window.onmousemove=function(event){return _this7.adjustVolume("adjust",event)}),"end"===status&&(global.window.onmouseup=void 0,global.window.onmousemove=void 0),"adjust"===status){var processBar=_reactDom2.default.findDOMNode(this.volumeProcessBar).getBoundingClientRect(),offset=event.x-(processBar.x||processBar.left),volume=Math.max(Math.min(offset/processBar.width,1),0);this.setState({volume:volume}),_audio_player2.default.setVolume(volume)}}},{key:"generateSubject",value:function generateSubject(id){var step=this.props.step,questionIndex=step.questionIndex,questionCount=step.questionCount,sectionId=step.sectionId,strokeDasharray=void 0,isFinish=void 0;id===sectionId?strokeDasharray=158*((questionIndex-1)/questionCount).toFixed(2)+" 158":id<sectionId?(isFinish=!0,strokeDasharray="158 158"):strokeDasharray="0 158";return _react2.default.createElement(_tiUi.View,{className:_styles2.default.bground},isFinish&&_react2.default.createElement(_tiUi.Image,{className:_styles2.default.finishIcon,src:__webpack_require__(819)}),_react2.default.createElement("svg",{style:{transform:"rotate(-90deg)",background:"#5f7dbe",borderRadius:"50%"},width:"16px",height:"16px",viewBox:"0 0 100 100"},_react2.default.createElement("circle",{r:"25",cx:"50",cy:"50",fill:"#5f7dbe",stroke:"#fff",strokeWidth:"50",strokeDasharray:strokeDasharray})))}},{key:"generateProgress",value:function generateProgress(){var examId=this.props.step.examId;return _react2.default.createElement(_tiUi.View,{className:_styles2.default.subjectBox},_react2.default.createElement(_tiUi.View,{className:_styles2.default.subjects},_react2.default.createElement(_tiUi.View,{className:_styles2.default.line}),_react2.default.createElement(_tiUi.View,{className:_styles2.default.subject},this.generateSubject(1),1===examId?"Reading":"Listening"),_react2.default.createElement(_tiUi.View,{className:_styles2.default.subject},this.generateSubject(2),2===examId?"Reading":"Listening"),_react2.default.createElement(_tiUi.View,{className:_styles2.default.subject},this.generateSubject(3),"Speaking"),_react2.default.createElement(_tiUi.View,{className:_styles2.default.subject},this.generateSubject(4),"Writing")))}},{key:"tipCard",value:function tipCard(){var _this8=this,isShowTip=this.state.isShowTip,step=this.props.step,questionIndex=step.questionIndex,sectionId=step.sectionId,examId=step.examId;return 1===questionIndex&&sectionId&&isShowTip?(setTimeout(function(){return _this8.setState({isShowTip:!1})},4e3),_react2.default.createElement(_tiUi.View,{className:_styles2.default.tipBox},_react2.default.createElement(_tiUi.View,{className:_styles2.default.tipClose},_react2.default.createElement(_tiUi.View,{onClick:function onClick(){return _this8.setState({isShowTip:!1})},className:_styles2.default.close})),_react2.default.createElement(_tiUi.View,{className:_styles2.default.tipContent},_react2.default.createElement(_tiUi.View,{className:_styles2.default.tipText},_constants.tipData[examId]&&_constants.tipData[examId][sectionId]),_react2.default.createElement(_tiUi.Image,{width:"64px",height:"75px",src:__webpack_require__(1===sectionId?325:820)})))):null}},{key:"nextStep",value:function(){var _ref=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(onClickNext){var step,unavailableButtons=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return _regenerator2.default.wrap(function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(step=this.props.step,!onClickNext||"true"===isFull&&step.questionIndex===step.questionCount){_context.next=6;break}return _context.next=4,onClickNext();case 4:_context.next=7;break;case 6:this.next();case 7:this.toggleShortcut(unavailableButtons,!1);case 8:case"end":return _context.stop()}},_callee,this)}));return function nextStep(_x2){return _ref.apply(this,arguments)}}()},{key:"toggleShortcut",value:function toggleShortcut(unavailableButtons,isShowShortcutTip){var params=this.props.params,isAvailable=-1===unavailableButtons.indexOf("testNext");"package"===params.mode&&(isAvailable=-1===unavailableButtons.indexOf("next")),this.setState({isShowShortcutTip:isAvailable&&isShowShortcutTip})}},{key:"updateUserInfo",value:function(){var _ref2=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(sectionId,isCompeleted){var _props8,setUserInfo,getUserInfo,loginUrl,params,exerciseId,onClickNext,_search,tokenUrl,token,user,message,gradeNum,background;return _regenerator2.default.wrap(function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(_props8=this.props,setUserInfo=_props8.setUserInfo,getUserInfo=_props8.getUserInfo,loginUrl=_props8.loginUrl,params=_props8.params,exerciseId=params.exerciseId,onClickNext=this.state.options.onClickNext,this.alertUpdateInfo=4===sectionId&&isCompeleted&&"true"!==isFull,!this.alertUpdateInfo){_context2.next=29;break}if(_search=global.location.search,tokenUrl=decodeURIComponent(_search.match(new RegExp("[?#&]token=([^?#&]+)","i"))?RegExp.$1:""),token=void 0,!tokenUrl){_context2.next=12;break}token=tokenUrl,_context2.next=21;break;case 12:_context2.prev=12,user=JSON.parse(_cookie2.default.parse(global.document.cookie).ss_user),token=user.token,_context2.next=21;break;case 17:return _context2.prev=17,_context2.t0=_context2.catch(12),redirectToLoginPage(loginUrl),_context2.abrupt("return");case 21:return _context2.next=23,(0,_axios2.default)({url:getUserInfo[1],method:"get",headers:{"Content-Type":"application/json",From:1},params:{token:token,fields:"background",exerciseId:exerciseId}});case 23:message=_context2.sent,gradeNum=(0,_lodash.get)(message,"data.data.background.grade"),background=(0,_lodash.get)(message,"data.data.background"),gradeNum?this.nextStep(onClickNext):_modal2.default.show("ModalUserGrade",{title:"信息完善",background:background||{},params:this.props.params,onClickNext:onClickNext,setUserInfo:setUserInfo,loginUrl:loginUrl},this.onShow,this.onHide),_context2.next=30;break;case 29:this.nextStep(onClickNext);case 30:case"end":return _context2.stop()}},_callee2,this,[[12,17]])}));return function updateUserInfo(_x4,_x5){return _ref2.apply(this,arguments)}}()},{key:"render",value:function render(){var _this9=this,_props9=this.props,timer=_props9.timer,step=_props9.step,params=_props9.params,name=_props9.name,history=_props9.history,search=global.location.search,noPause=decodeURIComponent(search.match(new RegExp("[?#&]noPause=([^?#&]+)","i"))?RegExp.$1:""),redirect=decodeURIComponent(search.match(new RegExp("[?#&]redirect=([^?#&]+)","i"))?RegExp.$1:""),_state$options=this.state.options,title=_state$options.title,showButtons=_state$options.showButtons,isShowTime=_state$options.isShowTime,unavailableButtons=_state$options.unavailableButtons,onClickBack=_state$options.onClickBack,onClickNext=_state$options.onClickNext,mode=params.mode,exerciseId=params.exerciseId,practiceId=params.practiceId,questionIndex=step.questionIndex,questionCount=step.questionCount,_state2=this.state,volume=_state2.volume,isShowVolume=_state2.isShowVolume,isShowShortcutTip=_state2.isShowShortcutTip;return _react2.default.createElement(_tiUi.View,{className:[_styles2.default.container,"test"===mode&&_styles2.default.containerTest]},"test"===mode&&"true"!==isFull&&this.tipCard(),_react2.default.createElement(_tiUi.View,{className:_styles2.default.title},_react2.default.createElement(_tiUi.Image,{className:_styles2.default.titleLogo,src:__webpack_require__(821)}),_react2.default.createElement(_tiUi.View,{className:_styles2.default.titleSplit}),_react2.default.createElement(_tiUi.View,{className:_styles2.default.titleText},"package"===mode&&name,"true"!==isFull&&"package"!==mode&&step.practice.name+(title?" ":"")+(title||""),"true"===isFull&&"package"!==mode&&(1===step.examId?"TOEFL":"IELTS")+"智能测评系统"+(step.isOtherPage||"Resting"===step.questionType?"":" - "+_constants.sectionIds[step.examId][step.sectionId-1]))),"test"!==mode&&"package"!==mode||"package"===mode&&step.index>1&&_react2.default.createElement(_tiUi.View,{className:_styles2.default.question},questionIndex&&questionCount&&_react2.default.createElement(_tiUi.View,null,"Question ",questionIndex," of ",questionCount)),"true"===isFull&&_react2.default.createElement(_tiUi.View,{className:_styles2.default.question1},questionIndex&&questionCount&&_react2.default.createElement(_tiUi.View,null,"Question ",questionIndex," of ",questionCount)),"test"===mode&&"true"!==isFull&&this.generateProgress(),_react2.default.createElement(_tiUi.View,null,_react2.default.createElement(_tiUi.View,{className:_styles2.default.normalButtons},isShowTime&&"package"===mode&&_react2.default.createElement(_tiUi.View,{className:_styles2.default.button},!timer.isHide&&_react2.default.createElement(_tiUi.View,{className:_styles2.default.buttonTimePackage},formatDuration(timer.time||0,!0))),-1!==showButtons.indexOf("correct")&&"package"!==mode&&_react2.default.createElement(_tiUi.Button,{className:_styles2.default.button,leftIcon:__webpack_require__(822),isAvailable:-1===unavailableButtons.indexOf("correct"),text:"我要纠错",onClick:function onClick(){return _this9.handleCorrect()}}),-1!==showButtons.indexOf("volume")&&"package"!==mode&&_react2.default.createElement(_tiUi.View,{className:_styles2.default.volumeWrapper},_react2.default.createElement(_tiUi.Button,{className:_styles2.default.button,leftIcon:__webpack_require__(823),isAvailable:-1===unavailableButtons.indexOf("volume"),text:"Volume",onClick:function onClick(){return _this9.toggleVolume()}}),isShowVolume&&_react2.default.createElement(_tiUi.View,{className:_styles2.default.volume},_react2.default.createElement(_tiUi.View,{ref:function ref(volumeProcessBar){_this9.volumeProcessBar=volumeProcessBar},className:_styles2.default.volumeProcessBarWrapper},_react2.default.createElement(_tiUi.View,{className:_styles2.default.volumeProcessBar,style:{width:66*volume}}),_react2.default.createElement(_tiUi.View,{className:_styles2.default.volumeProcessCircle,style:{left:66*volume-5},onMouseDown:function onMouseDown(){return _this9.adjustVolume("start")}})),_react2.default.createElement(_tiUi.View,{className:_styles2.default.volumeTriangle})),isShowVolume&&_react2.default.createElement(_tiUi.View,{className:_styles2.default.volumeBodyWrapper,onClick:function onClick(){return _this9.toggleVolume()}})),-1!==showButtons.indexOf("back")&&"package"!==mode&&_react2.default.createElement(_tiUi.Button,{className:_styles2.default.button,leftIcon:__webpack_require__(824),isAvailable:-1===unavailableButtons.indexOf("back"),text:"上一题",onClick:(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee3(){return _regenerator2.default.wrap(function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(!onClickBack){_context3.next=5;break}return _context3.next=3,onClickBack();case 3:_context3.next=6;break;case 5:_this9.back();case 6:case"end":return _context3.stop()}},_callee3,_this9)}))}),-1!==showButtons.indexOf("viewText")&&_react2.default.createElement(_tiUi.Button,{className:_styles2.default.button,isAvailable:-1===unavailableButtons.indexOf("viewText"),text:"View Text",onClick:function onClick(){history.push("/"+mode+"/"+practiceId+"/"+exerciseId+"/"+step.index+"/ViewText"+search)}}),-1!==showButtons.indexOf("viewQuestion")&&_react2.default.createElement(_tiUi.Button,{className:_styles2.default.button,isAvailable:-1===unavailableButtons.indexOf("viewQuestion"),text:"View Question",onClick:function onClick(){history.push("/"+mode+"/"+practiceId+"/"+exerciseId+"/"+step.index+search)}}),-1!==showButtons.indexOf("next")&&"package"!==mode&&_react2.default.createElement(_tiUi.Button,{className:_styles2.default.button,rightIcon:__webpack_require__(326),isAvailable:-1===unavailableButtons.indexOf("next"),text:step.questionIndex===step.questionCount?"提交":"下一题",onClick:function onClick(){return _this9.nextStep(onClickNext)}}),(-1!==showButtons.indexOf("next")||-1!==showButtons.indexOf("submit"))&&"package"===mode&&_react2.default.createElement(_tiUi.View,{className:_styles2.default.shortcutTipWrapper,onMouseEnter:function onMouseEnter(){return _this9.toggleShortcut(unavailableButtons,!0)},onMouseLeave:function onMouseLeave(){return _this9.toggleShortcut(unavailableButtons,!1)}},_react2.default.createElement(_tiUi.Button,{className:_styles2.default.button,rightIcon:__webpack_require__(326),isAvailable:-1===unavailableButtons.indexOf("next"),text:step.questionIndex&&step.questionIndex===step.questionCount?"Submit":"Next",onClick:function onClick(){return _this9.nextStep(onClickNext)}}),isShowShortcutTip&&_react2.default.createElement(_tiUi.View,{className:_styles2.default.shortcutTip},"快捷键：→")),isShowTime&&"test"===mode&&_react2.default.createElement(_tiUi.View,null,!timer.isHide&&_react2.default.createElement(_tiUi.View,{className:_styles2.default.buttonTimeTest},_react2.default.createElement(_tiUi.Image,{className:_styles2.default.timeIcon,src:__webpack_require__(825)}),formatDuration(timer.time||0,!0))),-1!==showButtons.indexOf("testStop")&&!noPause&&_react2.default.createElement(_tiUi.Button,{className:[_styles2.default.button,_styles2.default.buttonTest],leftIcon:__webpack_require__(826),isAvailable:-1===unavailableButtons.indexOf("testStop"),text:"退出测评",onClick:function onClick(){_modal2.default.show("ModalAlert",{title:"提示",width:400,isReport:!0,buttons:[{title:"ok",onClick:function onClick(){redirect?global.top.location.href=redirect:history.push("/entrance/"+step.examId+search)},class:"alertTip"}],component:_react2.default.createElement(_tiUi.View,{className:_styles2.default.modalAlert},_react2.default.createElement("div",{className:(0,_aphrodite.css)(_styles2.default.modalAlertText1)},"系统会",_react2.default.createElement("span",{className:(0,_aphrodite.css)(_styles2.default.tipAlertText)},"保留"),"你的做题进度, 下次可以",_react2.default.createElement("span",{className:(0,_aphrodite.css)(_styles2.default.tipAlertText)},"继续测评"),"哦～"))},_this9.onShow,_this9.onHide)}}),-1!==showButtons.indexOf("testNext")&&_react2.default.createElement(_tiUi.View,{className:_styles2.default.shortcutTipWrapper,onMouseEnter:function onMouseEnter(){return _this9.toggleShortcut(unavailableButtons,!0)},onMouseLeave:function onMouseLeave(){return _this9.toggleShortcut(unavailableButtons,!1)}},_react2.default.createElement(_tiUi.Button,{className:[_styles2.default.button,_styles2.default.buttonTest],rightIcon:redirect?void 0:__webpack_require__(827),isAvailable:-1===unavailableButtons.indexOf("testNext"),text:("true"===isFull?6!==step.sectionId:4!==step.sectionId)||step.isOtherPage||step.questionIndex!==step.questionCount?"Resting"!==step.questionType?"Next":"Continue":"提交",onClick:function onClick(){if(isFull)return _this9.nextStep(onClickNext),!1;_this9.updateUserInfo(step.sectionId,step.questionIndex===step.questionCount)}}),isShowShortcutTip&&_react2.default.createElement(_tiUi.View,{className:_styles2.default.shortcutTip},"快捷键：→"))),isShowTime&&"test"!==mode&&"package"!==mode&&_react2.default.createElement(_tiUi.View,{className:_styles2.default.timeButtons},!timer.isHide&&_react2.default.createElement(_tiUi.View,{className:_styles2.default.buttonTime},formatDuration(timer.time||0,!0)),"package"!==mode&&_react2.default.createElement(_tiUi.Button,{className:_styles2.default.button,theme:"darken",text:timer.isHide?"Show Time":"Hide Time",onClick:function onClick(){return _this9.toggleTimer()}}))),_react2.default.createElement(_modal2.default,{ref:function ref(modal){_modal2.default.instance=modal}}),_react2.default.createElement(_audio_player2.default,{ref:function ref(audioPlayer){_audio_player2.default.instance=audioPlayer}}),_react2.default.createElement(_recorder2.default,{ref:function ref(recorder){_recorder2.default.instance=recorder}}))}}]),Header}(_react.Component);Header.defaultProps={history:{},name:"",setTimer:function setTimer(){},getUploadSignature:function getUploadSignature(){},postCorrectionImage:function postCorrectionImage(){},postCorrection:function postCorrection(){},postDuration:function postDuration(){},loginUrl:"https://www.smartstudy.com/signin?no_meiqia=1&smartRedirect=",getUserInfo:["get","//api.smartstudy.com/tiku/users/get-user-base-info"],setUserInfo:["post","//api.smartstudy.com/tiku/users/user/profile"],createPromise:function createPromise(){}},Header.propTypes={history:_propTypes2.default.object,params:_propTypes2.default.object.isRequired,name:_propTypes2.default.string,step:_propTypes2.default.object.isRequired,stepList:_propTypes2.default.array.isRequired,timer:_propTypes2.default.object.isRequired,setTimer:_propTypes2.default.func,getUploadSignature:_propTypes2.default.func,postCorrectionImage:_propTypes2.default.func,postCorrection:_propTypes2.default.func,postDuration:_propTypes2.default.func,loginUrl:_propTypes2.default.string,getUserInfo:_propTypes2.default.array,setUserInfo:_propTypes2.default.array,createPromise:function createPromise(){}},exports.default=Header,Header.__docgenInfo={description:"",methods:[{name:"config",docblock:null,modifiers:["static"],params:[{name:"options",type:null}],returns:null},{name:"back",docblock:null,modifiers:["static"],params:[],returns:null},{name:"next",docblock:null,modifiers:["static"],params:[],returns:null},{name:"handleCorrect",docblock:null,modifiers:["static"],params:[],returns:null},{name:"uploadFailed",docblock:null,modifiers:["static"],params:[],returns:null},{name:"setTimer",docblock:null,modifiers:["static"],params:[{name:"options",type:null}],returns:null},{name:"cleanTimer",docblock:null,modifiers:["static"],params:[],returns:null},{name:"startTimer",docblock:null,modifiers:["static"],params:[],returns:null},{name:"pauseTimer",docblock:null,modifiers:["static"],params:[],returns:null},{name:"startTimerForModal",docblock:null,modifiers:["static"],params:[],returns:null},{name:"pauseTimerForModal",docblock:null,modifiers:["static"],params:[],returns:null},{name:"getTime",docblock:null,modifiers:["static"],params:[],returns:null},{name:"setTimer",docblock:null,modifiers:[],params:[{name:"value",type:null}],returns:null},{name:"cleanTimer",docblock:null,modifiers:[],params:[],returns:null},{name:"resetTimer",docblock:null,modifiers:[],params:[{name:"nextProps",type:null}],returns:null},{name:"pauseTimer",docblock:null,modifiers:[],params:[],returns:null},{name:"startTimer",docblock:null,modifiers:[],params:[],returns:null},{name:"saveDuration",docblock:null,modifiers:[],params:[],returns:null},{name:"back",docblock:null,modifiers:[],params:[],returns:null},{name:"next",docblock:null,modifiers:[],params:[],returns:null},{name:"handleTimeExpried",docblock:null,modifiers:[],params:[],returns:null},{name:"countDown",docblock:null,modifiers:[],params:[],returns:null},{name:"toggleTimer",docblock:null,modifiers:[],params:[],returns:null},{name:"toggleVolume",docblock:null,modifiers:[],params:[],returns:null},{name:"adjustVolume",docblock:null,modifiers:[],params:[{name:"status",type:null},{name:"event",type:null}],returns:null},{name:"generateSubject",docblock:null,modifiers:[],params:[{name:"id",type:null}],returns:null},{name:"generateProgress",docblock:null,modifiers:[],params:[],returns:null},{name:"tipCard",docblock:null,modifiers:[],params:[],returns:null},{name:"onArrowRightDown",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"nextStep",docblock:null,modifiers:["async"],params:[{name:"onClickNext",type:null},{name:"unavailableButtons",type:null}],returns:null},{name:"toggleShortcut",docblock:null,modifiers:[],params:[{name:"unavailableButtons",type:null},{name:"isShowShortcutTip",type:null}],returns:null},{name:"updateUserInfo",docblock:null,modifiers:["async"],params:[{name:"sectionId",type:null},{name:"isCompeleted",type:null}],returns:null},{name:"handleCorrect",docblock:null,modifiers:[],params:[],returns:null},{name:"onShow",docblock:null,modifiers:[],params:[],returns:null},{name:"onHide",docblock:null,modifiers:[],params:[],returns:null}],displayName:"Header",props:{history:{defaultValue:{value:"{}",computed:!1},type:{name:"object"},required:!1,description:""},name:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},setTimer:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},getUploadSignature:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},postCorrectionImage:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},postCorrection:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},postDuration:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},loginUrl:{defaultValue:{value:"'https://www.smartstudy.com/signin?no_meiqia=1&smartRedirect='",computed:!1},type:{name:"string"},required:!1,description:""},getUserInfo:{defaultValue:{value:"['get', '//api.smartstudy.com/tiku/users/get-user-base-info']",computed:!1},type:{name:"array"},required:!1,description:""},setUserInfo:{defaultValue:{value:"['post', '//api.smartstudy.com/tiku/users/user/profile']",computed:!1},type:{name:"array"},required:!1,description:""},createPromise:{defaultValue:{value:"() => {}",computed:!1},type:{name:"custom",raw:"() => {}"},required:!1,description:""},params:{type:{name:"object"},required:!0,description:""},step:{type:{name:"object"},required:!0,description:""},stepList:{type:{name:"array"},required:!0,description:""},timer:{type:{name:"object"},required:!0,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/header/index.js"]={name:"Header",docgenInfo:Header.__docgenInfo,path:"src/header/index.js"})}).call(this,__webpack_require__(3))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _utils=__webpack_require__(813),_article=__webpack_require__(814),_parser2=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(815)),_smoothScroll=__webpack_require__(816);var utils={getBodyWidth:_utils.getBodyWidth,getBodyHeight:_utils.getBodyHeight,getRandomString:_utils.getRandomString,formatDuration:_utils.formatDuration,countAllWords:_utils.countAllWords,countWords:_utils.countWords,getCursorPosition:_utils.getCursorPosition,isUndefinedOrNull:_utils.isUndefinedOrNull,handleAnswer:_utils.handleAnswer,handleIeltsAnswer:_utils.handleIeltsAnswer,getInitAnswer:_utils.getInitAnswer,getSubQuestionAnswer:_utils.getSubQuestionAnswer,formatReportDuration:_utils.formatReportDuration,firstUpperCase:_utils.firstUpperCase,normalizeArticle:_article.normalizeArticle,listeningParser:_parser2.default,smoothScroll:_smoothScroll.smoothScroll,redirectToLoginPage:_utils.redirectToLoginPage};exports.default=utils},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/default.6d1504ed.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/next.ec173e0d.png"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderIndex=exports.Drag=exports.Calculator=exports.Utils=exports.Header=exports.Error=exports.SearchWords=exports.Block=exports.Article=exports.Recorder=exports.Modal=exports.AudioPlayer=exports.Audio=void 0;var _audio2=_interopRequireDefault(__webpack_require__(317)),_audio_player2=_interopRequireDefault(__webpack_require__(198)),_modal2=_interopRequireDefault(__webpack_require__(88)),_recorder2=_interopRequireDefault(__webpack_require__(141)),_article2=_interopRequireDefault(__webpack_require__(200)),_block2=_interopRequireDefault(__webpack_require__(316)),_search_words2=_interopRequireDefault(__webpack_require__(112)),_error2=_interopRequireDefault(__webpack_require__(321)),_header2=_interopRequireDefault(__webpack_require__(323)),_utils2=_interopRequireDefault(__webpack_require__(324)),_calculator2=_interopRequireDefault(__webpack_require__(319)),_drag2=_interopRequireDefault(__webpack_require__(202)),_render_index2=_interopRequireDefault(__webpack_require__(328));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.Audio=_audio2.default,exports.AudioPlayer=_audio_player2.default,exports.Modal=_modal2.default,exports.Recorder=_recorder2.default,exports.Article=_article2.default,exports.Block=_block2.default,exports.SearchWords=_search_words2.default,exports.Error=_error2.default,exports.Header=_header2.default,exports.Utils=_utils2.default,exports.Calculator=_calculator2.default,exports.Drag=_drag2.default,exports.RenderIndex=_render_index2.default},function(module,exports,__webpack_require__){"use strict";(function(global){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf2=_interopRequireDefault(__webpack_require__(9)),_classCallCheck3=_interopRequireDefault(__webpack_require__(4)),_createClass3=_interopRequireDefault(__webpack_require__(5)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(7)),_inherits3=_interopRequireDefault(__webpack_require__(8)),_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_propTypes2=_interopRequireDefault(__webpack_require__(0)),_lodash=__webpack_require__(13),_tiUi=__webpack_require__(10),_routers=__webpack_require__(830),_aphrodite=__webpack_require__(2),_styles2=_interopRequireDefault(__webpack_require__(836));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var RenderIndex=function(_Component){function RenderIndex(props){(0,_classCallCheck3.default)(this,RenderIndex);var _this=(0,_possibleConstructorReturn3.default)(this,(RenderIndex.__proto__||(0,_getPrototypeOf2.default)(RenderIndex)).call(this,props));return _this.renderIndex=function(isFolding){var questionArray=_this.state.questionArray;return isFolding?questionArray[0]&&questionArray[0].map(_this.renderButton):questionArray&&questionArray.map(function(item){return item.map(_this.renderButton)})},_this.renderButton=function(item,index){var _this$props=_this.props,params=_this$props.params,questions=_this$props.questions,exerciseId=params.exerciseId,mode=params.mode,questionId=params.questionId,search=global.location.search;questionId||(questionId=questions[0].id);var className=[_styles2.default.num],isCorrect=item.materials[0].userAnswer?item.materials[0].userAnswer.correct:null;return-1!==["Blank","ChooseMany","ChooseOne","SortPointSelect","PointSelect","Sort"].indexOf(item.type)?parseInt(questionId,10)!==item.id||isCorrect?parseInt(questionId,10)===item.id&&isCorrect?className.push(_styles2.default.numGreenActive):parseInt(questionId,10)===item.id||isCorrect?parseInt(questionId,10)!==item.id&&isCorrect&&className.push(_styles2.default.numGreen):className.push(_styles2.default.numRed):className.push(_styles2.default.numRedActive):parseInt(questionId,10)===item.id?className.push(_styles2.default.numBlackActive):className.push(_styles2.default.numBlack),_react2.default.createElement(_tiUi.View,{key:index,className:className,onClick:function onClick(){return _routers.history.push("/report/"+mode+"/"+exerciseId+"/"+item.id+search)}},item.rank)},_this.state={isShowArrows:!1,questionArray:[],isFolding:!0},_this}return(0,_inherits3.default)(RenderIndex,_Component),(0,_createClass3.default)(RenderIndex,[{key:"componentWillMount",value:function componentWillMount(){var questions=this.props.questions,questionId=this.props.params.questionId;questions&&!questionId&&(questionId=questions[0].id);var count=questions.length,questionArray=[];if(count>14){for(var countPages=Math.ceil(count/13),i=1;i<=countPages;++i){var item=questions.slice(13*(i-1),13*i);questionArray.push(item)}this.setState({questionArray:questionArray});return this.setState({isShowArrows:!0}),!1}questionArray.push(questions);this.setState({isShowArrows:!1,questionArray:questionArray})}},{key:"render",value:function render(){var _this2=this,questions=this.props.questions,_state=this.state,isShowArrows=_state.isShowArrows,isFolding=_state.isFolding;return _react2.default.createElement(_tiUi.View,{style:{width:510,borderBottom:"solid 1px #c3ccd1",paddingBottom:"20px"}},_react2.default.createElement(_tiUi.View,{className:_styles2.default.indexBox},_react2.default.createElement(_tiUi.View,{className:_styles2.default.left},this.renderIndex(isFolding)),isShowArrows&&_react2.default.createElement(_tiUi.View,{className:[_styles2.default.num,_styles2.default.right,_styles2.default.button],onClick:function onClick(){_this2.setState({isFolding:!isFolding})}},_react2.default.createElement(_tiUi.Image,{src:__webpack_require__(isFolding?837:838),className:_styles2.default.image}))),_react2.default.createElement(_tiUi.View,{className:_styles2.default.answer},"答对：",_react2.default.createElement("span",{className:(0,_aphrodite.css)(_styles2.default.correct)}," ",(0,_lodash.filter)(questions,function(question){return(0,_lodash.get)(question,"materials.0.userAnswer.correct")}).length),"答错：",_react2.default.createElement("span",{className:(0,_aphrodite.css)(_styles2.default.error)}," ",(0,_lodash.filter)(questions,function(question){return!(0,_lodash.get)(question,"materials.0.userAnswer.correct")}).length)))}}]),RenderIndex}(_react.Component);RenderIndex.propTypes={questions:_propTypes2.default.array.isRequired,params:_propTypes2.default.object.isRequired},exports.default=RenderIndex,RenderIndex.__docgenInfo={description:"",methods:[{name:"renderIndex",docblock:null,modifiers:[],params:[{name:"isFolding",type:null}],returns:null},{name:"renderButton",docblock:null,modifiers:[],params:[{name:"item",type:null},{name:"index",type:null}],returns:null}],displayName:"RenderIndex",props:{questions:{type:{name:"array"},required:!0,description:""},params:{type:{name:"object"},required:!0,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/render_index/index.js"]={name:"RenderIndex",docgenInfo:RenderIndex.__docgenInfo,path:"src/render_index/index.js"})}).call(this,__webpack_require__(3))},,,,,function(module,exports){function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=function(){return[]},webpackEmptyContext.resolve=webpackEmptyContext,module.exports=webpackEmptyContext,webpackEmptyContext.id=333},,function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/checkbox-checked.57bd2eb9.png"},function(module,exports,__webpack_require__){"use strict";(function(global){Object.defineProperty(exports,"__esModule",{value:!0});exports.getBodyWidth=function getBodyWidth(){return global.document.body.offsetWidth},exports.getBodyHeight=function getBodyHeight(){return global.document.body.offsetHeight}}).call(this,__webpack_require__(3))},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/sound.e4544db1.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/close.9b753fae.png"},,,,function(module,exports,__webpack_require__){__webpack_require__(343),__webpack_require__(429),module.exports=__webpack_require__(430)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";(function(module){var _react=__webpack_require__(27);(0,__webpack_require__(503).setOptions)({name:"fractal-components",url:"https://github.com/wxyyxc1992/fractal-components",showDownPanel:!1}),(0,_react.addParameters)({options:{name:"Storybook",url:"#",goFullScreen:!1,showStoriesPanel:!0,showAddonPanel:!1,showSearchBox:!1,addonPanelInRight:!1,sortStoriesByKind:!1,hierarchySeparator:null,hierarchyRootSeparator:null,sidebarAnimations:!0,selectedPanel:void 0,enableShortcuts:!1,isToolshown:!0}});var req=__webpack_require__(505);(0,_react.configure)(function loadStories(){req.keys().forEach(function(filename){return req(filename)})},module)}).call(this,__webpack_require__(16)(module))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){var map={"./article.stories.js":506,"./audio.stories.js":747,"./audio_player.stories.js":748,"./block.stories.js":794,"./calculator.stories.js":795,"./drag.stories.js":809,"./error.stories.js":810,"./header.stories.js":812,"./modal.stories.js":828,"./recorder.stories.js":839,"./render_index.stories.js":848,"./search_words.stories.js":849};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=505},function(module,exports,__webpack_require__){"use strict";(function(module){var _react2=_interopRequireDefault(__webpack_require__(1)),_react3=__webpack_require__(27),_addonInfo=__webpack_require__(35),_aphrodite=__webpack_require__(2),_tableComponent2=_interopRequireDefault(__webpack_require__(37)),_article2=_interopRequireDefault(__webpack_require__(138)),_search_words2=_interopRequireDefault(__webpack_require__(112)),_article_data=__webpack_require__(113),_styles2=_interopRequireDefault(__webpack_require__(111));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var initAnswer=0;(0,_react3.storiesOf)("Article",module).addDecorator(_addonInfo.withInfo).addDecorator(function CenterDecorator(storyFn){return _react2.default.createElement("div",{style:_styles2.default.container},storyFn())}).addParameters({info:{inline:!0,styles:{header:{h1:{color:"#62C9FF"},h2:{color:"#32363A"}}}}}).add("段落定位",function(){return _react2.default.createElement("div",{style:_styles2.default.container},"富文本 文章样式：",_react2.default.createElement("br",null),_react2.default.createElement(_article2.default,{material:_article_data.material1,question:_article_data.question1}),_react2.default.createElement(_search_words2.default,{getSearchWord:"https://tiku.smartstudy.tech/word/brief"}))},{info:{text:'\n      富文本渲染组件 具有段落定位的功能 使用组件方法如下：\n\n      ~~~js\n        <Article material={material1} question={question1}></Article>\n        <SearchWords\n          getSearchWord="https://tiku.smartstudy.tech/word/brief"\n        ></SearchWords>\n      ~~~\n    ',TableComponent:_tableComponent2.default}}).add("高亮/加粗/斜体/下划线",function(){return _react2.default.createElement("div",{style:_styles2.default.container},"富文本 行内样式（一）",_react2.default.createElement("br",null),_react2.default.createElement(_article2.default,{material:_article_data.material2}))},{info:{text:"\n      富文本渲染组件 具有高亮/加粗/斜体/下划线的功能，使用组件方法如下：\n      ~~~js\n      <Article material={material2}></Article>\n      ~~~\n    ",TableComponent:_tableComponent2.default}}).add("大/小标题 普通 上/下标",function(){return _react2.default.createElement("div",{style:_styles2.default.container},"富文本 行内样式（二）",_react2.default.createElement("br",null),_react2.default.createElement(_article2.default,{material:_article_data.material5}))},{info:{text:"\n        富文本渲染组件 具有大/小标题 普通 上/下标的功能，使用组件方法如下：\n        ~~~js\n          <Article material={material5}></Article>\n        ~~~\n      ",TableComponent:_tableComponent2.default}}).add("插入耳机， 插入黑块️， 插入箭头",function(){return _react2.default.createElement("div",{style:_styles2.default.container},"富文本 行内样式（三）",_react2.default.createElement("br",null),_react2.default.createElement("br",null),_react2.default.createElement(_article2.default,{material:_article_data.material6,handleAnswer:function handleAnswer(e){console.log("插入题 答案保存～",e)},answer:["answer1"]}))},{info:{text:"\n        富文本渲染组件 具有大/小标题 普通 上/下标的功能，使用组件方法如下：\n        ~~~js\n          <Article material={material5}></Article>\n        ~~~\n      ",TableComponent:_tableComponent2.default}}).add("插入题 报告页演示",function(){return _react2.default.createElement("div",{style:_styles2.default.container},"富文本 行内样式（三）",_react2.default.createElement("br",null),_react2.default.createElement("br",null),_react2.default.createElement(_article2.default,{material:_article_data.material14,question:_article_data.question2,handleAnswer:function handleAnswer(e){console.log("插入题 答案保存～",e)},isReport:!0}))},{info:{text:"\n      插入题 报告页演示，使用组件方法如下：\n      ~~~js\n        <Article\n          material={material14}\n          question={question2}\n          handleAnswer={e => { console.log('插入题 答案保存～', e)}}\n          isReport={true}\n        >\n        </Article>\n      ~~~\n    ",TableComponent:_tableComponent2.default}}).add("插入短横线， 插入中横线， 插入长横线",function(){return _react2.default.createElement("div",{style:_styles2.default.container},"富文本 行内样式（四）",_react2.default.createElement("br",null),_react2.default.createElement(_article2.default,{material:_article_data.material7}))},{info:{text:"\n      插入短横线， 插入中横线， 插入长横线的功能，使用组件方法如下：\n      ~~~js\n        <Article material={material7}></Article>\n      ~~~",TableComponent:_tableComponent2.default}}).add("数学公式",function(){return _react2.default.createElement("div",{style:_styles2.default.container},_react2.default.createElement(_article2.default,{material:_article_data.material15,isReport:!1}),_react2.default.createElement(_article2.default,{material:_article_data.material15,isReport:!1}),_react2.default.createElement(_article2.default,{material:_article_data.material15,isReport:!1}))},{info:{text:"\n      目前主要是 基础题库的选项有插入数学公式的需求，使用组件方法如下：\n      ~~~js\n        <Article material={material15} isReport={false}></Article>\n      ~~~\n    ",TableComponent:_tableComponent2.default}}).add("左对齐",function(){return _react2.default.createElement("div",{style:_styles2.default.container},"富文本 段落样式（一）",_react2.default.createElement("br",null),_react2.default.createElement(_article2.default,{material:_article_data.material9}))},{info:{text:"\n      左对齐，使用组件方法如下：\n      ~~~js\n        <Article material={material9}></Article>\n      ~~~\n    ",TableComponent:_tableComponent2.default}}).add("右对齐",function(){return _react2.default.createElement("div",{style:_styles2.default.container},"富文本 段落样式（二）",_react2.default.createElement("br",null),_react2.default.createElement(_article2.default,{material:_article_data.material10}))},{info:{text:"\n      右对齐，使用组件方法如下：\n      ~~~js\n        <Article material={material10}></Article>\n      ~~~\n      ",TableComponent:_tableComponent2.default}}).add("居中",function(){return _react2.default.createElement("div",{style:_styles2.default.container},"富文本 段落样式（三）",_react2.default.createElement("br",null),_react2.default.createElement(_article2.default,{material:_article_data.material11}))},{info:{text:"\n      居中，使用组件方法如下：\n      ~~~js\n        <Article material={material11}></Article>\n      ~~~\n      ",TableComponent:_tableComponent2.default}}).add("缩进",function(){return _react2.default.createElement("div",{style:_styles2.default.container},"富文本 段落样式（一）",_react2.default.createElement("br",null),_react2.default.createElement(_article2.default,{material:_article_data.material8}))},{info:{text:"\n      缩进，使用组件方法如下：\n      ~~~js\n        <Article material={material8}></Article>\n      ~~~\n      ",TableComponent:_tableComponent2.default}}).add("添加图片",function(){return _react2.default.createElement("div",{style:_styles2.default.container},"富文本 段落样式（二）",_react2.default.createElement("br",null),_react2.default.createElement(_article2.default,{material:_article_data.material12,paragraphClassName:_styles2.default.paragraph1}))},{info:{text:"\n      缩进，使用组件方法如下：\n      ~~~js\n      <Article\n        material={material12}\n        paragraphClassName={styles.paragraph1}\n      >\n      </Article>\n      ~~~\n    ",TableComponent:_tableComponent2.default}}).add("添加音频",function(){return _react2.default.createElement("div",{style:_styles2.default.container},"富文本 段落样式（二）",_react2.default.createElement("br",null),_react2.default.createElement(_article2.default,{material:_article_data.material13,paragraphClassName:_styles2.default.paragraph2}))},{info:{text:"\n      添加音频，使用组件方法如下：\n      ~~~js\n        <Article\n          material={material13}\n          paragraphClassName={styles.paragraph2}\n        >\n        </Article>\n      ~~~\n    ",TableComponent:_tableComponent2.default}}).add("雅思报告页",function(){return _react2.default.createElement("div",{style:_styles2.default.container},_react2.default.createElement("table",{className:(0,_aphrodite.css)(_styles2.default.table)},Array.isArray(_article_data.tableBlank)&&_react2.default.createElement("tbody",{className:(0,_aphrodite.css)(_styles2.default.tbody)},Array.isArray(_article_data.tableBlank)&&_article_data.tableBlank.map(function(line,index){return _react2.default.createElement("tr",{key:index,className:(0,_aphrodite.css)(_styles2.default.tr)},Array.isArray(line)&&line.map(function(row,index1){var count=0;return row.content.inlineMarkup&&Array.isArray(row.content.inlineMarkup)&&(count=row.content.inlineMarkup.filter(function(item){return"BlankTable"===item.type}).length),initAnswer+=count,_react2.default.createElement("th",{className:(0,_aphrodite.css)(_styles2.default.tableCell),key:index1},_react2.default.createElement(_article2.default,{material:row.content,isIelts:!0,answerRsult:[{answer:"answer1|answer2|answer3",userAnswer:"answer and",isCorrect:!1},{answer:"answer1|answer2|answer3",userAnswer:"answer2",isCorrect:!0},{answer:"answer1|answer2|answer3",userAnswer:"answer1",isCorrect:!0},{answer:"answer1|answer2|answer3",userAnswer:"smart",isCorrect:!1},{answer:"answer1|answer2|answer3",userAnswer:"study",isCorrect:!1}],answer:["答案一","答案二","答案三","答案四"],externalInitAnswer:initAnswer-count,materialIds:[26142,26143,26144,26145,26146],isReport:!0,paragraphClassName:_styles2.default.paragraphClass}))}))}))),_react2.default.createElement("br",null))},{info:{text:"\n      雅思报告页，使用组件方法如下：\n      ~~~js\n      <table className={css(styles.table)}>\n      {\n        Array.isArray(tableBlank) &&\n        <tbody className={css(styles.tbody)}>\n          {\n            Array.isArray(tableBlank) && tableBlank.map((line, index) => (\n              <tr\n                key={index}\n                className={css(styles.tr)}\n              >\n                {\n                  Array.isArray(line) && line.map((row, index1) => {\n                    let count = 0;\n                    if (row.content.inlineMarkup && Array.isArray(row.content.inlineMarkup)) {\n                      count = row.content.inlineMarkup.filter(item =>\n                        item.type === 'BlankTable').length;\n                    }\n                    initAnswer += count;\n                    return (\n                      <th className={css(styles.tableCell)} key={index1}>\n                        <Article\n                          material={row.content}\n                          isIelts={true}\n                          answerRsult={[\n                            {answer: \"answer1|answer2|answer3\", userAnswer: \"answer and\", isCorrect: false},\n                            {answer: \"answer1|answer2|answer3\", userAnswer: \"answer2\", isCorrect: true},\n                            {answer: \"answer1|answer2|answer3\", userAnswer: \"answer1\", isCorrect: true},\n                            {answer: \"answer1|answer2|answer3\", userAnswer: \"smart\", isCorrect: false},\n                            {answer: \"answer1|answer2|answer3\", userAnswer: \"study\", isCorrect: false},\n                          ]}\n                          answer={['答案一', '答案二', '答案三', '答案四']}\n                          // qNum={['10', '11', '12', '13', '14']}\n                          externalInitAnswer={initAnswer - count}\n                          materialIds={[26142, 26143, 26144, 26145, 26146]}\n                          isReport={true}\n                          paragraphClassName={styles.paragraphClass}\n                        />\n                      </th>\n                    );\n                  })\n                }\n              </tr>\n            ))\n          }\n        </tbody>\n      }\n    </table>\n      ~~~\n    ",TableComponent:_tableComponent2.default}}).add("雅思 填空题",function(){return _react2.default.createElement("div",{style:_styles2.default.container},_react2.default.createElement(_article2.default,{material:_article_data.material3}),_react2.default.createElement("br",null))},{info:{text:"\n      雅思 填空题，使用组件方法如下：\n      ~~~js\n        <Article material={material3}></Article>\n      ~~~\n    ",TableComponent:_tableComponent2.default}}).add("雅思 表格填空题",function(){return _react2.default.createElement("div",{style:_styles2.default.container},_react2.default.createElement("table",{className:(0,_aphrodite.css)(_styles2.default.table)},Array.isArray(_article_data.tableBlank)&&_react2.default.createElement("tbody",{className:(0,_aphrodite.css)(_styles2.default.tbody)},Array.isArray(_article_data.tableBlank)&&_article_data.tableBlank.map(function(line,index){return _react2.default.createElement("tr",{key:index,className:(0,_aphrodite.css)(_styles2.default.tr)},Array.isArray(line)&&line.map(function(row,index1){var count=0;return row.content.inlineMarkup&&Array.isArray(row.content.inlineMarkup)&&(count=row.content.inlineMarkup.filter(function(item){return"BlankTable"===item.type}).length),initAnswer+=count,_react2.default.createElement("th",{className:(0,_aphrodite.css)(_styles2.default.tableCell),key:index1},_react2.default.createElement(_article2.default,{material:row.content,isIelts:!0,answer:["答案一","答案二","答案三","答案四"],qNum:["10","11","12","13","14"],externalInitAnswer:initAnswer-count,materialIds:[26142,26143,26144,26145,26146],isReport:!1,paragraphClassName:_styles2.default.paragraphClass}))}))}))),_react2.default.createElement("br",null))},{info:{text:"\n      雅思 填空题，使用组件方法如下：\n      ~~~js\n      <table className={css(styles.table)}>\n      {\n        Array.isArray(tableBlank) &&\n        <tbody className={css(styles.tbody)}>\n          {\n            Array.isArray(tableBlank) && tableBlank.map((line, index) => (\n              <tr\n                key={index}\n                className={css(styles.tr)}\n              >\n                {\n                  Array.isArray(line) && line.map((row, index1) => {\n                    let count = 0;\n                    if (row.content.inlineMarkup && Array.isArray(row.content.inlineMarkup)) {\n                      count = row.content.inlineMarkup.filter(item =>\n                        item.type === 'BlankTable').length;\n                    }\n                    initAnswer += count;\n                    return (\n                      <th className={css(styles.tableCell)} key={index1}>\n                        <Article\n                          material={row.content}\n                          isIelts={true}\n                          // handleAnswer={() => { alert('～处理答案的回调函数～')}}\n                          // handleQuestionSelect={() => { alert('～处理子题选中的回调函数～')}}\n                          answer={['答案一', '答案二', '答案三', '答案四']}\n                          qNum={['10', '11', '12', '13', '14']}\n                          externalInitAnswer={initAnswer - count}\n                          materialIds={[26142, 26143, 26144, 26145, 26146]}\n                          isReport={false}\n                          paragraphClassName={styles.paragraphClass}\n                        />\n                      </th>\n                    );\n                  })\n                }\n              </tr>\n            ))\n          }\n        </tbody>\n      }\n    </table>\n      ~~~\n    ",TableComponent:_tableComponent2.default}}).add("question",function(){return _react2.default.createElement("div",{style:_styles2.default.container},_react2.default.createElement(_article2.default,{material:_article_data.material1,question:_article_data.question1}))},{info:{text:"\n      雅思 填空题，使用组件方法如下：\n      ~~~js\n        <Article material={material1} question={question1}></Article>\n      ~~~\n    ",TableComponent:_tableComponent2.default}}).add("设置图片宽度",function(){return _react2.default.createElement("div",{style:_styles2.default.container},_react2.default.createElement(_article2.default,{material:_article_data.material12,paragraphClassName:_styles2.default.paragraph1,isReport:!0,imgWidth:200}))},{info:{text:"\n      段落解析组件 支持设置图片宽度 imgWidth 传数字类型 使用组件方法如下：\n      ~~~js\n      <Article \n        material={material12}\n        paragraphClassName={styles.paragraph1}\n        isReport={true}\n        imgWidth={200}>\n      </Article>\n      ~~~\n    ",TableComponent:_tableComponent2.default}}).add("设置段落样式 pStyle",function(){return _react2.default.createElement("div",{style:_styles2.default.container},_react2.default.createElement(_article2.default,{paragraphClassName:_styles2.default.tipTop,material:{paragraphs:[{id:"f2776cd4-01e6-9d42-9dd4-2d83bdea9eee",text:"指导语～～",type:"Text"}]},pStyle:_styles2.default.pStyle}))},{info:{text:"\n      雅思 填空题，使用组件方法如下：\n      ~~~js\n        <Article material={material1} question={question1} pStyle={styles.pStyle}></Article>\n      ~~~\n    ",TableComponent:_tableComponent2.default}})}).call(this,__webpack_require__(16)(module))},,,function(module,exports,__webpack_require__){var map={"./nestedObjectAssign":263,"./nestedObjectAssign.js":263};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=509},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.normalizeArticle=void 0;var _extends3=_interopRequireDefault(__webpack_require__(11)),_objectWithoutProperties3=_interopRequireDefault(__webpack_require__(73)),_lodash=__webpack_require__(13);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var groupMarkupsByPId=function groupMarkupsByPId(source){var mappings={};return(source||[]).forEach(function(item){(mappings[item.pid]||(mappings[item.pid]=[])).push(item)}),(0,_lodash.mapValues)(mappings,function(arr){return(0,_lodash.sortBy)(arr,"index")})};exports.normalizeArticle=function normalizeArticle(origin){var decorator=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},isTextOnly=arguments[2],paragraphs=origin.paragraphs,rest=(0,_objectWithoutProperties3.default)(origin,["paragraphs"]),paragraphMarkups=groupMarkupsByPId(isTextOnly?origin.paragraphMarkup:decorator.paragraphMarkup),inlineMarkups=groupMarkupsByPId(isTextOnly?origin.inlineMarkup:decorator.inlineMarkup),hasAnchor=!1,newParapraphs=(0,_lodash.map)(paragraphs,function(p){var anchor=!isTextOnly&&(0,_lodash.get)(decorator,"articleMarkup.anchorPid")===p.id;return anchor&&(hasAnchor=!0),(0,_extends3.default)({},p,{markups:paragraphMarkups[p.id]||[],inlineMarkups:inlineMarkups[p.id]||[],anchor:anchor})});return(0,_extends3.default)({},rest,{hasAnchor:hasAnchor,paragraphs:(0,_lodash.compact)(newParapraphs)})}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _keys2=_interopRequireDefault(__webpack_require__(196)),_classCallCheck3=_interopRequireDefault(__webpack_require__(4)),_createClass3=_interopRequireDefault(__webpack_require__(5));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var listeningParser=function(){function listeningParser(){(0,_classCallCheck3.default)(this,listeningParser),this.mdArr=[],this.tmpArr=[],this.openSymbol=[]}return(0,_createClass3.default)(listeningParser,[{key:"parse",value:function parse(mdStr,isCombine){if("string"!=typeof mdStr)throw new Error("非法参数");return this.getArrayData(mdStr),this.tmpArr.length&&this.rawParser(this.tmpArr),isCombine?this.rawCombine(this.mdArr):this.mdArr}},{key:"getArrayData",value:function getArrayData(mdStr){var symbolIndex=new RegExp("{{(.*?)}}"),strResult=mdStr.match(symbolIndex);if(strResult){var key=strResult[1],leftStr=mdStr.substring(strResult.index+strResult[0].length);if("end"!==key)this.openSymbol.push(key),"paragraph"===key&&this.tmpArr.length>0&&this.rawParser(this.tmpArr);else{if(0===this.openSymbol.length)throw new Error("标签闭合错误");var keyWord=this.openSymbol.pop();if("paragraph"===keyWord&&0===this.openSymbol.length)this.paragraphParser();else{if(!(["time","raw","translation"].indexOf(keyWord)>-1))throw new Error("UNKNOWN SYMBOL: "+keyWord);var lastItem=this.tmpArr[this.tmpArr.length-1];if(lastItem&&"time"===lastItem.key&&"raw"!==keyWord)throw new Error("time标签之后必须要有raw标签");if("translation"===keyWord&&lastItem&&"raw"!==lastItem.key)throw new Error("trans标签之前必须要有raw标签");var text=mdStr.substring(0,strResult.index);this.tmpArr.push({key:keyWord,text:text})}}leftStr&&this.getArrayData(leftStr)}else mdStr.trim()&&this.mdArr.push({raw:mdStr})}},{key:"timeParser",value:function timeParser(text){return{start:1*text.split("/")[0],end:1*text.split("/")[1]}}},{key:"paragraphParser",value:function paragraphParser(){for(var rawArray=this.tmpArr,start=0,end=0,raw="",translation="",i=0;i<rawArray.length;i+=1)if("time"===rawArray[i].key){var timeObj=this.timeParser(rawArray[i].text);start=start||timeObj.start,start=timeObj.start-start>0?start:timeObj.start,end=timeObj.end-end>0?timeObj.end:end}else"raw"===rawArray[i].key?raw+=rawArray[i].text:"translation"===rawArray[i].key&&(translation+=rawArray[i].text);this.tmpArr=[],this.mdArr.push({start:start,end:end,raw:raw,translation:translation})}},{key:"rawParser",value:function rawParser(rawArray){for(var rawObj={},i=0;i<rawArray.length;i+=1)"time"===rawArray[i].key?(rawObj.raw&&this.mdArr.push(rawObj),rawObj=this.timeParser(rawArray[i].text)):"raw"===rawArray[i].key?(rawObj.raw&&(this.mdArr.push(rawObj),rawObj={}),rawObj.raw=rawArray[i].text):"translation"===rawArray[i].key&&(rawObj.translation=rawArray[i].text,this.mdArr.push(rawObj),rawObj={}),i===rawArray.length-1&&(0,_keys2.default)(rawObj).length>0&&this.mdArr.push(rawObj)}},{key:"rawCombine",value:function rawCombine(mdArr){var start=void 0,end=void 0,raw="",translation="";return mdArr.forEach(function(m){start=start&&m.start-start>0?start:m.start,end=end?m.end-end>0?m.end:end:m.end,raw+=m.raw||"",translation+=m.translation||""}),{start:start,end:end,raw:raw,translation:translation}}}]),listeningParser}();exports.default=listeningParser},,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _aphrodite=__webpack_require__(2),loading={"0%":{transform:"scale(1)",opacity:1},"45%":{transform:"scale(0.1)",opacity:.7},"80%":{transform:"scale(1)",opacity:1}};exports.default=_aphrodite.StyleSheet.create({container:{width:"100%"},content:{flex:1,flexDirection:"row",fontSize:14,height:64,lineHeight:"64px",border:"solid 1px #dce6ec",backgroundColor:"#fff"},audioBox:{position:"relative",flexDirection:"row"},textStatus:{flexDirection:"row"},textContent:{marginTop:34},raw:{marginTop:40,":first-child":{marginTop:0},":last-child":{marginBottom:18}},rawText:{marginTop:12,lineHeight:"24px",":first-child":{marginTop:0}},mask:{flex:1,flexDirection:"row",position:"absolute",top:0,left:0,height:"100%",width:"100%",backgroundColor:"rgba(255,255,255,.6)",transform:"scale(1)",justifyContent:"center",alignItems:"center"},spot:{backgroundColor:"#C3CCD1",width:10,height:10,borderRadius:"100%",margin:2,animationFillMode:"both",display:"inline-block",":nth-child(1)":{animationName:[loading],animationDuration:"0.75s",animationTimingFunction:"cubic-bezier(0.2, 0.68, 0.18, 1.08)",animationDelay:"-0.24s",animationIterationCount:"infinite"},":nth-child(2)":{animationName:[loading],animationDuration:"0.75s",animationTimingFunction:"cubic-bezier(0.2, 0.68, 0.18, 1.08)",animationDelay:"-0.12s",animationIterationCount:"infinite"},":nth-child(3)":{animationName:[loading],animationDuration:"0.75s",animationTimingFunction:"cubic-bezier(0.2, 0.68, 0.18, 1.08)",animationDelay:"0s",animationIterationCount:"infinite"}},default:{marginTop:16,marginLeft:16,marginRight:10,width:32,height:32,backgroundSize:"100%"},play:{backgroundImage:"url("+__webpack_require__(702)+")",":hover":{backgroundImage:"url("+__webpack_require__(703)+")"}},pause:{backgroundImage:"url("+__webpack_require__(704)+")",":hover":{backgroundImage:"url("+__webpack_require__(705)+")"}},gray:{backgroundImage:"url("+__webpack_require__(706)+")"},color878F98:{color:"#878F98"},progressBox:{position:"relative",marginTop:27.5,marginLeft:10,marginRight:6,height:10},progress:{marginTop:2.5,width:"100%",height:5,borderRadius:"2.5px",backgroundColor:"#dce6ec",cursor:"pointer"},blueProgress:{position:"absolute",top:2.5,left:0,height:5,borderRadius:"2.5px",background:"linear-gradient(to right, #62c9ff, #3399ff)"},dot:{position:"absolute",top:"-1px",width:12,height:12,borderRadius:"12px",backgroundColor:"#fff",border:"solid 1px #878f98"},showText:{marginLeft:4,color:"#3399ff",cursor:"pointer"},showArrow:{marginTop:25,marginLeft:18,width:12,height:12,backgroundImage:"url("+__webpack_require__(707)+")",backgroundSize:"100%",backgroundRepeat:"no-repeat",transform:"rotate(0deg)"},arrowRotate:{transform:"rotate(180deg)"},arrowGray:{opacity:.5},textGray:{opacity:.5},textBox:{padding:"18px 20px 0 20px",backgroundColor:"#fff",border:"solid 1px #dce6ec",borderTop:"none"},lBox:{flex:1,flexDirection:"row"},strip:{position:"relative",marginTop:24,marginLeft:10,width:28,height:14,borderRadius:"40px",backgroundColor:"#c3ccd1",cursor:"pointer"},stripActive:{backgroundColor:"#3399ff"},round:{position:"absolute",top:1,left:1,width:12,height:12,borderRadius:"50%",backgroundColor:"#ffffff"},roundActive:{left:"none",right:1},listeningBtn:{marginLeft:8,lineHeight:"60px",fontSize:12,color:"#32363a"},listeningBtnGray:{opacity:.5},articleEmpty:{fontSize:14,textAlign:"center"},empty:{width:100,height:100,margin:"10% auto 10px auto"}})},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/play.cbe86dc5.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/play-hover.3ffb31ce.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/pause.e15c798a.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/pause-hover.13a88a2c.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/play-gray.2ec5213e.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/arrow_blue.2aa7bc66.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/article-gray.6f49e9ae.png"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.firstUpperCase=function firstUpperCase(str){return str?str.toLowerCase().replace(/( |^)[a-z]/g,function(L){return L.toUpperCase()}):" "}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _aphrodite=__webpack_require__(2),_arrow2=_interopRequireDefault(__webpack_require__(711)),_block2=_interopRequireDefault(__webpack_require__(712)),_headset2=_interopRequireDefault(__webpack_require__(713));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.default=_aphrodite.StyleSheet.create({arrow:{marginLeft:10,width:14,height:14,border:"none",display:"inline-block"},paragraph:{position:"relative",margin:0},block:{margin:0,marginBottom:20,wordBreak:"break-word",wordWrap:"break-word",fontSize:16,lineHeight:"24px"},blockIndent:{textIndent:"2em"},blockArrow:{"::before":{position:"absolute",textIndent:0,top:0,left:0,right:0,bottom:0,content:'""',backgroundImage:"url("+_arrow2.default+")",backgroundRepeat:"no-repeat",backgroundSize:"14px 14px",backgroundPosition:"left top 5px"},textIndent:"2em"},blockArrowBlank:{display:"inline-block",width:20,height:20,backgroundImage:"url("+_arrow2.default+")",backgroundRepeat:"no-repeat",backgroundSize:"14px 14px",verticalAlign:"middle",marginLeft:"5px",marginTop:"5px"},blockAlignLeft:{textAlign:"left"},blockAlignCenter:{textAlign:"center"},blockAlignRight:{textAlign:"right"},inlineFontSizeH1:{fontSize:24,lineHeight:"34px"},inlineFontSizeH2:{fontSize:20,lineHeight:"30px"},inlineFontSizeSup:{fontSize:"75%",lineHeight:0,position:"relative",verticalAlign:"baseline",top:"-0.5em"},inlineFontSizeSub:{fontSize:"75%",lineHeight:0,position:"relative",verticalAlign:"baseline",bottom:"-0.25em"},inlineHighlight:{backgroundColor:"#D5DCDF"},inlineBold:{fontWeight:"Bold"},inlineItalic:{fontStyle:"italic"},inlineUnderline:{textDecoration:"underline"},inlineInsert:{display:"inline-block",width:26,height:14,marginBottom:-1,backgroundImage:"url("+_block2.default+")",backgroundRepeat:"no-repeat",backgroundSize:"14px 14px",backgroundPosition:"center bottom"},inlineEarphoneRight:{"::after":{position:"absolute",width:24,height:24,top:0,right:-30,content:'""',backgroundImage:"url("+_headset2.default+")",backgroundRepeat:"no-repeat",backgroundSize:"24px 24px",backgroundPosition:"center center"},position:"relative"},inlineEarphoneLeft:{"::before":{position:"absolute",width:24,height:24,top:0,left:0,content:'""',backgroundImage:"url("+_headset2.default+")",backgroundRepeat:"no-repeat",backgroundSize:"24px 24px",backgroundPosition:"center center"},position:"relative",display:"inline-block",textIndent:"30px"},input:{margin:"0 1px",padding:"0 4px",fontFamily:"PingFangSC-Regular",lineHeight:"32px",color:"#32363A",fontSize:"16px"},smallLine:{margin:"0 1px",padding:"0 4px",fontFamily:"PingFangSC-Regular",lineHeight:"32px",color:"#32363A",fontSize:"16px",marginTop:10,borderBottom:"1px solid rgba(50,54,58,1) ",width:"135px"},middleLine:{margin:"0 1px",padding:"0 4px",fontFamily:"PingFangSC-Regular",lineHeight:"32px",color:"#32363A",fontSize:"16px",marginTop:10,borderBottom:"1px solid rgba(50,54,58,1) ",width:"60%"},largeLine:{margin:"0 1px",padding:"0 4px",fontFamily:"PingFangSC-Regular",lineHeight:"32px",color:"#32363A",fontSize:"16px",marginTop:10,borderBottom:"1px solid rgba(50,54,58,1) ",width:"90%"},image:{width:"100%"},exercise:{boxSizing:"border-box",width:700,padding:20,backgroundColor:"rgba(246,248,249,1)"},insertBlank:{width:"200px",height:"40px",border:"1px solid rgba(135,143,152,1)",textAlign:"center",fontSize:"16px",fontFamily:"PingFangSC-Regular",color:"rgba(50,54,58,1)",lineHeight:"22px",margin:"8px 8px 0px 8px"},correct:{width:"200px",height:"40px",border:"1px solid rgba(135,143,152,1)",textAlign:"center",fontSize:"16px",lineHeight:"22px",margin:"8px 8px 0px 8px",color:"rgba(73,207,81,1)"},error:{width:"200px",height:"40px",border:"1px solid rgba(135,143,152,1)",textAlign:"center",fontSize:"16px",lineHeight:"22px",margin:"8px 8px 0px 8px",color:"rgba(253,84,84,1)"},ieltsBlank:{height:"40px",lineHeight:"40px",verticalAlign:"baseline"},kfformula:{verticalAlign:"middle",margin:"-5px -20px -5px -20px"},center:{lineHeight:"24px",margin:"0px 0px 0px 0px"}})},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/arrow.27d8344e.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/block.32af041b.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/headset.9e737cec.png"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _aphrodite=__webpack_require__(2);exports.default=_aphrodite.StyleSheet.create({container:{color:"#32363A",letterSpacing:0,":nth-child":{marginTop:20},":first-child":{marginTop:0}}})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";(function(global){Object.defineProperty(exports,"__esModule",{value:!0});exports.getBodyWidth=function getBodyWidth(){return global.document.body.offsetWidth},exports.getBodyHeight=function getBodyHeight(){return global.document.body.offsetHeight}}).call(this,__webpack_require__(3))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _aphrodite=__webpack_require__(2);exports.default=_aphrodite.StyleSheet.create({content:{display:"none",position:"absolute",zIndex:10001,width:"280px",padding:"20px",justifyContent:"center",alignItems:"center",backgroundColor:"white",boxShadow:"0px 1px 15px 0px rgba(0,0,0,0.12)",userSelect:"none",borderRadius:"5px"},triangle:{zIndex:1e4,display:"none",width:0,height:0,borderWidth:"20px 20px 0  0",borderStyle:"solid",borderColor:"#fff #fff transparent transparent ",position:"absolute",backgroundColor:"transparent",boxShadow:"0px 1px 15px 0px rgba(0,0,0,0.12)",transform:"rotate(-45deg)",userSelect:"none"},triangleMask:{zIndex:10002,backgroundColor:"white",boxShadow:"0px"},word:{fontSize:"16px",fontFamily:"PingFang-SC-Medium",fontWeight:500,color:"rgba(50,54,58,1)",lineHeight:"22px"},sound:{flexDirection:"row",alignItems:"center",marginTop:"4px"},soundMark:{marginRight:"8px",fontSize:"12px",fontFamily:"PingFang-SC-Medium",fontWeight:500,color:"rgba(135,143,152,1)",lineHeight:"17px"},soundButton:{cursor:"pointer",width:16,height:12,backgroundImage:"url("+__webpack_require__(313)+")",backgroundSize:"16px 12px",":hover":{backgroundImage:"url("+__webpack_require__(745)+")",backgroundSize:"16px 12px "}},unAvalible:{width:16,height:12,backgroundImage:"url("+__webpack_require__(313)+")",backgroundSize:"16px 12px"},isPlaying:{cursor:"pointer",width:16,height:12,backgroundImage:"url("+__webpack_require__(746)+")",backgroundSize:"16px 12px"},translate:{marginTop:"20px",fontSize:"12px",fontFamily:"PingFang-SC-Medium",fontWeight:500,color:"rgba(50,54,58,1)",lineHeight:"24px"},translateList:{flexDirection:"row"},showContent:{display:"flex",animationName:[{"0%":{opacity:0},"100%":{opacity:1}}],animationDuration:"0.5s",animationTimingFunction:"cubic-bezier(0.2, 0.68, 0.18, 1.08)",animationIterationCount:"1"},noContent:{fontSize:"12px",fontFamily:"PingFang-SC-Medium",fontWeight:500,marginTop:"20px",color:"rgba(135,143,152,1)",lineHeight:"17px"},dot:{flexDirection:"row",justifyContent:"center",alignItems:"center",textIndent:0},dotMask:{display:"inline-block",width:"10px",height:"24px",backgroundColor:"white",animationName:[{"66%":{transform:"translateX(-3px)"},"33%":{transform:"translateX(-6px)"},"0%":{transform:"translateX(-10px)"}}],animationDuration:"1.5s",animationTimingFunction:"cubic-bezier(0.2, 0.68, 0.18, 1.08)",animationDelay:"-0.24s",animationIterationCount:"infinite"},result:{justifyContent:"center",alignItems:"center"},searching:{marginTop:"20px",flexDirection:"row",justifyContent:"center",alignItems:"center",textIndent:"20px",fontSize:"12px",fontFamily:"PingFang-SC-Medium",fontWeight:500,color:"rgba(135,143,152,1)",lineHeight:"24px"}})},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/sound_hover.975aac5a.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/sound_play.04e11848.gif"},function(module,exports,__webpack_require__){"use strict";(function(module){var _react2=_interopRequireDefault(__webpack_require__(1)),_react3=__webpack_require__(27),_addonInfo=__webpack_require__(35),_audio2=_interopRequireDefault(__webpack_require__(299)),_tableComponent2=_interopRequireDefault(__webpack_require__(37)),_article_data=__webpack_require__(113);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(0,_react3.storiesOf)("Audio",module).addDecorator(_addonInfo.withInfo).addParameters({info:{inline:!1,styles:{header:{h1:{color:"#62C9FF"},h2:{color:"#32363A"}}}}}).add("src",function(){return _react2.default.createElement("div",{style:{width:"500px",height:"100px"}},_react2.default.createElement(_audio2.default,{src:"http://media8.smartstudy.com/atheneBackend/1544499183839yRX4EW.mp3",cdnUrl:"https://media8.smartstudy.com/"}))},{info:{text:"\n      音频播放组件 可以传入需要播放的音频路径 使用组件方法如下：\n      ~~~js\n        <div>\n          <Audio\n            src={'/atheneBackend/1539519944613QFkn3X.mp3'}\n            cdnUrl={'https://media8.smartstudy.com/'}\n          ></Audio>\n        </div>\n      ~~~\n    ",TableComponent:_tableComponent2.default}}).add("src 错误的情况",function(){return _react2.default.createElement("div",{style:{width:"500px",height:"100px"}},_react2.default.createElement(_audio2.default,{src:"https://media8.smartstudy.com//atheneBackend/1539519944613QFkn3.mp3"}))},{info:{text:"\n      音频播放组件 如果音频错误，则在一直加载。使用组件方法如下：\n      ~~~js\n        <div>\n          <Audio\n            src={'https://media8.smartstudy.com//atheneBackend/1539519944613QFkn3.mp3'}\n            showPlayer={false}\n          ></Audio>\n        </div>\n      ~~~\n    ",TableComponent:_tableComponent2.default}}).add("cdnUrl (必传)",function(){return _react2.default.createElement("div",{style:{width:"500px",height:"100px"}},_react2.default.createElement(_audio2.default,{src:"/atheneBackend/1539519944613QFkn3X.mp3",cdnUrl:"https://media8.smartstudy.com/"}))},{info:{text:"\n      音频播放组件 cdnUrl为cdn路径的前缀，dev和线上不同 使用组件方法如下：\n      ~~~js\n        <Audio\n          src={'/atheneBackend/1539519944613QFkn3X.mp3'}\n          cdnUrl={'https://media8.smartstudy.com/'}\n        ></Audio>\n      ~~~\n    ",TableComponent:_tableComponent2.default}}).add("text 听力译文 listenTranslation 时间码(不带译文)",function(){return _react2.default.createElement("div",{style:{width:"510px",height:"100px"}},_react2.default.createElement(_audio2.default,{src:"/atheneBackend/1539519944613QFkn3X.mp3",cdnUrl:"https://media8.smartstudy.com/",text:"{{time}}1.86/10.55{{end}}↵{{raw}}In my presentation, I'm going to talk about coffee, and its importance both in economic and social terms.{{end}}↵{{time}}10.55/24.15{{end}}↵{{raw}}We think it was first drunk in the Arab world, but there's hardly any documentary evidence of it before the 1500s, although of course that doesn't mean that people didn't know about it before then.{{end}}↵{{time}}24.15/34.14{{end}}↵{{raw}}However, there is evidence that coffee was originally gathered from bushes growing wild in Ethiopia, in the northeast of Africa.{{end}}↵{{time}}34.14/44.42{{end}}↵{{raw}}In the early sixteenth century, it was being bought by traders, and gradually its use as a drink spread throughout the Middle East.{{end}}↵{{time}}44.42/58.35{{end}}↵{{raw}}It's also known that in 1522, in the Turkish city of Constantinople, which was the centre of the Ottoman Empire, the court physician approved its use as a medicine.{{end}}↵{{time}}58.35/72.25{{end}}↵{{raw}}By the mid-1500s, coffee bushes were being cultivated in the Yemen and for the next hundred years this region produced most of the coffee drunk in Africa and the Arab world.{{end}}↵{{time}}72.25/78.1{{end}}↵{{raw}}What's particularly interesting about coffee is its effect on social life.{{end}}↵{{time}}78.1/84.58{{end}}↵{{raw}}It was rarely drunk at home, but instead people went to coffee houses to drink it.{{end}}↵{{time}}84.58/91.74{{end}}↵{{raw}}These people, usually men, would meet to drink coffee and chat about issues of the day.{{end}}↵{{time}}91.74/108.97{{end}}↵{{raw}}But at the time, this chance to share ideas and opinions was seen as something that was potentially dangerous, and in 1623 the ruler of Constantinople demanded the destruction of all the coffee houses in the city.{{end}}↵{{time}}108.97/115.89{{end}}↵{{raw}}although after his death many new ones opened, and coffee consumption continued.{{end}}↵{{time}}115.89/129.18{{end}}↵{{raw}}In the seventeenth century, coffee drinking spread to Europe, and here too coffee shops became places where ordinary people, nearly always men, could meet to exchange ideas.{{end}}↵{{time}}129.18/136.68{{end}}↵{{raw}}Because of this, some people said that these places performed a similar function to universities.{{end}}↵{{time}}136.68/159.4{{end}}↵{{raw}}The opportunity they provided for people to meet together outside their own homes and to discuss the topics of the day had an enormous impact on social life, and many social movements and political developments had their origins in coffee house discussions.{{end}}↵{{time}}159.4/171.36{{end}}↵{{raw}}In the late 1600s, the Yemeni monopoly on coffee production broke down and coffee production started to spread around the world, helped by European colonisation.{{end}}↵{{time}}171.36/181.47{{end}}↵{{raw}}Europeans set up coffee plantations in Indonesia and the Caribbean and production of coffee in the colonies skyrocketed.{{end}}↵{{time}}181.47/196.31{{end}}↵{{raw}}Different types of coffee were produced in different areas, and it's interesting that the names given to these different types, like Mocha or Java coffee, were often taken from the ports they were shipped to Europe from.{{end}}↵{{time}}196.31/203.02{{end}}↵{{raw}}But if you look at the labour system in the different colonies, there were some significant differences.{{end}}↵{{time}}203.02/213.84{{end}}↵{{raw}}In Brazil and the various Caribbean colonies, coffee was grown in huge plantations and the workers there were almost all slaves.{{end}}↵{{time}}213.84/229.31{{end}}↵{{raw}}But this wasn't the same in all colonies; for example in Java, which had been colonised by the Dutch, the peasants grew coffee and passed a proportion of this on to the Dutch, so it was used as a means of taxation.{{end}}↵{{time}}229.31/240.05{{end}}↵{{raw}}But whatever system was used, under the European powers of the eighteenth century, coffee production was very closely linked to colonisation.{{end}}↵{{time}}240.05/253.28{{end}}↵{{raw}}Coffee was grown in ever-increasing quantities to satisfy the growing demand from Europe, and it became nearly as important as sugar production, which was grown under very similar conditions.{{end}}↵{{time}}253.28/267.57{{end}}↵{{raw}}However, coffee prices were not yet low enough for people to drink it regularly at home, so most coffee consumption still took place in public coffee houses and it still remained something of a luxury item.{{end}}↵{{time}}267.57/281.45{{end}}↵{{raw}}In Britain, however, a new drink was introduced from China, and started to become popular, gradually taking over from coffee, although at first it was so expensive that only the upper classes could afford it.{{end}}↵{{time}}281.45/288.14{{end}}↵{{raw}}This was tea, and by the late 1700s it was being widely drunk.{{end}}↵{{time}}288.14/302.66{{end}}↵{{raw}}However, when the USA gained independence from Britain in 1776, they identified this drink with Britain, and coffee remained the preferred drink in the USA, as it still is today.{{end}}↵{{time}}302.66/309.55{{end}}↵{{raw}}So, by the early nineteenth century, coffee was already being widely produced and consumed.{{end}}↵{{time}}309.55/315.85{{end}}↵{{raw}}But during this century, production boomed and coffee prices started to fall.{{end}}↵{{time}}315.85/322.95{{end}}↵{{raw}}This was partly because new types of transportation had been developed which were cheaper and more efficient.{{end}}↵{{time}}322.95/329.98{{end}}↵{{raw}}So now, working people could afford to buy coffee - it wasn't just a drink for the middle classes.{{end}}↵{{time}}329.98/335.38{{end}}↵{{raw}}And this was at a time when large parts of Europe were starting to work in industries.{{end}}↵{{time}}335.38/343.02{{end}}↵{{raw}}And sometimes this meant their work didn't stop when it got dark: they might have to continue throughout the night.{{end}}↵{{time}}343.02/351.49{{end}}↵{{raw}}So, the use of coffee as a stimulant became important - it wasn't just a drink people drank in the morning, for breakfast.{{end}}↵{{time}}351.49/354.45{{end}}↵{{raw}}There were also changes in cultivation ...{{end}}",materialType:"listenTranslation"}))},{info:{text:"\n      音频播放组件 cdnUrl为cdn路径的前缀，dev和线上不同 使用组件方法如下：\n      ~~~js\n        <Audio\n          src={'/atheneBackend/1539519944613QFkn3X.mp3'}\n          cdnUrl={'https://media8.smartstudy.com/'}\n                      text={\"{{time}}1.86/10.55{{end}}↵{{raw}}In my presentation, I'm going to talk about coffee, and its importance both in economic and social terms.{{end}}↵{{time}}10.55/24.15{{end}}↵{{raw}}We think it was first drunk in the Arab world, but there's hardly any documentary evidence of it before the 1500s, although of course that doesn't mean that people didn't know about it before then.{{end}}↵{{time}}24.15/34.14{{end}}↵{{raw}}However, there is evidence that coffee was originally gathered from bushes growing wild in Ethiopia, in the northeast of Africa.{{end}}↵{{time}}34.14/44.42{{end}}↵{{raw}}In the early sixteenth century, it was being bought by traders, and gradually its use as a drink spread throughout the Middle East.{{end}}↵{{time}}44.42/58.35{{end}}↵{{raw}}It's also known that in 1522, in the Turkish city of Constantinople, which was the centre of the Ottoman Empire, the court physician approved its use as a medicine.{{end}}↵{{time}}58.35/72.25{{end}}↵{{raw}}By the mid-1500s, coffee bushes were being cultivated in the Yemen and for the next hundred years this region produced most of the coffee drunk in Africa and the Arab world.{{end}}↵{{time}}72.25/78.1{{end}}↵{{raw}}What's particularly interesting about coffee is its effect on social life.{{end}}↵{{time}}78.1/84.58{{end}}↵{{raw}}It was rarely drunk at home, but instead people went to coffee houses to drink it.{{end}}↵{{time}}84.58/91.74{{end}}↵{{raw}}These people, usually men, would meet to drink coffee and chat about issues of the day.{{end}}↵{{time}}91.74/108.97{{end}}↵{{raw}}But at the time, this chance to share ideas and opinions was seen as something that was potentially dangerous, and in 1623 the ruler of Constantinople demanded the destruction of all the coffee houses in the city.{{end}}↵{{time}}108.97/115.89{{end}}↵{{raw}}although after his death many new ones opened, and coffee consumption continued.{{end}}↵{{time}}115.89/129.18{{end}}↵{{raw}}In the seventeenth century, coffee drinking spread to Europe, and here too coffee shops became places where ordinary people, nearly always men, could meet to exchange ideas.{{end}}↵{{time}}129.18/136.68{{end}}↵{{raw}}Because of this, some people said that these places performed a similar function to universities.{{end}}↵{{time}}136.68/159.4{{end}}↵{{raw}}The opportunity they provided for people to meet together outside their own homes and to discuss the topics of the day had an enormous impact on social life, and many social movements and political developments had their origins in coffee house discussions.{{end}}↵{{time}}159.4/171.36{{end}}↵{{raw}}In the late 1600s, the Yemeni monopoly on coffee production broke down and coffee production started to spread around the world, helped by European colonisation.{{end}}↵{{time}}171.36/181.47{{end}}↵{{raw}}Europeans set up coffee plantations in Indonesia and the Caribbean and production of coffee in the colonies skyrocketed.{{end}}↵{{time}}181.47/196.31{{end}}↵{{raw}}Different types of coffee were produced in different areas, and it's interesting that the names given to these different types, like Mocha or Java coffee, were often taken from the ports they were shipped to Europe from.{{end}}↵{{time}}196.31/203.02{{end}}↵{{raw}}But if you look at the labour system in the different colonies, there were some significant differences.{{end}}↵{{time}}203.02/213.84{{end}}↵{{raw}}In Brazil and the various Caribbean colonies, coffee was grown in huge plantations and the workers there were almost all slaves.{{end}}↵{{time}}213.84/229.31{{end}}↵{{raw}}But this wasn't the same in all colonies; for example in Java, which had been colonised by the Dutch, the peasants grew coffee and passed a proportion of this on to the Dutch, so it was used as a means of taxation.{{end}}↵{{time}}229.31/240.05{{end}}↵{{raw}}But whatever system was used, under the European powers of the eighteenth century, coffee production was very closely linked to colonisation.{{end}}↵{{time}}240.05/253.28{{end}}↵{{raw}}Coffee was grown in ever-increasing quantities to satisfy the growing demand from Europe, and it became nearly as important as sugar production, which was grown under very similar conditions.{{end}}↵{{time}}253.28/267.57{{end}}↵{{raw}}However, coffee prices were not yet low enough for people to drink it regularly at home, so most coffee consumption still took place in public coffee houses and it still remained something of a luxury item.{{end}}↵{{time}}267.57/281.45{{end}}↵{{raw}}In Britain, however, a new drink was introduced from China, and started to become popular, gradually taking over from coffee, although at first it was so expensive that only the upper classes could afford it.{{end}}↵{{time}}281.45/288.14{{end}}↵{{raw}}This was tea, and by the late 1700s it was being widely drunk.{{end}}↵{{time}}288.14/302.66{{end}}↵{{raw}}However, when the USA gained independence from Britain in 1776, they identified this drink with Britain, and coffee remained the preferred drink in the USA, as it still is today.{{end}}↵{{time}}302.66/309.55{{end}}↵{{raw}}So, by the early nineteenth century, coffee was already being widely produced and consumed.{{end}}↵{{time}}309.55/315.85{{end}}↵{{raw}}But during this century, production boomed and coffee prices started to fall.{{end}}↵{{time}}315.85/322.95{{end}}↵{{raw}}This was partly because new types of transportation had been developed which were cheaper and more efficient.{{end}}↵{{time}}322.95/329.98{{end}}↵{{raw}}So now, working people could afford to buy coffee - it wasn't just a drink for the middle classes.{{end}}↵{{time}}329.98/335.38{{end}}↵{{raw}}And this was at a time when large parts of Europe were starting to work in industries.{{end}}↵{{time}}335.38/343.02{{end}}↵{{raw}}And sometimes this meant their work didn't stop when it got dark: they might have to continue throughout the night.{{end}}↵{{time}}343.02/351.49{{end}}↵{{raw}}So, the use of coffee as a stimulant became important - it wasn't just a drink people drank in the morning, for breakfast.{{end}}↵{{time}}351.49/354.45{{end}}↵{{raw}}There were also changes in cultivation ...{{end}}\"}\n          materialType=\"listenTranslation\"\n        ></Audio>\n      ~~~\n    ",TableComponent:_tableComponent2.default}}).add("text 听力译文 listenTranslation 时间码(译带文)",function(){return _react2.default.createElement("div",{style:{width:"500px",height:"100px"}},_react2.default.createElement(_audio2.default,{src:"/atheneBackend/1539170674668uukska.mp3",cdnUrl:"https://media8.smartstudy.com/",text:"{{time}}1.06/6.67{{end}}{{raw}}Listen to a conversation between a student and a librarian.{{end}}{{translation}}接下来听一段学生和图书管理员之间的对话。{{end}}{{time}}6.67/11.29{{end}}{{raw}}Student:Hi, I need to get into special collections, in particular the British Literature.{{end}}{{translation}}学生：嗨，我需要阅读一些特色馆藏，尤其是英国文学（方面的）。{{end}}{{time}}11.29/13.95{{end}}{{raw}}I was working with some of the William Blake books.{{end}}{{translation}}我正着手于威廉•布莱克的一些书籍。{{end}}",materialType:"listenTranslation"}))},{info:{text:"\n      音频播放组件 cdnUrl为cdn路径的前缀，dev和线上不同 使用组件方法如下：\n      ~~~js\n        <Audio\n          src={'/atheneBackend/1539170674668uukska.mp3'}\n          cdnUrl={'https://media8.smartstudy.com/'}\n          text='{{time}}1.06/6.67{{end}}{{raw}}Listen to a conversation between a student and a librarian.{{end}}{{translation}}接下来听一段学生和图书管理员之间的对话。{{end}}{{time}}6.67/11.29{{end}}{{raw}}Student:Hi, I need to get into special collections, in particular the British Literature.{{end}}{{translation}}学生：嗨，我需要阅读一些特色馆藏，尤其是英国文学（方面的）。{{end}}{{time}}11.29/13.95{{end}}{{raw}}I was working with some of the William Blake books.{{end}}{{translation}}我正着手于威廉•布莱克的一些书籍。{{end}}'\n          materialType=\"listenTranslation\"\n          ></Audio>\n      ~~~\n    ",TableComponent:_tableComponent2.default}}).add("text 时间码 支持富文本结构",function(){return _react2.default.createElement("div",{style:{width:"500px",height:"100px"}},_react2.default.createElement(_audio2.default,{src:"/atheneBackend/1539170674668uukska.mp3",cdnUrl:"https://media8.smartstudy.com/",text:_article_data.material1,materialType:"listenTranslation"}))},{info:{text:"\n      音频播放组件 cdnUrl为cdn路径的前缀，dev和线上不同 使用组件方法如下：\n      ~~~js\n        <Audio\n          src={'/atheneBackend/1539170674668uukska.mp3'}\n          cdnUrl={'https://media8.smartstudy.com/'}\n          text={material1}\n          materialType=\"listenTranslation\"\n          ></Audio>\n      ~~~\n    ",TableComponent:_tableComponent2.default}}).add("text 范例音频 exampleOriginal 时间码结构",function(){return _react2.default.createElement("div",{style:{width:"500px",height:"100px"}},_react2.default.createElement(_audio2.default,{src:"/atheneBackend/1539170674668uukska.mp3",cdnUrl:"https://media8.smartstudy.com/",text:_article_data.material1,materialType:"exampleOriginal"}))},{info:{text:"\n      音频播放组件 cdnUrl为cdn路径的前缀，dev和线上不同 使用组件方法如下：\n      ~~~js\n        <Audio\n          src={'/atheneBackend/1539170674668uukska.mp3'}\n          cdnUrl={'https://media8.smartstudy.com/'}\n          text='{{time}}1.06/6.67{{end}}{{raw}}Listen to a conversation between a student and a librarian.{{end}}{{translation}}接下来听一段学生和图书管理员之间的对话。{{end}}{{time}}6.67/11.29{{end}}{{raw}}Student:Hi, I need to get into special collections, in particular the British Literature.{{end}}{{translation}}学生：嗨，我需要阅读一些特色馆藏，尤其是英国文学（方面的）。{{end}}{{time}}11.29/13.95{{end}}{{raw}}I was working with some of the William Blake books.{{end}}{{translation}}我正着手于威廉•布莱克的一些书籍。{{end}}'\n          materialType=\"exampleOriginal\"\n          ></Audio>\n      ~~~\n    ",TableComponent:_tableComponent2.default}}).add("text 范例音频 exampleOriginal 富文本结构",function(){return _react2.default.createElement("div",{style:{width:"500px",height:"100px"}},_react2.default.createElement(_audio2.default,{src:"/atheneBackend/1539170674668uukska.mp3",cdnUrl:"https://media8.smartstudy.com/",text:_article_data.material1,materialType:"exampleOriginal"}))},{info:{text:"\n      音频播放组件 cdnUrl为cdn路径的前缀，dev和线上不同 使用组件方法如下：\n      ~~~js\n        <Audio\n          src={'/atheneBackend/1539170674668uukska.mp3'}\n          cdnUrl={'https://media8.smartstudy.com/'}\n          text={material1}\n          materialType=\"exampleOriginal\"\n          ></Audio>\n      ~~~\n    ",TableComponent:_tableComponent2.default}}).add("text 范例音频 无音频时 支持查看原文",function(){return _react2.default.createElement("div",{style:{width:"500px",height:"100px"}},_react2.default.createElement(_audio2.default,{cdnUrl:"https://media8.smartstudy.com/",text:_article_data.material1,materialType:"exampleOriginal"}))},{info:{text:"\n      音频播放组件 cdnUrl为cdn路径的前缀，dev和线上不同 使用组件方法如下：\n      ~~~js\n        <Audio\n          cdnUrl={'https://media8.smartstudy.com/'}\n          text={material1}\n          materialType=\"exampleOriginal\"\n          ></Audio>\n      ~~~\n    ",TableComponent:_tableComponent2.default}}).add("text 范例音频 支持无原文可听音频",function(){return _react2.default.createElement("div",{style:{width:"500px",height:"100px"}},_react2.default.createElement(_audio2.default,{src:"/atheneBackend/1539170674668uukska.mp3",cdnUrl:"https://media8.smartstudy.com/",text:{paragraphs:[]},materialType:"exampleOriginal"}))},{info:{text:"\n      音频播放组件 cdnUrl为cdn路径的前缀，dev和线上不同 使用组件方法如下：\n      ~~~js\n        <Audio\n          src={'/atheneBackend/1539170674668uukska.mp3'}\n          cdnUrl={'https://media8.smartstudy.com/'}\n          materialType=\"exampleOriginal\"\n          ></Audio>\n      ~~~\n    ",TableComponent:_tableComponent2.default}}).add("test",function(){return _react2.default.createElement("div",{style:{width:"500px",height:"100px"}},_react2.default.createElement(_audio2.default,{src:"/atheneBackend/1539170674668uukska.mp3",cdnUrl:"https://media8.smartstudy.com/",text:{inlineMarkup:[{pid:"9c7ff09a-5980-5088-83d5-a8b55af45573",type:"Underline",index:8,length:3},{pid:"9c7ff09a-5980-5088-83d5-a8b55af45573",type:"Underline",index:0,length:4}],paragraphs:[{id:"9c7ff09a-5980-5088-83d5-a8b55af45573",text:"正在测试↵换行测试↵如果不行，还是需要换行",type:"Text"}]},materialType:"listenTranslation"}))},{info:{text:"\n      test 测试富文本存在的问题 使用组件方法如下：\n      ~~~js\n        <Audio\n          src={'/atheneBackend/1539170674668uukska.mp3'}\n          cdnUrl={'https://media8.smartstudy.com/'}\n          text={material1}\n          materialType=\"listenTranslation\"\n          ></Audio>\n      ~~~\n    ",TableComponent:_tableComponent2.default}}).add("test",function(){return _react2.default.createElement("div",{style:{width:"500px",height:"100px"}},_react2.default.createElement(_audio2.default,{src:"/atheneBackend/1539170674668uukska.mp3",cdnUrl:"https://media8.smartstudy.com/",text:{inlineMarkup:[{pid:"9c7ff09a-5980-5088-83d5-a8b55af45573",type:"Underline",index:8,length:3},{pid:"9c7ff09a-5980-5088-83d5-a8b55af45573",type:"Underline",index:0,length:4}],paragraphs:[{id:"9c7ff09a-5980-5088-83d5-a8b55af45573",text:"正在测试↵换行测试↵如果不行，还是需要换行",type:"Text"}]},materialType:"listenTranslation"}))},{info:{text:"\n      test 测试富文本存在的问题 使用组件方法如下：\n      ~~~js\n        <Audio\n          src={'/atheneBackend/1539170674668uukska.mp3'}\n          cdnUrl={'https://media8.smartstudy.com/'}\n          text={material1}\n          materialType=\"listenTranslation\"\n          ></Audio>\n      ~~~\n    ",TableComponent:_tableComponent2.default}})}).call(this,__webpack_require__(16)(module))},function(module,exports,__webpack_require__){"use strict";(function(module){var _react2=_interopRequireDefault(__webpack_require__(1)),_react3=__webpack_require__(27),_addonInfo=__webpack_require__(35),_audio_player2=_interopRequireDefault(__webpack_require__(749)),_tableComponent2=_interopRequireDefault(__webpack_require__(37));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(0,_react3.storiesOf)("AudioPlayer",module).addDecorator(_addonInfo.withInfo).addParameters({info:{inline:!0,styles:{header:{h1:{color:"#62C9FF"},h2:{color:"#32363A"}}}}}).add("内置了play, pause, unload, getStatus, setVolume的API",function(){return _react2.default.createElement(_audio_player2.default,null)},{info:{text:"音频播放器组件案例  使用组件方法如下：\n\t\t\t\t<AudioPlayerDemo></AudioPlayerDemo>\n\t\t\t  ",TableComponent:_tableComponent2.default}})}).call(this,__webpack_require__(16)(module))},function(module,exports,__webpack_require__){"use strict";(function(global){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf2=_interopRequireDefault(__webpack_require__(9)),_classCallCheck3=_interopRequireDefault(__webpack_require__(4)),_createClass3=_interopRequireDefault(__webpack_require__(5)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(7)),_inherits3=_interopRequireDefault(__webpack_require__(8)),_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_reactDom2=_interopRequireDefault(__webpack_require__(69)),_tiUi=__webpack_require__(10),_audio_player2=_interopRequireDefault(__webpack_require__(198)),_recorder2=_interopRequireDefault(__webpack_require__(141)),_styles2=_interopRequireDefault(__webpack_require__(789));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var AudioPlayerDemo=function(_Component){function AudioPlayerDemo(props){(0,_classCallCheck3.default)(this,AudioPlayerDemo);var _this=(0,_possibleConstructorReturn3.default)(this,(AudioPlayerDemo.__proto__||(0,_getPrototypeOf2.default)(AudioPlayerDemo)).call(this,props));return _this.componentDidMount=function(){_this.setState({isPlaying:!0}),_audio_player2.default.play({src:["https://media8.smartstudy.com//atheneBackend/1539519944613QFkn3X.mp3"],onEnd:function onEnd(){_this.setState({available:!1})}})},_this.componentWillMount=function(){_this.state.isPlaying&&_this.stopPlayAudio()},_this.adjustVolume=function(status,event){if("start"===status&&(global.window.onmouseup=function(){return _this.adjustVolume("end")},global.window.onmousemove=function(event){return _this.adjustVolume("adjust",event)}),"end"===status&&(global.window.onmouseup=void 0,global.window.onmousemove=void 0),"adjust"===status){var processBar=_reactDom2.default.findDOMNode(_this.volumeProcessBar).getBoundingClientRect(),offset=event.x-(processBar.x||processBar.left),volume=Math.max(Math.min(offset/processBar.width,1),0);_this.setState({volume:volume}),_audio_player2.default.setVolume(volume)}},_this.resumeAudio=function(){_audio_player2.default.resume(),_this.setState({isPlaying:!0})},_this.pauseAudio=function(){_audio_player2.default.pause(),_this.setState({isPlaying:!1})},_this.stopPlayAudio=function(){_audio_player2.default.unload(),_this.setState({isPlaying:!1})},_this.togglePlay=function(){var isPlaying=_this.state.isPlaying;isPlaying?_this.pauseAudio():_this.resumeAudio(),_this.setState({isPlaying:!isPlaying})},_this.toggleVolume=function(){var isShowVolume=_this.state.isShowVolume;_this.setState({isShowVolume:!isShowVolume})},_this.state={volume:1,isShowVolume:!0,isPlaying:!1,available:!0},_this}return(0,_inherits3.default)(AudioPlayerDemo,_Component),(0,_createClass3.default)(AudioPlayerDemo,[{key:"render",value:function render(){var _this2=this,_state=(global.location.search,this.state),volume=_state.volume,isShowVolume=_state.isShowVolume,isPlaying=_state.isPlaying,available=_state.available;return _react2.default.createElement(_tiUi.View,{className:_styles2.default.container},_react2.default.createElement(_tiUi.View,{className:_styles2.default.content},_react2.default.createElement(_tiUi.View,{className:_styles2.default.title},_react2.default.createElement(_tiUi.Image,{className:_styles2.default.titleLogo,src:__webpack_require__(790)}),_react2.default.createElement(_tiUi.View,{className:_styles2.default.titleSplit}),_react2.default.createElement(_tiUi.View,{className:_styles2.default.titleText},"测试AudioPlayer组件")),_react2.default.createElement(_tiUi.View,{className:_styles2.default.normalButtons},_react2.default.createElement(_tiUi.Button,{className:_styles2.default.button,leftIcon:__webpack_require__(!0===isPlaying?791:792),isAvailable:available,text:!0===isPlaying?"Pause":"Play",onClick:function onClick(available){available&&_this2.togglePlay()}}),_react2.default.createElement(_tiUi.View,{className:_styles2.default.volumeWrapper},_react2.default.createElement(_tiUi.Button,{className:_styles2.default.button,leftIcon:__webpack_require__(793),text:"Volume",onClick:function onClick(){return _this2.toggleVolume()}}),isShowVolume&&_react2.default.createElement(_tiUi.View,{className:_styles2.default.volume},_react2.default.createElement(_tiUi.View,{ref:function ref(volumeProcessBar){_this2.volumeProcessBar=volumeProcessBar},className:_styles2.default.volumeProcessBarWrapper},_react2.default.createElement(_tiUi.View,{className:_styles2.default.volumeProcessBar,style:{width:66*volume}}),_react2.default.createElement(_tiUi.View,{className:_styles2.default.volumeProcessCircle,style:{left:66*volume-5},onMouseDown:this.adjustVolume("start")})),_react2.default.createElement(_tiUi.View,{className:_styles2.default.volumeTriangle})),isShowVolume&&_react2.default.createElement(_tiUi.View,{className:_styles2.default.volumeBodyWrapper,onClick:function onClick(){return _this2.toggleVolume()}})))),_react2.default.createElement(_audio_player2.default,{ref:function ref(audioPlayer){_audio_player2.default.instance=audioPlayer}}),_react2.default.createElement(_recorder2.default,{ref:function ref(recorder){_recorder2.default.instance=recorder}}))}}]),AudioPlayerDemo}(_react.Component);exports.default=AudioPlayerDemo,AudioPlayerDemo.__docgenInfo={description:"",methods:[{name:"componentDidMount",docblock:null,modifiers:[],params:[],returns:null},{name:"componentWillMount",docblock:null,modifiers:[],params:[],returns:null},{name:"adjustVolume",docblock:null,modifiers:[],params:[{name:"status",type:null},{name:"event",type:null}],returns:null},{name:"resumeAudio",docblock:null,modifiers:[],params:[],returns:null},{name:"pauseAudio",docblock:null,modifiers:[],params:[],returns:null},{name:"stopPlayAudio",docblock:null,modifiers:[],params:[],returns:null},{name:"togglePlay",docblock:null,modifiers:[],params:[],returns:null},{name:"toggleVolume",docblock:null,modifiers:[],params:[],returns:null}],displayName:"AudioPlayerDemo"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/demo/audio_player/index.js"]={name:"AudioPlayerDemo",docgenInfo:AudioPlayerDemo.__docgenInfo,path:"stories/demo/audio_player/index.js"})}).call(this,__webpack_require__(3))},,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf2=_interopRequireDefault(__webpack_require__(9)),_classCallCheck3=_interopRequireDefault(__webpack_require__(4)),_createClass3=_interopRequireDefault(__webpack_require__(5)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(7)),_inherits3=_interopRequireDefault(__webpack_require__(8)),_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_propTypes2=_interopRequireDefault(__webpack_require__(0)),_tiUi=__webpack_require__(10),_index2=_interopRequireDefault(__webpack_require__(88)),_styles2=_interopRequireDefault(__webpack_require__(753));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ModalAlert=function(_Component){function ModalAlert(){return(0,_classCallCheck3.default)(this,ModalAlert),(0,_possibleConstructorReturn3.default)(this,(ModalAlert.__proto__||(0,_getPrototypeOf2.default)(ModalAlert)).apply(this,arguments))}return(0,_inherits3.default)(ModalAlert,_Component),(0,_createClass3.default)(ModalAlert,[{key:"render",value:function render(){var _props=this.props,modalId=_props.modalId,buttons=_props.buttons,component=_props.component;return _react2.default.createElement(_tiUi.View,{className:_styles2.default.container},component,_react2.default.createElement(_tiUi.View,{className:_styles2.default.buttons},buttons.map(function(item,index){return _react2.default.createElement(_tiUi.Button,{key:index,className:[_styles2.default.btn,item.class&&_styles2.default[item.class]],textClassName:[item.class&&_styles2.default[item.class+"Text"]],text:item.title,onClick:function onClick(){item.onClick&&item.onClick(),_index2.default.hide(modalId)}})})))}}]),ModalAlert}(_react.Component);ModalAlert.propTypes={modalId:_propTypes2.default.string.isRequired,buttons:_propTypes2.default.array.isRequired,component:_propTypes2.default.object.isRequired},exports.default=ModalAlert,ModalAlert.__docgenInfo={description:"",methods:[],displayName:"ModalAlert",props:{modalId:{type:{name:"string"},required:!0,description:""},buttons:{type:{name:"array"},required:!0,description:""},component:{type:{name:"object"},required:!0,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/modal/alert/index.js"]={name:"ModalAlert",docgenInfo:ModalAlert.__docgenInfo,path:"src/modal/alert/index.js"})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _aphrodite=__webpack_require__(2);exports.default=_aphrodite.StyleSheet.create({container:{padding:40,paddingTop:20},buttons:{flex:1,flexDirection:"row",alignSelf:"center"},btn:{alignSelf:"center",width:120,height:40,marginTop:20,marginLeft:20,":first-child":{marginLeft:0}},gray:{backgroundColor:"#fff",border:"solid 1px #878f98",":hover":{backgroundColor:"#f4f6f7"}},grayText:{color:"#32363a"},alertText:{fontSize:"14px"}})},function(module,exports,__webpack_require__){"use strict";(function(global){Object.defineProperty(exports,"__esModule",{value:!0});var _regenerator2=_interopRequireDefault(__webpack_require__(36)),_extends3=_interopRequireDefault(__webpack_require__(11)),_promise2=_interopRequireDefault(__webpack_require__(140)),_asyncToGenerator3=_interopRequireDefault(__webpack_require__(44)),_getPrototypeOf2=_interopRequireDefault(__webpack_require__(9)),_classCallCheck3=_interopRequireDefault(__webpack_require__(4)),_createClass3=_interopRequireDefault(__webpack_require__(5)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(7)),_inherits3=_interopRequireDefault(__webpack_require__(8)),_axios2=_interopRequireDefault(__webpack_require__(53)),_formData2=_interopRequireDefault(__webpack_require__(199)),_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_propTypes2=_interopRequireDefault(__webpack_require__(0)),_lodash=__webpack_require__(13),_tiUi=__webpack_require__(10),_index2=_interopRequireDefault(__webpack_require__(88)),_styles2=_interopRequireDefault(__webpack_require__(755));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ModalCorrect=function(_Component){function ModalCorrect(props){(0,_classCallCheck3.default)(this,ModalCorrect);var _this=(0,_possibleConstructorReturn3.default)(this,(ModalCorrect.__proto__||(0,_getPrototypeOf2.default)(ModalCorrect)).call(this,props));return _this.state={submitting:!1,choices:[],detail:"",files:[],filesUrl:[]},_this}return(0,_inherits3.default)(ModalCorrect,_Component),(0,_createClass3.default)(ModalCorrect,[{key:"toggleChoice",value:function toggleChoice(choice){var choices=this.state.choices;-1!==choices.indexOf(choice)?this.setState({choices:(0,_lodash.filter)(choices,function(item){return item!==choice})}):this.setState({choices:(0,_lodash.concat)(choices,choice)})}},{key:"onDetailChange",value:function onDetailChange(e){this.setState({detail:e.target.value.substr(0,300)})}},{key:"selectFile",value:function selectFile(){this.fileInput.click()}},{key:"onFileChange",value:function onFileChange(event){var _this2=this,reader=new global.FileReader,image=new global.Image,file=event.target.files[0],overSized=file.size>1048576;reader.readAsDataURL(file),reader.onload=function(e){image.src=e.target.result},image.onload=function(){var canvas=document.createElement("canvas"),context=canvas.getContext("2d"),compressedUrl=image.src;if(overSized){var originWidth=image.width,originHeight=image.height,targetWidth=originWidth,targetHeight=originHeight;(originWidth>3072||originHeight>3072)&&(originWidth/originHeight>1?(targetWidth=3072,targetHeight=Math.round(originHeight/originWidth*3072)):(targetHeight=3072,targetWidth=Math.round(originWidth/originHeight*3072))),canvas.width=targetWidth,canvas.height=targetHeight,context.clearRect(0,0,targetWidth,targetHeight),context.drawImage(image,0,0,targetWidth,targetHeight),compressedUrl=canvas.toDataURL("image/jpeg",.92)}_this2.setState(function(prev){return{files:prev.files.concat([file]),filesUrl:prev.filesUrl.concat([compressedUrl])}}),_this2.fileInput.value=""}}},{key:"removeFile",value:function removeFile(index){this.setState(function(prev){return{files:(0,_lodash.filter)(prev.files,function(f,i){return i!==index}),filesUrl:(0,_lodash.filter)(prev.filesUrl,function(f,i){return i!==index})}})}},{key:"submit",value:function(){var _ref=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){var _props,modalId,getUploadSignature,option,postCorrection,step,isReport,type,_state,choices,detail,files,images,i,file,signature,createPromise,formData,imgData,_Modal$instance$state,onShow,onHide,form;return _regenerator2.default.wrap(function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(_props=this.props,modalId=_props.modalId,getUploadSignature=_props.getUploadSignature,option=_props.option,postCorrection=_props.postCorrection,step=_props.step,isReport=_props.isReport,type=_props.type,_state=this.state,choices=_state.choices,detail=_state.detail,files=_state.files,this.setState({submitting:!0}),images=[],!(files.length>0)){_context.next=43;break}i=0;case 6:if(!(i<files.length)){_context.next=43;break}if(file=files[i],_context.prev=8,signature=void 0,"word"===type){_context.next=17;break}return createPromise=function createPromise(action,payload){return new _promise2.default(function(resolve,reject){action({payload:payload,resolve:resolve,reject:reject})})},_context.next=14,createPromise(getUploadSignature,{business:"tiku/correction",fileName:file.name});case 14:signature=_context.sent,_context.next=20;break;case 17:return _context.next=19,getUploadSignature(file.name);case 19:signature=_context.sent;case 20:return(formData=new _formData2.default).append("key",signature.data.key),formData.append("policy",signature.data.policy),formData.append("OSSAccessKeyId",signature.data.accessKeyId),formData.append("signature",signature.data.signature),formData.append("callback",signature.data.callback),formData.append("file",file),_context.next=29,(0,_axios2.default)({url:signature.data.uploadAddress,method:"POST",headers:{"Content-Type":"multipart/form-data"},data:formData,timeout:2e4});case 29:imgData=_context.sent,images.push({src:0===imgData.data.code?imgData.data.data.url:signature.data.uploadAddress+"/"+signature.data.key}),_context.next=40;break;case 33:return _context.prev=33,_context.t0=_context.catch(8),console.log("error:",_context.t0),_Modal$instance$state=_index2.default.instance.state,onShow=_Modal$instance$state.onShow,onHide=_Modal$instance$state.onHide,_index2.default.show("ModalAlert",{title:"错误",buttons:[{title:"OK"}],width:400,isReport:isReport,component:_react2.default.createElement(_tiUi.View,{className:_styles2.default.modalAlert},"上传图片出现错误，请刷新重试")},onShow,onHide),this.setState({submitting:!1}),_context.abrupt("return");case 40:i+=1,_context.next=6;break;case 43:return form=void 0,form="word"===type?{type:choices,questionType:option.questionType,wordId:option.wordId,wordName:option.wordName,detail:detail,images:images,source:option.source}:(0,_extends3.default)({type:choices,referenceName:step.question?step.question.name:step.practice.name,referenceType:step.question?"Question":"Practice",referenceId:step.question?step.question.id:step.practice.id,images:images,detail:detail,status:"Pending",remark:"",version:option.version?option.version:"1.0.0",source:option.source?option.source:"ti-base"},option),_context.next=47,postCorrection(form);case 47:_index2.default.hide(modalId),setTimeout(function(){var _Modal$instance$state2=_index2.default.instance.state,onShow=_Modal$instance$state2.onShow,onHide=_Modal$instance$state2.onHide;_index2.default.show("ModalAlert",{title:"提交成功",buttons:[{title:"OK"}],width:400,isReport:isReport,component:_react2.default.createElement(_tiUi.View,{className:_styles2.default.modalAlert},_react2.default.createElement(_tiUi.Image,{className:_styles2.default.modalAlertImage,src:__webpack_require__(758)}),_react2.default.createElement(_tiUi.View,{className:_styles2.default.modalAlertText},"你的反馈我们会认真查看并完善，感谢你对智课一如既往的支持呦~"))},onShow,onHide)},50);case 49:case"end":return _context.stop()}},_callee,this,[[8,33]])}));return function submit(){return _ref.apply(this,arguments)}}()},{key:"render",value:function render(){var _this3=this,type=this.props.type,_state2=this.state,choices=_state2.choices,detail=_state2.detail,submitting=_state2.submitting,filesUrl=_state2.filesUrl,allChoices=void 0;return allChoices="normal"===type?[{type:"ReadingOriginal",text:"听力原文有误"},{type:"Stem",text:"题干有误"},{type:"Choices",text:"选项有误"},{type:"Answer",text:"答案有误"},{type:"Analysis",text:"文字解析有误"},{type:"ListeningOriginal",text:"听力音频有误"},{type:"ReadingTranslation",text:"阅读译文有误"},{type:"PageStyle",text:"页面显示有误"},{type:"Other",text:"其它"}]:"followUpOrListen"===type?[{type:"AudioScript",text:"听力原文错误"},{type:"ChineseTranslation",text:"中文翻译错误"},{type:"TimeCodeRagged",text:"音频和听力原文时间未对齐"},{type:"ListeningOriginalNoise",text:"听力音频有杂音"},{type:"AudioNonfluency",text:"单句精听换句时音频卡顿"},{type:"Other",text:"其它"}]:[{type:"NoVocality",text:"单词无声音"},{type:"WordPronounce",text:"单词发音不清晰"},{type:"ChoiceTranslation",text:"选项释义错误"},{type:"ChoiceReiteration",text:"选项重复"},{type:"Other",text:"其它"}],_react2.default.createElement(_tiUi.View,{className:_styles2.default.container},_react2.default.createElement(_tiUi.View,{className:_styles2.default.section},_react2.default.createElement(_tiUi.Image,{className:_styles2.default.sectionTitleType,src:__webpack_require__(759)}),_react2.default.createElement(_tiUi.View,{className:_styles2.default.choices},allChoices.map(function(choice){return _react2.default.createElement(_tiUi.View,{key:choice.type,className:["followUpOrListen"===type?_styles2.default.choice2:_styles2.default.choice1,_styles2.default.choiceBox,-1!==choices.indexOf(choice.type)?_styles2.default.choiceBoxChecked:void 0],onClick:function onClick(){return _this3.toggleChoice(choice.type)}},_react2.default.createElement(_tiUi.View,{className:_styles2.default.choiceText},choice.text))}))),_react2.default.createElement(_tiUi.View,{className:_styles2.default.section},_react2.default.createElement(_tiUi.Image,{className:_styles2.default.sectionTitleDetail,src:__webpack_require__(760)}),_react2.default.createElement(_tiUi.Textarea,{className:_styles2.default.detail,placeholder:"将问题描述清楚，处理更及时哦~",value:detail,onChange:function onChange(e){return _this3.onDetailChange(e)}}),_react2.default.createElement(_tiUi.View,{className:_styles2.default.detailTip},detail.length,"/300"),_react2.default.createElement(_tiUi.View,{className:_styles2.default.images},filesUrl.map(function(fileUrl,index){return _react2.default.createElement(_tiUi.View,{key:index,className:_styles2.default.image},_react2.default.createElement(_tiUi.Image,{className:_styles2.default.imageShow,src:fileUrl}),_react2.default.createElement(_tiUi.Image,{className:_styles2.default.imageRemove,src:__webpack_require__(761),onClick:function onClick(){return _this3.removeFile(index)}}))}),filesUrl.length<3&&_react2.default.createElement(_tiUi.View,{className:_styles2.default.imageUpload,onClick:function onClick(){return _this3.selectFile()}},_react2.default.createElement(_tiUi.Image,{className:_styles2.default.imageUploadPlus,src:__webpack_require__(762)})))),_react2.default.createElement(_tiUi.Button,{className:_styles2.default.btn,textClassName:_styles2.default.button,text:"提交",onClick:function onClick(){return _this3.submit()},isAvailable:!submitting&&choices.length>0}),_react2.default.createElement("input",{ref:function ref(fileInput){_this3.fileInput=fileInput},type:"file",accept:"image/png,image/jpeg,image/jpg",style:{display:"none"},onChange:function onChange(e){return _this3.onFileChange(e)}}))}}]),ModalCorrect}(_react.Component);ModalCorrect.propTypes={modalId:_propTypes2.default.string.isRequired,getUploadSignature:_propTypes2.default.any.isRequired,postCorrection:_propTypes2.default.func.isRequired,step:_propTypes2.default.object,isReport:_propTypes2.default.bool,option:_propTypes2.default.object,type:_propTypes2.default.string},ModalCorrect.defaultProps={option:{},isReport:!1,type:"normal",step:{}},exports.default=ModalCorrect,ModalCorrect.__docgenInfo={description:"",methods:[{name:"toggleChoice",docblock:null,modifiers:[],params:[{name:"choice",type:null}],returns:null},{name:"onDetailChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"selectFile",docblock:null,modifiers:[],params:[],returns:null},{name:"onFileChange",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"removeFile",docblock:null,modifiers:[],params:[{name:"index",type:null}],returns:null},{name:"submit",docblock:null,modifiers:["async"],params:[],returns:null}],displayName:"ModalCorrect",props:{option:{defaultValue:{value:"{}",computed:!1},type:{name:"object"},required:!1,description:""},isReport:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},type:{defaultValue:{value:"'normal'",computed:!1},type:{name:"string"},required:!1,description:""},step:{defaultValue:{value:"{}",computed:!1},type:{name:"object"},required:!1,description:""},modalId:{type:{name:"string"},required:!0,description:""},getUploadSignature:{type:{name:"any"},required:!0,description:""},postCorrection:{type:{name:"func"},required:!0,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/modal/correct/index.js"]={name:"ModalCorrect",docgenInfo:ModalCorrect.__docgenInfo,path:"src/modal/correct/index.js"})}).call(this,__webpack_require__(3))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _aphrodite=__webpack_require__(2);exports.default=_aphrodite.StyleSheet.create({container:{padding:40,paddingTop:20},section:{position:"relative",marginTop:20},sectionTitleType:{width:116,height:28},sectionTitleDetail:{width:110,height:28},choices:{marginTop:10,flexDirection:"row",flexWrap:"wrap"},choice1:{flexDirection:"row",marginTop:8,width:"25%",height:"22px",alignItems:"center",cursor:"pointer"},choice2:{flexDirection:"row",marginTop:8,width:"186px",height:"22px",cursor:"pointer",":nth-child(1)":{marginRight:"-15px"},":nth-child(4)":{marginRight:"-15px"},":nth-child(2)":{marginRight:"30px"},":nth-child(5)":{marginRight:"30px"}},choiceBox:{paddingLeft:16,backgroundImage:"url("+__webpack_require__(756)+")",backgroundSize:16,backgroundRepeat:"no-repeat",backgroundPosition:"left top 4px",":hover":{backgroundImage:"url("+__webpack_require__(757)+")"}},choiceBoxChecked:{backgroundImage:"url("+__webpack_require__(314)+")",":hover":{backgroundImage:"url("+__webpack_require__(314)+")"}},choiceText:{marginLeft:6},detail:{height:80,marginTop:10,padding:10,border:"1px solid #C3CCD1",fontSize:14},detailTip:{position:"absolute",fontSize:12,color:"#878F98",bottom:75,right:10,padding:3,paddingLeft:10,paddingRight:10,borderRadius:5},images:{flexDirection:"row",marginLeft:-10},image:{position:"relative",marginTop:10,marginLeft:10},imageShow:{height:60,width:60},imageRemove:{position:"absolute",top:-5,right:-5,height:14,width:14,cursor:"pointer"},imageUpload:{marginTop:10,marginLeft:10,height:60,width:60,border:"1px solid #C3CCD1",backgroundColor:"#F6F8F9",alignItems:"center",justifyContent:"center",cursor:"pointer"},imageUploadPlus:{width:12,height:12},btn:{alignSelf:"center",width:120,height:40,marginTop:20},button:{fontSize:"14px"},modalAlert:{alignItems:"center"},modalAlertImage:{width:85,height:73},modalAlertText:{marginTop:20}})},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/checkbox.458caafc.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/checkbox-hover.d51648bb.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/ok.71e31902.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/title_type.41713183.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/title_detail.d14c4dda.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/remove.c1f996ba.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/plus.eadac372.png"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf2=_interopRequireDefault(__webpack_require__(9)),_classCallCheck3=_interopRequireDefault(__webpack_require__(4)),_createClass3=_interopRequireDefault(__webpack_require__(5)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(7)),_inherits3=_interopRequireDefault(__webpack_require__(8)),_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_propTypes2=_interopRequireDefault(__webpack_require__(0)),_tiUi=__webpack_require__(10),_utils=__webpack_require__(315),_styles2=_interopRequireDefault(__webpack_require__(764));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ModalComponent=function(_Component){function ModalComponent(){return(0,_classCallCheck3.default)(this,ModalComponent),(0,_possibleConstructorReturn3.default)(this,(ModalComponent.__proto__||(0,_getPrototypeOf2.default)(ModalComponent)).apply(this,arguments))}return(0,_inherits3.default)(ModalComponent,_Component),(0,_createClass3.default)(ModalComponent,[{key:"render",value:function render(){var src=this.props.src;return _react2.default.createElement(_tiUi.View,{className:_styles2.default.container,style:{maxHeight:(0,_utils.getBodyHeight)()-140+"px"}},_react2.default.createElement(_tiUi.Image,{style:{width:"100%",height:"auto"},src:src}))}}]),ModalComponent}(_react.Component);ModalComponent.propTypes={src:_propTypes2.default.string.isRequired},exports.default=ModalComponent,ModalComponent.__docgenInfo={description:"",methods:[],displayName:"ModalComponent",props:{src:{type:{name:"string"},required:!0,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/modal/preview/index.js"]={name:"ModalComponent",docgenInfo:ModalComponent.__docgenInfo,path:"src/modal/preview/index.js"})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _aphrodite=__webpack_require__(2);exports.default=_aphrodite.StyleSheet.create({container:{display:"block",width:800,overflowY:"auto"}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf2=_interopRequireDefault(__webpack_require__(9)),_classCallCheck3=_interopRequireDefault(__webpack_require__(4)),_createClass3=_interopRequireDefault(__webpack_require__(5)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(7)),_inherits3=_interopRequireDefault(__webpack_require__(8)),_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_propTypes2=_interopRequireDefault(__webpack_require__(0)),_tiUi=__webpack_require__(10),_article2=_interopRequireDefault(__webpack_require__(200)),_search_words2=_interopRequireDefault(__webpack_require__(112)),_utils=__webpack_require__(315),_styles2=_interopRequireDefault(__webpack_require__(783));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ModalComponent=function(_Component){function ModalComponent(){return(0,_classCallCheck3.default)(this,ModalComponent),(0,_possibleConstructorReturn3.default)(this,(ModalComponent.__proto__||(0,_getPrototypeOf2.default)(ModalComponent)).apply(this,arguments))}return(0,_inherits3.default)(ModalComponent,_Component),(0,_createClass3.default)(ModalComponent,[{key:"render",value:function render(){var answerAnalysis=this.props.answerAnalysis;return _react2.default.createElement(_tiUi.View,{className:_styles2.default.container,style:{maxHeight:(0,_utils.getBodyHeight)()-140+"px"}},_react2.default.createElement(_tiUi.Scrollbar,{onScrollStart:function onScrollStart(){_search_words2.default.hide()},height:(0,_utils.getBodyHeight)()-140+"px"},_react2.default.createElement(_article2.default,{material:answerAnalysis})))}}]),ModalComponent}(_react.Component);ModalComponent.propTypes={answerAnalysis:_propTypes2.default.object.isRequired},exports.default=ModalComponent,ModalComponent.__docgenInfo={description:"",methods:[],displayName:"ModalComponent",props:{answerAnalysis:{type:{name:"object"},required:!0,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/modal/analysis/index.js"]={name:"ModalComponent",docgenInfo:ModalComponent.__docgenInfo,path:"src/modal/analysis/index.js"})},,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.normalizeArticle=void 0;var _extends3=_interopRequireDefault(__webpack_require__(11)),_objectWithoutProperties3=_interopRequireDefault(__webpack_require__(73)),_lodash=__webpack_require__(13);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var groupMarkupsByPId=function groupMarkupsByPId(source){var mappings={};return(source||[]).forEach(function(item){(mappings[item.pid]||(mappings[item.pid]=[])).push(item)}),(0,_lodash.mapValues)(mappings,function(arr){return(0,_lodash.sortBy)(arr,"index")})};exports.normalizeArticle=function normalizeArticle(origin){var decorator=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},isTextOnly=arguments[2],paragraphs=origin.paragraphs,rest=(0,_objectWithoutProperties3.default)(origin,["paragraphs"]),paragraphMarkups=groupMarkupsByPId(isTextOnly?origin.paragraphMarkup:decorator.paragraphMarkup),inlineMarkups=groupMarkupsByPId(isTextOnly?origin.inlineMarkup:decorator.inlineMarkup),hasAnchor=!1,newParapraphs=(0,_lodash.map)(paragraphs,function(p){var anchor=!isTextOnly&&(0,_lodash.get)(decorator,"articleMarkup.anchorPid")===p.id;return anchor&&(hasAnchor=!0),(0,_extends3.default)({},p,{markups:paragraphMarkups[p.id]||[],inlineMarkups:inlineMarkups[p.id]||[],anchor:anchor})});return(0,_extends3.default)({},rest,{hasAnchor:hasAnchor,paragraphs:(0,_lodash.compact)(newParapraphs)})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _keys2=_interopRequireDefault(__webpack_require__(196)),_classCallCheck3=_interopRequireDefault(__webpack_require__(4)),_createClass3=_interopRequireDefault(__webpack_require__(5));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var listeningParser=function(){function listeningParser(){(0,_classCallCheck3.default)(this,listeningParser),this.mdArr=[],this.tmpArr=[],this.openSymbol=[]}return(0,_createClass3.default)(listeningParser,[{key:"parse",value:function parse(mdStr,isCombine){if("string"!=typeof mdStr)throw new Error("非法参数");return this.getArrayData(mdStr),this.tmpArr.length&&this.rawParser(this.tmpArr),isCombine?this.rawCombine(this.mdArr):this.mdArr}},{key:"getArrayData",value:function getArrayData(mdStr){var symbolIndex=new RegExp("{{(.*?)}}"),strResult=mdStr.match(symbolIndex);if(strResult){var key=strResult[1],leftStr=mdStr.substring(strResult.index+strResult[0].length);if("end"!==key)this.openSymbol.push(key),"paragraph"===key&&this.tmpArr.length>0&&this.rawParser(this.tmpArr);else{if(0===this.openSymbol.length)throw new Error("标签闭合错误");var keyWord=this.openSymbol.pop();if("paragraph"===keyWord&&0===this.openSymbol.length)this.paragraphParser();else{if(!(["time","raw","translation"].indexOf(keyWord)>-1))throw new Error("UNKNOWN SYMBOL: "+keyWord);var lastItem=this.tmpArr[this.tmpArr.length-1];if(lastItem&&"time"===lastItem.key&&"raw"!==keyWord)throw new Error("time标签之后必须要有raw标签");if("translation"===keyWord&&lastItem&&"raw"!==lastItem.key)throw new Error("trans标签之前必须要有raw标签");var text=mdStr.substring(0,strResult.index);this.tmpArr.push({key:keyWord,text:text})}}leftStr&&this.getArrayData(leftStr)}else mdStr.trim()&&this.mdArr.push({raw:mdStr})}},{key:"timeParser",value:function timeParser(text){return{start:1*text.split("/")[0],end:1*text.split("/")[1]}}},{key:"paragraphParser",value:function paragraphParser(){for(var rawArray=this.tmpArr,start=0,end=0,raw="",translation="",i=0;i<rawArray.length;i+=1)if("time"===rawArray[i].key){var timeObj=this.timeParser(rawArray[i].text);start=start||timeObj.start,start=timeObj.start-start>0?start:timeObj.start,end=timeObj.end-end>0?timeObj.end:end}else"raw"===rawArray[i].key?raw+=rawArray[i].text:"translation"===rawArray[i].key&&(translation+=rawArray[i].text);this.tmpArr=[],this.mdArr.push({start:start,end:end,raw:raw,translation:translation})}},{key:"rawParser",value:function rawParser(rawArray){for(var rawObj={},i=0;i<rawArray.length;i+=1)"time"===rawArray[i].key?(rawObj.raw&&this.mdArr.push(rawObj),rawObj=this.timeParser(rawArray[i].text)):"raw"===rawArray[i].key?(rawObj.raw&&(this.mdArr.push(rawObj),rawObj={}),rawObj.raw=rawArray[i].text):"translation"===rawArray[i].key&&(rawObj.translation=rawArray[i].text,this.mdArr.push(rawObj),rawObj={}),i===rawArray.length-1&&(0,_keys2.default)(rawObj).length>0&&this.mdArr.push(rawObj)}},{key:"rawCombine",value:function rawCombine(mdArr){var start=void 0,end=void 0,raw="",translation="";return mdArr.forEach(function(m){start=start&&m.start-start>0?start:m.start,end=end?m.end-end>0?m.end:end:m.end,raw+=m.raw||"",translation+=m.translation||""}),{start:start,end:end,raw:raw,translation:translation}}}]),listeningParser}();exports.default=listeningParser},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _aphrodite=__webpack_require__(2),loading={"0%":{transform:"scale(1)",opacity:1},"45%":{transform:"scale(0.1)",opacity:.7},"80%":{transform:"scale(1)",opacity:1}};exports.default=_aphrodite.StyleSheet.create({container:{width:"100%",height:"100%"},content:{flexDirection:"row",fontSize:14,height:64,lineHeight:"64px",border:"solid 1px #dce6ec",backgroundColor:"#fff"},audioBox:{position:"relative",flexDirection:"row"},textStatus:{flexDirection:"row"},textContent:{flex:1,paddingTop:34,paddingBottom:40,overflowY:"auto"},raw:{marginTop:40,":first-child":{marginTop:0},":last-child":{marginBottom:18}},rawText:{marginTop:12,lineHeight:"24px",":first-child":{marginTop:0}},mask:{flex:1,flexDirection:"row",position:"absolute",top:0,left:0,height:"100%",width:"100%",backgroundColor:"rgba(255,255,255,.6)",transform:"scale(1)",justifyContent:"center",alignItems:"center"},spot:{backgroundColor:"#C3CCD1",width:10,height:10,borderRadius:"100%",margin:2,animationFillMode:"both",display:"inline-block",":nth-child(1)":{animationName:[loading],animationDuration:"0.75s",animationTimingFunction:"cubic-bezier(0.2, 0.68, 0.18, 1.08)",animationDelay:"-0.24s",animationIterationCount:"infinite"},":nth-child(2)":{animationName:[loading],animationDuration:"0.75s",animationTimingFunction:"cubic-bezier(0.2, 0.68, 0.18, 1.08)",animationDelay:"-0.12s",animationIterationCount:"infinite"},":nth-child(3)":{animationName:[loading],animationDuration:"0.75s",animationTimingFunction:"cubic-bezier(0.2, 0.68, 0.18, 1.08)",animationDelay:"0s",animationIterationCount:"infinite"}},default:{marginTop:16,marginLeft:16,marginRight:10,width:32,height:32,backgroundSize:"100%"},play:{backgroundImage:"url("+__webpack_require__(770)+")",":hover":{backgroundImage:"url("+__webpack_require__(771)+")"}},pause:{backgroundImage:"url("+__webpack_require__(772)+")",":hover":{backgroundImage:"url("+__webpack_require__(773)+")"}},gray:{backgroundImage:"url("+__webpack_require__(774)+")"},color878F98:{color:"#878F98"},progressBox:{position:"relative",marginTop:27.5,marginLeft:10,marginRight:6,height:10},progress:{marginTop:2.5,width:"100%",height:5,borderRadius:"2.5px",backgroundColor:"#dce6ec",cursor:"pointer"},blueProgress:{position:"absolute",top:2.5,left:0,height:5,borderRadius:"2.5px",background:"linear-gradient(to right, #62c9ff, #3399ff)"},dot:{position:"absolute",top:"-1px",width:12,height:12,borderRadius:"12px",backgroundColor:"#fff",border:"solid 1px #878f98"},showText:{marginLeft:4,color:"#3399ff",cursor:"pointer"},showArrow:{marginTop:25,marginLeft:18,width:12,height:12,backgroundImage:"url("+__webpack_require__(775)+")",backgroundSize:"100%",backgroundRepeat:"no-repeat",transform:"rotate(0deg)"},arrowRotate:{transform:"rotate(180deg)"},arrowGray:{opacity:.5},textGray:{opacity:.5},textBox:{padding:"18px 20px 0 20px",backgroundColor:"#fff",border:"solid 1px #dce6ec",borderTop:"none"},lBox:{flex:1,flexDirection:"row"},strip:{position:"relative",marginTop:24,marginLeft:10,width:28,height:14,borderRadius:"40px",backgroundColor:"#c3ccd1",cursor:"pointer"},stripActive:{backgroundColor:"#3399ff"},round:{position:"absolute",top:1,left:1,width:12,height:12,borderRadius:"50%",backgroundColor:"#ffffff"},roundActive:{left:"none",right:1},listeningBtn:{marginLeft:8,lineHeight:"60px",fontSize:12,color:"#32363a"},listeningBtnGray:{opacity:.5},articleEmpty:{fontSize:14,textAlign:"center"},empty:{width:100,height:100,margin:"10% auto 10px auto"}})},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/play.cbe86dc5.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/play-hover.3ffb31ce.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/pause.e15c798a.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/pause-hover.13a88a2c.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/play-gray.2ec5213e.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/arrow_blue.2aa7bc66.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/article-gray.6f49e9ae.png"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.firstUpperCase=function firstUpperCase(str){return str?str.toLowerCase().replace(/( |^)[a-z]/g,function(L){return L.toUpperCase()}):" "}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _aphrodite=__webpack_require__(2),_arrow2=_interopRequireDefault(__webpack_require__(779)),_block2=_interopRequireDefault(__webpack_require__(780)),_headset2=_interopRequireDefault(__webpack_require__(781));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.default=_aphrodite.StyleSheet.create({arrow:{marginLeft:10,width:14,height:14,border:"none",display:"inline-block"},paragraph:{position:"relative",margin:0},block:{margin:0,marginBottom:20,wordBreak:"break-word",wordWrap:"break-word",fontSize:16,lineHeight:"24px"},blockIndent:{textIndent:"2em"},blockArrow:{"::before":{position:"absolute",textIndent:0,top:0,left:0,right:0,bottom:0,content:'""',backgroundImage:"url("+_arrow2.default+")",backgroundRepeat:"no-repeat",backgroundSize:"14px 14px",backgroundPosition:"left top 5px"},textIndent:"2em"},blockArrowBlank:{display:"inline-block",width:20,height:20,backgroundImage:"url("+_arrow2.default+")",backgroundRepeat:"no-repeat",backgroundSize:"14px 14px",verticalAlign:"middle",marginLeft:"5px",marginTop:"5px"},blockAlignLeft:{textAlign:"left"},blockAlignCenter:{textAlign:"center"},blockAlignRight:{textAlign:"right"},inlineFontSizeH1:{fontSize:24,lineHeight:"34px"},inlineFontSizeH2:{fontSize:20,lineHeight:"30px"},inlineFontSizeSup:{fontSize:"75%",lineHeight:0,position:"relative",verticalAlign:"baseline",top:"-0.5em"},inlineFontSizeSub:{fontSize:"75%",lineHeight:0,position:"relative",verticalAlign:"baseline",bottom:"-0.25em"},inlineHighlight:{backgroundColor:"#D5DCDF"},inlineBold:{fontWeight:"Bold"},inlineItalic:{fontStyle:"italic"},inlineUnderline:{textDecoration:"underline"},inlineInsert:{display:"inline-block",width:26,height:14,marginBottom:-1,backgroundImage:"url("+_block2.default+")",backgroundRepeat:"no-repeat",backgroundSize:"14px 14px",backgroundPosition:"center bottom"},inlineEarphoneRight:{"::after":{position:"absolute",width:24,height:24,top:0,right:-30,content:'""',backgroundImage:"url("+_headset2.default+")",backgroundRepeat:"no-repeat",backgroundSize:"24px 24px",backgroundPosition:"center center"},position:"relative"},inlineEarphoneLeft:{"::before":{position:"absolute",width:24,height:24,top:0,left:0,content:'""',backgroundImage:"url("+_headset2.default+")",backgroundRepeat:"no-repeat",backgroundSize:"24px 24px",backgroundPosition:"center center"},position:"relative",display:"inline-block",textIndent:"30px"},input:{margin:"0 1px",padding:"0 4px",fontFamily:"PingFangSC-Regular",lineHeight:"32px",color:"#32363A",fontSize:"16px"},smallLine:{margin:"0 1px",padding:"0 4px",fontFamily:"PingFangSC-Regular",lineHeight:"32px",color:"#32363A",fontSize:"16px",marginTop:10,borderBottom:"1px solid rgba(50,54,58,1) ",width:"135px"},middleLine:{margin:"0 1px",padding:"0 4px",fontFamily:"PingFangSC-Regular",lineHeight:"32px",color:"#32363A",fontSize:"16px",marginTop:10,borderBottom:"1px solid rgba(50,54,58,1) ",width:"60%"},largeLine:{margin:"0 1px",padding:"0 4px",fontFamily:"PingFangSC-Regular",lineHeight:"32px",color:"#32363A",fontSize:"16px",marginTop:10,borderBottom:"1px solid rgba(50,54,58,1) ",width:"90%"},exercise:{boxSizing:"border-box",width:700,padding:20,backgroundColor:"rgba(246,248,249,1)"},insertBlank:{width:"200px",height:"40px",border:"1px solid rgba(135,143,152,1)",textAlign:"center",fontSize:"16px",fontFamily:"PingFangSC-Regular",color:"rgba(50,54,58,1)",lineHeight:"22px",margin:"8px 8px 0px 8px"},correct:{width:"200px",height:"40px",border:"1px solid rgba(135,143,152,1)",textAlign:"center",fontSize:"16px",lineHeight:"22px",margin:"8px 8px 0px 8px",color:"rgba(73,207,81,1)"},error:{width:"200px",height:"40px",border:"1px solid rgba(135,143,152,1)",textAlign:"center",fontSize:"16px",lineHeight:"22px",margin:"8px 8px 0px 8px",color:"rgba(253,84,84,1)"},ieltsBlank:{height:"40px",lineHeight:"40px",verticalAlign:"baseline"},kfformula:{verticalAlign:"middle",margin:"0px -16px 0px -16px"},center:{lineHeight:"24px",margin:"0px 0px 0px 0px"}})},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/arrow.27d8344e.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/block.32af041b.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/headset.9e737cec.png"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _aphrodite=__webpack_require__(2);exports.default=_aphrodite.StyleSheet.create({container:{color:"#32363A",letterSpacing:0,":nth-child":{marginTop:20},":first-child":{marginTop:0}}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _aphrodite=__webpack_require__(2);exports.default=_aphrodite.StyleSheet.create({container:{padding:40,paddingTop:20,width:800,overflowY:"auto"}})},function(module,exports,__webpack_require__){"use strict";(function(global){Object.defineProperty(exports,"__esModule",{value:!0});var _regenerator2=_interopRequireDefault(__webpack_require__(36)),_asyncToGenerator3=_interopRequireDefault(__webpack_require__(44)),_getPrototypeOf2=_interopRequireDefault(__webpack_require__(9)),_classCallCheck3=_interopRequireDefault(__webpack_require__(4)),_createClass3=_interopRequireDefault(__webpack_require__(5)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(7)),_inherits3=_interopRequireDefault(__webpack_require__(8)),_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_propTypes2=_interopRequireDefault(__webpack_require__(0)),_aphrodite=__webpack_require__(2),_tiUi=__webpack_require__(10),_cookie2=_interopRequireDefault(__webpack_require__(201)),_lodash=__webpack_require__(13),_axios2=_interopRequireDefault(__webpack_require__(53)),_index2=_interopRequireDefault(__webpack_require__(88)),_styles2=_interopRequireDefault(__webpack_require__(785));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var history=__webpack_require__(30).createBrowserHistory(),ModalComponent=function(_Component){function ModalComponent(props){var _this2=this;(0,_classCallCheck3.default)(this,ModalComponent);var _this=(0,_possibleConstructorReturn3.default)(this,(ModalComponent.__proto__||(0,_getPrototypeOf2.default)(ModalComponent)).call(this,props));return _this.updateUserInfo=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){var _this$props,modalId,onClickNext,background,loginUrl,setUserInfo,grade,search,tokenUrl,token,user,background1;return _regenerator2.default.wrap(function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(_this$props=_this.props,modalId=_this$props.modalId,onClickNext=_this$props.onClickNext,background=_this$props.background,loginUrl=_this$props.loginUrl,setUserInfo=_this$props.setUserInfo,grade=_this.state.grade,search=global.location.search,tokenUrl=decodeURIComponent(search.match(new RegExp("[?#&]token=([^?#&]+)","i"))?RegExp.$1:""),token=void 0,!tokenUrl){_context.next=9;break}token=tokenUrl,_context.next=18;break;case 9:_context.prev=9,user=JSON.parse(_cookie2.default.parse(global.document.cookie).ss_user),token=user.token,_context.next=18;break;case 14:return _context.prev=14,_context.t0=_context.catch(9),global.location.href=""+loginUrl+encodeURIComponent(global.location.href),_context.abrupt("return");case 18:return background1=void 0,(background1=background?(0,_lodash.cloneDeep)(background):{}).phase=1*grade,background1.grade=1*grade,_context.prev=22,_context.next=25,(0,_axios2.default)({url:setUserInfo[1],method:"post",headers:{"Content-Type":"application/json",From:1},data:{token:token,background:background1}});case 25:_context.next=31;break;case 27:_context.prev=27,_context.t1=_context.catch(22),console.log("e:",_context.t1),setTimeout(function(){history.push("/error/upload/"+encodeURIComponent(global.location.href))},100);case 31:if(!onClickNext){_context.next=34;break}return _context.next=34,onClickNext();case 34:_index2.default.hide(modalId);case 35:case"end":return _context.stop()}},_callee,_this2,[[9,14],[22,27]])})),_this.state={grade:"0"},_this}return(0,_inherits3.default)(ModalComponent,_Component),(0,_createClass3.default)(ModalComponent,[{key:"next",value:function next(){var _props$params=this.props.params,mode=_props$params.mode,exerciseId=_props$params.exerciseId,practiceId=_props$params.practiceId,stepId=_props$params.stepId,search=global.location.search;history.push("/"+mode+"/"+practiceId+"/"+exerciseId+"/"+(stepId+1)+search)}},{key:"componentDidMount",value:function componentDidMount(){}},{key:"render",value:function render(){var _this3=this,grade=this.state.grade;return _react2.default.createElement(_tiUi.View,{className:_styles2.default.modalTip},_react2.default.createElement(_tiUi.View,{className:_styles2.default.modalAlertTip},"补全年级信息后可生成专属留学规划哦~"),_react2.default.createElement(_tiUi.View,{className:_styles2.default.inputContainer},_react2.default.createElement("select",{onChange:function onChange(e){_this3.setState({grade:e.target.value})},className:(0,_aphrodite.css)(_styles2.default.input)},_react2.default.createElement("option",{value:"0"},"就读年级"),_react2.default.createElement("option",{value:"2"},"初中"),_react2.default.createElement("option",{value:"31"},"高一"),_react2.default.createElement("option",{value:"32"},"高二"),_react2.default.createElement("option",{value:"33"},"高三"),_react2.default.createElement("option",{value:"41"},"大一"),_react2.default.createElement("option",{value:"42"},"大二"),_react2.default.createElement("option",{value:"43"},"大三"),_react2.default.createElement("option",{value:"44"},"大四"),_react2.default.createElement("option",{value:"47"},"研究生"),_react2.default.createElement("option",{value:"7"},"在职"),_react2.default.createElement("option",{value:"9"},"其他"))),_react2.default.createElement(_tiUi.View,{style:{color:"white",fontSize:"12px"}},"请完善您的信息之后，再点击提交～"),_react2.default.createElement(_tiUi.Button,{isAvailable:"0"!==grade,className:_styles2.default.button,text:"提交",onClick:(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(){return _regenerator2.default.wrap(function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,_this3.updateUserInfo();case 2:case"end":return _context2.stop()}},_callee2,_this3)}))}))}}]),ModalComponent}(_react.Component);ModalComponent.propTypes={modalId:_propTypes2.default.string.isRequired,background:_propTypes2.default.object.isRequired,onClickNext:_propTypes2.default.function,params:_propTypes2.default.object.isRequired,setUserInfo:_propTypes2.default.array.isRequired,loginUrl:_propTypes2.default.string},ModalComponent.defaultProps={onClickNext:function onClickNext(){},loginUrl:"https://www.smartstudy.com/signin?no_meiqia=1&smartRedirect="},exports.default=ModalComponent,ModalComponent.__docgenInfo={description:"",methods:[{name:"next",docblock:null,modifiers:[],params:[],returns:null},{name:"updateUserInfo",docblock:null,modifiers:["async"],params:[],returns:null}],displayName:"ModalComponent",props:{onClickNext:{defaultValue:{value:"() => {}",computed:!1},type:{name:"custom",raw:"PropTypes.function"},required:!1,description:""},loginUrl:{defaultValue:{value:"'https://www.smartstudy.com/signin?no_meiqia=1&smartRedirect='",computed:!1},type:{name:"string"},required:!1,description:""},modalId:{type:{name:"string"},required:!0,description:""},background:{type:{name:"object"},required:!0,description:""},params:{type:{name:"object"},required:!0,description:""},setUserInfo:{type:{name:"array"},required:!0,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/modal/user_grade/index.js"]={name:"ModalComponent",docgenInfo:ModalComponent.__docgenInfo,path:"src/modal/user_grade/index.js"})}).call(this,__webpack_require__(3))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _aphrodite=__webpack_require__(2);exports.default=_aphrodite.StyleSheet.create({inputContainer:{alignItems:"center",justifyItems:"center"},input:{width:"250px",height:"30px"},modalTip:{justifyContent:"center",alignItems:"center",padding:40,paddingTop:20},modalAlertTip:{fontSize:14,marginTop:20,marginBottom:20,textAlign:"center"},button:{backgroundColor:"#385DAE",":hover":{backgroundColor:"#4769b4"}}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _aphrodite=__webpack_require__(2);exports.default=_aphrodite.StyleSheet.create({modal:{position:"fixed",zIndex:100,left:0,top:0,width:"100%",height:"100%",alignItems:"center",justifyContent:"center"},front:{zIndex:200,minWidth:400,backgroundColor:"#fff"},backdrop:{position:"absolute",zIndex:100,left:0,top:0,width:"100%",height:"100%",backgroundColor:"rgba(0,0,0,.5)"},header:{position:"relative",height:60,backgroundColor:"#F6F9FB",borderBottom:"1px solid #EAEFF2",justifyContent:"center",alignItems:"center"},title:{fontSize:18},close:{position:"absolute",right:24,top:25,width:12,height:13,cursor:"pointer"},imageClose:{position:"absolute",cursor:"pointer",right:-20,top:0,width:12,height:13,filter:"invert(100%)"}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _aphrodite=__webpack_require__(2);exports.default=_aphrodite.StyleSheet.create({text:{fontSize:"14px",fontFamily:"PingFangSC-Regular",fontWeight:400,color:"rgba(50,54,58,1)",lineHeight:"20px"},text1:{fontSize:"14px",fontFamily:"PingFangSC-Regular",fontWeight:400,color:"rgba(50,54,58,1)",lineHeight:"22px",textAlign:"left"}})},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/fail.bcc55a6b.png"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _aphrodite=__webpack_require__(2);exports.default=_aphrodite.StyleSheet.create({container:{position:"relative",flexDirection:"row",height:86,width:"100%"},content:{width:"100%",flexDirection:"row",height:86,paddingLeft:20,paddingRight:20,backgroundColor:"#36424D",alignItems:"center",justifyContent:"space-between"},containerTest:{height:60,backgroundColor:"#FFFFFF",borderBottom:"1px solid #EAEFF2"},title:{flexDirection:"row",alignItems:"center"},titleLogo:{height:28},titleLogoTest:{height:26},titleSplit:{width:1,height:28,marginLeft:20,marginRight:20,backgroundColor:"#878F98"},titleSplitTest:{width:2,height:24,marginLeft:12,marginRight:12,backgroundColor:"#385DAE"},titleText:{display:"inline-block",width:400,color:"#fff",fontSize:22,fontWeight:"bold",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},titleTextTest:{fontSize:20,color:"#385DAE"},questionTest:{marginRight:24,height:28,lineHeight:"28px",fontSize:18,color:"#505050"},normalButtons:{flexDirection:"row"},button:{marginLeft:10,backgroundImage:"16px 16px"},volumeWrapper:{position:"relative"},volumeBodyWrapper:{position:"fixed",zIndex:10,left:0,top:0,width:"100%",height:"100%"},volume:{position:"absolute",zIndex:20,width:86,height:20,left:10,top:32,backgroundColor:"#fff",borderRadius:3},volumeProcessBarWrapper:{position:"relative",width:66,height:2,marginTop:9,marginLeft:10,backgroundColor:"#C3CCD1",borderRadius:1},volumeProcessBar:{height:2,backgroundColor:"#3399FF",borderRadius:1},volumeProcessCircle:{position:"absolute",width:11,height:11,top:-5,border:"1px solid #878F98",borderRadius:11,backgroundColor:"#fff",cursor:"pointer",transition:"background-color .15s",userSelect:"none",":hover":{backgroundColor:"#f5f5f5"}},volumeTriangle:{position:"absolute",width:0,height:0,top:-4,left:38,borderLeft:"5px solid transparent",borderRight:"5px solid transparent",borderBottom:"4px solid #fff"}})},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/logo.b134c22c.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/pause@2x.8068cf87.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/play@2x.6d36bb48.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/volume.31622086.png"},function(module,exports,__webpack_require__){"use strict";(function(module){var _react2=_interopRequireDefault(__webpack_require__(1)),_react3=__webpack_require__(27),_addonInfo=__webpack_require__(35),_tableComponent2=_interopRequireDefault(__webpack_require__(37)),_block2=_interopRequireDefault(__webpack_require__(295)),_article_data=__webpack_require__(113),_styles2=_interopRequireDefault(__webpack_require__(111));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(0,_react3.storiesOf)("Block",module).addDecorator(_addonInfo.withInfo).addParameters({info:{inline:!0,styles:{header:{h1:{color:"#62C9FF"},h2:{color:"#32363A"}}},source:!1}}).add("参数 p",function(){return _react2.default.createElement("div",{style:_styles2.default.container},_react2.default.createElement(_block2.default,{p:_article_data.p,hasAction:_article_data.p.anchor}),_react2.default.createElement("br",null))},{info:{text:"\n      段落解析组件 需要处理的文本为必传项 使用组件方法如下:\n      ~~~js\n      <Block p={p1} answer={['答案一', '答案二', '答案三', '答案四',]}></Block>\n      ~~~\n    ",TableComponent:_tableComponent2.default}}).add("answer",function(){return _react2.default.createElement("div",{style:_styles2.default.container},_react2.default.createElement(_block2.default,{p:_article_data.p1,answer:["答案一","答案二","答案三","答案四"]}))},{info:{text:"\n      段落解析组件 传入对应的答案 使用组件方法如下：\n      ~~~js\n      <Block p={p1} answer={['答案一', '答案二', '答案三', '答案四',]}></Block>\n      ~~~\n    ",TableComponent:_tableComponent2.default}}).add("isTextOnly",function(){return _react2.default.createElement("div",{style:_styles2.default.container},_react2.default.createElement(_block2.default,{p:_article_data.p1,isReport:!0}))},{info:{text:"\n      段落解析组件 只读的功能 使用组件方法如下：\n      ~~~js\n        <Block p={p1} isTextOnly={true}></Block>\n      ~~~\n    ",TableComponent:_tableComponent2.default}}).add("handleAnswer",function(){return _react2.default.createElement("div",{style:_styles2.default.container},_react2.default.createElement(_block2.default,{p:_article_data.p1,handleAnswer:function handleAnswer(){alert("～～处理用户作答的回调函数～～")}}))},{info:{text:"\n      段落解析组件 可以传入用户处理答案的回调函数 使用组件方法如下：\n      ~~~js\n      <Block p={p2} handleAnswer={()=> { alert('～～处理用户作答的回调函数～～');}}></Block>\n      ~~~\n    ",TableComponent:_tableComponent2.default}}).add("isReport",function(){return _react2.default.createElement("div",{style:_styles2.default.container},_react2.default.createElement(_block2.default,{p:_article_data.p2,isReport:!0}))},{info:{text:"\n      段落解析组件 是否为报告页 isReport 使用组件方法如下：\n      ~~~js\n        <Block p={p1} isReport={true}></Block>\n      ~~~\n    ",TableComponent:_tableComponent2.default}}).add("设置图片宽度",function(){return _react2.default.createElement("div",{style:_styles2.default.container},_react2.default.createElement(_block2.default,{p:_article_data.p4,isReport:!0,imgWidth:200}))},{info:{text:"\n      段落解析组件 支持设置图片宽度 imgWidth 传数字类型 使用组件方法如下：\n      ~~~js\n        <Block p={p4} isReport={true} imgWidth={200}></Block>\n      ~~~\n    ",TableComponent:_tableComponent2.default}}).add("设置段落样式 pStyle",function(){return _react2.default.createElement("div",{style:_styles2.default.container},_react2.default.createElement(_block2.default,{p:_article_data.p,isReport:!0,pStyle:_styles2.default.pStyle}))},{info:{text:"\n      段落解析组件 支持设置图片宽度 imgWidth 传数字类型 使用组件方法如下：\n      ~~~js\n        <Block p={p} isReport={true} pStyle={styles.pStyle}></Block>\n      ~~~\n    ",TableComponent:_tableComponent2.default}})}).call(this,__webpack_require__(16)(module))},function(module,exports,__webpack_require__){"use strict";(function(module){var _react2=_interopRequireDefault(__webpack_require__(1)),_react3=__webpack_require__(27),_addonInfo=__webpack_require__(35),_calculator2=_interopRequireDefault(__webpack_require__(319)),_tableComponent2=_interopRequireDefault(__webpack_require__(37));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(0,_react3.storiesOf)("Calculator GRE考试计算器",module).addDecorator(_addonInfo.withInfo).addParameters({info:{inline:!0,styles:{header:{h1:{color:"#62C9FF"},h2:{color:"#32363A"}}}}}).add("transferResult",function(){return _react2.default.createElement(_calculator2.default,{destroy:function destroy(){},transferResult:function transferResult(data){alert("我拿到了计算结果为:"+data)}})},{info:{text:"计算结果获取函数  使用组件方法如下：\n        <Calculator\n        transferResult={ data => alert(\n          '我拿到了计算结果～', data\n        )}\n        ></Calculator>\n\t\t\t  ",TableComponent:_tableComponent2.default}}).add("transferVisible",function(){return _react2.default.createElement(_calculator2.default,{transferVisible:!0,destroy:function destroy(){},transferResult:function transferResult(data){alert("我拿到了计算结果为:"+data)}})},{info:{text:"是否可以点击 获取结果（默认是不可点击）  使用组件方法如下：\n      <Calculator\n      transferVisible={true}\n      destroy={() => {}}\n      transferResult={ data => alert(\n        '我拿到了计算结果～', data\n      )}\n      ></Calculator>\n      ",TableComponent:_tableComponent2.default}}).add("destroy",function(){return _react2.default.createElement(_calculator2.default,{destroy:function destroy(){return console.log("组件销毁回调函数")}})},{info:{text:"组件销毁回调函数  使用组件方法如下：\n      <Calculator\n      destory={ () => alert(\n        '组件销毁回调函数',\n      )}\n      ></Calculator>\n      ",TableComponent:_tableComponent2.default}}).add("默认显示的数值",function(){return _react2.default.createElement(_calculator2.default,{revdata:"0"})},{info:{text:"计算器默认显示的数值  使用组件方法如下：\n      <Calculator\n        revdata='0'\n      ></Calculator>\n      ",TableComponent:_tableComponent2.default}})}).call(this,__webpack_require__(16)(module))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _aphrodite=__webpack_require__(2);exports.default=_aphrodite.StyleSheet.create({position:{position:"absolute",bottom:0,right:0,color:"#000",fontSize:"20px"},group:{width:"220px",background:"rgba(211,211,211,1)",border:"1px solid rgba(187,187,187,1)",textAlign:"center",position:"fixed",zIndex:"1000",padding:"10px 6px"},group1:{opacity:"0",transition:"all 300ms linear 30ms"},group_head:{cursor:"move",fontSize:"15px",color:"#666",fontWeight:"bold",height:"26px"},group_head_close:{display:"inline-block",width:"16px",height:"16px",cursor:"pointer",alignSelf:"flex-end"},group_body:{}})},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/close.8d61906c.png"},function(module,exports,__webpack_require__){"use strict";function Stack(){this.dataStore=[],this.top=0,this.push=function push(element){this.dataStore[this.top++]=element},this.pop=function pop(){var peekdata=this.dataStore[this.top-1];return this.top--,peekdata},this.peek=function peek(){return this.dataStore[this.top-1]},this.clear=function clear(){this.top=0},this.length=function length(){return this.top},this.isempty=function isempty(){return 0===this.top}}Object.defineProperty(exports,"__esModule",{value:!0});var operatorName=["+","-","÷","×","(",")"],priorValue={};function isOperator(data,priorarr){var rev=!1;return priorarr.forEach(function(element){data===element&&(rev=!0)}),rev}exports.default=function suffixExpression(str){!function initPrior(){priorValue["+"]=100,priorValue["-"]=100,priorValue["×"]=200,priorValue["÷"]=200,priorValue["("]=1e3,priorValue[")"]=0}();for(var strarr=str.split(" "),stack=new Stack,outStack=[];0!==strarr.length;)if(""!==strarr[0]){if(isOperator(strarr[0],operatorName))if("("===strarr[0])stack.push(strarr[0]);else if(")"===strarr[0]){for(;"("!==stack.peek();)outStack.push(stack.pop());stack.pop()}else if(stack.isempty())stack.push(strarr[0]);else if(priorValue[strarr[0]]>priorValue[stack.peek()])stack.push(strarr[0]);else{for(;!stack.isempty()&&priorValue[stack.peek()]>=priorValue[strarr[0]]&&"("!==stack.peek();)outStack.push(stack.pop());stack.push(strarr[0])}else outStack.push(strarr[0]);strarr.shift()}else strarr.shift();for(;!stack.isempty();)outStack.push(stack.pop());return function countSuffixExpression(revarr){for(var stack=new Stack;0!==revarr.length;){if(isOperator(revarr[0],operatorName)){var topdata=stack.pop(),followdata=stack.peek(),result=0;switch(revarr[0]){case"+":result=Number(followdata)+Number(topdata);break;case"-":result=Number(followdata)-Number(topdata);break;case"×":result=Number(followdata)*Number(topdata);break;case"÷":result=Number(followdata)/Number(topdata);break;default:return revarr[0]}stack.pop(),stack.push(result)}else stack.push(revarr[0]);revarr.shift()}var resultData=stack.pop();return isNaN(resultData)&&(resultData="错误"),resultData===1/0&&(resultData="无穷"),resultData}(outStack)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _aphrodite=__webpack_require__(2);exports.default=_aphrodite.StyleSheet.create({conatiner:{fontSize:"18px",fontFamily:"FZLanTingHei-H-GBK",fontWeight:"600",lineHeight:"22px",position:"relative"},screen:{width:"208px",height:"40px",background:"rgba(255,255,255,1)",borderRadius:"2px",color:"rgba(46,50,54,1)",boxSizing:"border-box",padding:0,outline:"none",textAlign:"right",fontSize:"18px",fontFamily:"FZLanTingHei-H-GBK",fontWeight:"600",lineHeight:"22px"},div_class_buttonlist:{height:"auto",display:"flex",flexFlow:"row wrap",margin:"auto",alignContent:"flex-start",width:"210px",marginTop:"4px"},transfer:{backgroundImage:"url("+__webpack_require__(800)+")",backgroundSize:"100%",alignItems:"center",justifyContent:"center",width:208,height:40,color:"#D5DADE",marginTop:"1px",cursor:"pointer"},div_class_button:{display:"inline-block",backgroundColor:"rgba(211,211,211,1)",width:"40px",height:"40px",boxSizing:"border-box",fontSize:"20px",cursor:"pointer",padding:0,outline:"none",margin:"1px",border:"1px"},mrNum:{display:"inline-block",position:"absolute",left:"16px",top:"45px",transition:"all 300ms linear 30ms",textAlign:"right",fontSize:"18px",fontFamily:"FZLanTingHei-H-GBK",fontWeight:"600",lineHeight:"22px"},transfer1:{alignItems:"center",justifyContent:"center",width:208,height:40,color:"#D5DADE",marginTop:"1px",backgroundImage:"url("+__webpack_require__(801)+")",backgroundSize:"100%"}})},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/footer.640d33d8.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/noclick.c61339ff.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/blue1click.3357722d.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/blue2click.bea80629.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/orangeclick.da69e069.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/writeclick.857dc54a.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/write.70ada196.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/blue1.a0bc78fc.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/orange.f7153ee3.png"},function(module,exports,__webpack_require__){"use strict";(function(module){var _react2=_interopRequireDefault(__webpack_require__(1)),_react3=__webpack_require__(27),_addonInfo=__webpack_require__(35),_drag2=_interopRequireDefault(__webpack_require__(202)),_tableComponent2=_interopRequireDefault(__webpack_require__(37));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(0,_react3.storiesOf)("Drag",module).addDecorator(_addonInfo.withInfo).addParameters({info:{inline:!0,styles:{header:{h1:{color:"#62C9FF"},h2:{color:"#32363A"}}}}}).add("Drag 拖拽组件",function(){return _react2.default.createElement(_drag2.default,null,_react2.default.createElement("div",{style:{color:"hotpink"}},"这里是body区域， 传入的子组件 测试一下",_react2.default.createElement("br",null),"测试一下",_react2.default.createElement("br",null),"测试一下",_react2.default.createElement("br",null),"测试一下",_react2.default.createElement("br",null),"测试一下",_react2.default.createElement("br",null)))},{info:{text:"使用组件方法如下：\n\t\t\t\t<Drag><div style={{color: 'yellow'}}>hahhaha</div></Drag>\n\t\t\t  ",TableComponent:_tableComponent2.default}})}).call(this,__webpack_require__(16)(module))},function(module,exports,__webpack_require__){"use strict";(function(module){var _react2=_interopRequireDefault(__webpack_require__(1)),_react3=__webpack_require__(27),_addonInfo=__webpack_require__(35),_tableComponent2=_interopRequireDefault(__webpack_require__(37)),_error2=_interopRequireDefault(__webpack_require__(321));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(0,_react3.storiesOf)("Error",module).addDecorator(_addonInfo.withInfo).addParameters({info:{inline:!0,styles:{header:{h1:{color:"#62C9FF"},h2:{color:"#32363A"}}},source:!1}}).add("match",function(){return _react2.default.createElement(_error2.default,{match:{params:{retryUrl:"http%3A%2F%2Flocal.smartstudy.com%3A8080%2Fpractice%2F1002100%2F4885330%2F3",type:"save"}}})},{info:{text:'\n      托福、雅思、基础题库的错误页面，统一提取出来。\n      需要的传入 带有路径参数的match\n      path: "/error/:type/:retryUrl?"\n      使用组件方法如下：\n    ',TableComponent:_tableComponent2.default}}).add("type loading",function(){return _react2.default.createElement(_error2.default,{match:{params:{retryUrl:"http%3A%2F%2Flocal.smartstudy.com%3A8080%2Fpractice%2F1002100%2F4885330%2F3",type:"loading"}}})},{info:{text:"\n        错误页面的类型一共有五种\n        loading 题目加载失败...\n        compatible 暂不支持当前浏览器...\n        multiple 对于同一场练习，暂不支持打开多个标签页...\n        upload 答案上传失败...\n        save 数据保存失败...\n\n        ~~~js\n        <Block p={p1} answer={['答案一', '答案二', '答案三', '答案四',]}></Block>\n        ~~~",TableComponent:_tableComponent2.default}}).add("type compatible",function(){return _react2.default.createElement(_error2.default,{match:{params:{retryUrl:"http%3A%2F%2Flocal.smartstudy.com%3A8080%2Fpractice%2F1002100%2F4885330%2F3",type:"compatible"}}})},{info:{text:"\n        错误页面的类型一共有五种\n        loading 题目加载失败...\n        compatible 暂不支持当前浏览器...\n        multiple 对于同一场练习，暂不支持打开多个标签页...\n        upload 答案上传失败...\n        save 数据保存失败...\n\n        ~~~js\n        <Block p={p1} answer={['答案一', '答案二', '答案三', '答案四',]}></Block>\n        ~~~",TableComponent:_tableComponent2.default}}).add("type multiple",function(){return _react2.default.createElement(_error2.default,{match:{params:{retryUrl:"http%3A%2F%2Flocal.smartstudy.com%3A8080%2Fpractice%2F1002100%2F4885330%2F3",type:"multiple"}}})},{info:{text:"错误页面的类型一共有五种\n      loading 题目加载失败...\n      compatible 暂不支持当前浏览器...\n      multiple 对于同一场练习，暂不支持打开多个标签页...\n      upload 答案上传失败...\n      save 数据保存失败...\n      ~~~js\n        <Block p={p1} answer={['答案一', '答案二', '答案三', '答案四',]}></Block>\n      ~~~",TableComponent:_tableComponent2.default}}).add("type upload",function(){return _react2.default.createElement(_error2.default,{match:{params:{retryUrl:"http%3A%2F%2Flocal.smartstudy.com%3A8080%2Fpractice%2F1002100%2F4885330%2F3",type:"upload"}}})},{info:{text:"\n        错误页面的类型一共有五种\n        loading 题目加载失败...\n        compatible 暂不支持当前浏览器...\n        multiple 对于同一场练习，暂不支持打开多个标签页...\n        upload 答案上传失败...\n        save 数据保存失败...\n\n        ~~~js\n        <Block p={p1} answer={['答案一', '答案二', '答案三', '答案四',]}></Block>\n        ~~~",TableComponent:_tableComponent2.default}}).add("type save",function(){return _react2.default.createElement(_error2.default,{match:{params:{retryUrl:"http%3A%2F%2Flocal.smartstudy.com%3A8080%2Fpractice%2F1002100%2F4885330%2F3",type:"save"}}})},{info:{text:"错误页面的类型一共有五种\n      loading 题目加载失败...\n      compatible 暂不支持当前浏览器...\n      multiple 对于同一场练习，暂不支持打开多个标签页...\n      upload 答案上传失败...\n      save 数据保存失败...",TableComponent:_tableComponent2.default}})}).call(this,__webpack_require__(16)(module))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _aphrodite=__webpack_require__(2);exports.default=_aphrodite.StyleSheet.create({container:{flex:1,width:"100%",height:"100%",alignItems:"center",justifyContent:"center",background:"#303A44"},image:{height:100},text:{color:"#fff",fontSize:16,marginTop:20,textAlign:"center"},retry:{display:"inline-block",color:"#3399FF",":hover":{cursor:"pointer"}},button:{marginTop:20,height:40,width:120},buttonText:{fontSize:14},project1:{display:"inline-block",alignItems:"center",margin:"40px 0 0"}})},function(module,exports,__webpack_require__){"use strict";(function(module){var _react2=_interopRequireDefault(__webpack_require__(1)),_react3=__webpack_require__(27),_addonInfo=__webpack_require__(35),_tableComponent2=_interopRequireDefault(__webpack_require__(37)),_header2=_interopRequireDefault(__webpack_require__(323));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var headerData={params:{mode:"package"},name:"智课题库项目组 测试header组件",step:{index:7,practice:{id:1002113,name:"测试雅思-听力",shortName:null,status:"Visible",examId:2,subjectId:6,conciseId:null,textbookId:80,topicId:null,canIntensiveListening:!1,canFollowUp:null,difficulty:null,dimension:null,audition:!1,practiceTypeId:null,recommendDuration:1200,createdAt:"2019-02-28T06:57:22.000Z",updatedAt:"2019-02-28T06:57:22.000Z",material:{id:3123,title:"",origin:{paragraphs:[{id:"0b0615d4-056f-f908-9e12-d33ca1ddd00f",text:"就是不肯努力的；1",type:"Text"}]},translation:{},images:null,audios:null,practiceId:1002113}},practiceId:1002113,question:{id:1007184,name:"测试雅思-听力 Q1-Q2",status:"Visible",type:"Blank",questionTagId:null,rank:3,difficulty:null,exampleNum:0,stem:{paragraphs:[{id:"c9924a76-5e66-59b1-e3bd-5e7a4e257d23",text:"阿升级换代不可能离开；了",type:"Text"}],inlineMarkup:[{pid:"c9924a76-5e66-59b1-e3bd-5e7a4e257d23",type:"InsertBlank",index:2,length:2},{pid:"c9924a76-5e66-59b1-e3bd-5e7a4e257d23",type:"InsertBlank",index:5,length:2}]},extra:{qNum:["1","2"],answer:["1|1|2","2|1|3"],audioText:{},instructions:{paragraphs:[{id:"92e48313-9018-a70d-be63-ce9a95d4912e",text:"阿斯顿艰苦；了",type:"Text"}]},audioMaterial:{src:""},headingNumber:"3",imageMaterial:{src:""},answerAnalysis:{paragraphs:[{id:"6c9a0c4b-1232-2f7d-d63c-be1d56878ce8",text:"阿斯顿就",type:"Text"}]},instructionalAudio:{src:""}},practiceId:1002113,examId:2,videoTimeRangeId:null,subjectId:6,conciseId:null,audition:!1,textbookId:80,recommendDuration:240,practiceTypeId:null,createdAt:"2019-02-28T06:57:22.000Z",updatedAt:"2019-02-28T06:57:22.000Z",materials:[{id:28270,qNum:[1],rank:1,subStem:null,image:null,audio:null,audioReference:null,reference:null,direction:null,videoTimeRangeId:null,choices:null,insertSentence:null,positionTip:null,answer:["1|1|2"],analysis:null,examples:null,questionId:1007184,origin:null,score:null,labels:null},{id:28271,qNum:[2],rank:2,subStem:null,image:null,audio:null,audioReference:null,reference:null,direction:null,videoTimeRangeId:null,choices:null,insertSentence:null,positionTip:null,answer:["2|1|3"],analysis:null,examples:null,questionId:1007184,origin:null,score:null,labels:null}]},questionCount:8,questionId:1007184,questionIndex:6,questionMaterialIds:[{answerIndexs:[0],qNum:[1],questionId:1007184,questionMaterialId:28270},{answerIndexs:[1],qNum:[2],questionId:1007184,questionMaterialId:28271}],subject:"Reading",type:"ReadingQuestion"},stepList:[{},{}],timer:{},setTimer:function setTimer(){},getUploadSignature:function getUploadSignature(){},postCorrectionImage:function postCorrectionImage(){},postCorrection:function postCorrection(){},postDuration:function postDuration(){}};(0,_react3.storiesOf)("Header",module).addDecorator(_addonInfo.withInfo).addParameters({info:{inline:!0,styles:{header:{h1:{color:"#62C9FF"},h2:{color:"#32363A"}}},source:!1}}).add("题库项目必用组件，用来控制当前步骤和练习计时",function(){return _react2.default.createElement(_header2.default,headerData)},{info:{text:"音频播放器组件案例  使用组件方法如下：\n\t\t\t\t<Header {...headerData}></Header>\n\t\t\t",TableComponent:_tableComponent2.default}})}).call(this,__webpack_require__(16)(module))},function(module,exports,__webpack_require__){"use strict";(function(global){Object.defineProperty(exports,"__esModule",{value:!0}),exports.redirectToLoginPage=exports.getInitAnswer=exports.getSubQuestionAnswer=exports.formatReportDuration=exports.firstUpperCase=exports.handleIeltsAnswer=exports.handleAnswer=exports.isUndefinedOrNull=exports.getCursorPosition=exports.countAllWords=exports.countWords=exports.formatDuration=exports.getRandomString=exports.getBodyHeight=exports.getBodyWidth=void 0;var _lodash=__webpack_require__(13),handleNumToWord=(exports.getBodyWidth=function getBodyWidth(){return global.document.body.offsetWidth},exports.getBodyHeight=function getBodyHeight(){return global.document.body.offsetHeight},exports.getRandomString=function getRandomString(){for(var length=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32,dict=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"")||"abcdefghikmnpqrstwxyzABCDEFGHKLMNPQRSTUVWXYZ123456789",res="",i=0;i<length;i+=1)res+=dict[parseInt(Math.random()*dict.length,10)];return res},exports.formatDuration=function formatDuration(milliseconds){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){var hours=parseInt(milliseconds/3600/1e3,10),_minutes=parseInt(milliseconds/60/1e3-60*hours,10),_seconds=parseInt(milliseconds/1e3-3600*hours-60*_minutes,10);return""+(hours<10?0:"")+hours+":"+(_minutes<10?0:"")+_minutes+":"+(_seconds<10?0:"")+_seconds}var minutes=parseInt(milliseconds/60/1e3,10),seconds=parseInt(milliseconds/1e3-60*minutes,10);return""+(minutes<10?0:"")+minutes+":"+(seconds<10?0:"")+seconds},exports.countWords=function countWords(){var text=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",count=0;return text.trim().split(/\s/).forEach(function(word){word.trim()&&(count+=1)}),count},exports.countAllWords=function countAllWords(){var text=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",count=0;return text.split("").forEach(function(word){word&&(count+=1)}),count},exports.getCursorPosition=function getCursorPosition(textarea){var rangeData={text:"",start:0,end:0};if(textarea.focus(),textarea.setSelectionRange)rangeData.start=textarea.selectionStart,rangeData.end=textarea.selectionEnd,rangeData.text=rangeData.start!=rangeData.end?textarea.value.substring(rangeData.start,rangeData.end):"";else if(document.selection){var i,oS=document.selection.createRange(),oR=document.body.createTextRange();for(oR.moveToElementText(textarea),rangeData.text=oS.text,rangeData.bookmark=oS.getBookmark(),i=0;oR.compareEndPoints("StartToStart",oS)<0&&0!==oS.moveStart("character",-1);i++)"\n"==textarea.value.charAt(i)&&i++;rangeData.start=i,rangeData.end=rangeData.text.length+rangeData.start}return rangeData},exports.isUndefinedOrNull=function isUndefinedOrNull(value){return null==value},function handleNumToWord(answer){var newAnswer="";return null===answer?(newAnswer=null,!1):(answer.forEach(function(item){return null!=item&&(newAnswer+="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[item],!1)}),newAnswer)});exports.handleAnswer=function handleAnswer(materials,type){var answer="",userAnswer="",isCorrect=void 0;if("Blank"===type||"SubjectBlank"===type){isCorrect=[];var correctAnswer=materials[0]&&materials[0].answer,_userAnswer=materials[0]&&materials[0].userAnswer&&materials[0].userAnswer.answer;return _userAnswer&&_userAnswer.forEach(function(item,index){var correct=new RegExp("^("+correctAnswer[index]+")$").test(_userAnswer[index])?"true":"false";isCorrect.push(correct)}),{answer:correctAnswer&&correctAnswer.join(","),userAnswer:_userAnswer,isCorrect:isCorrect}}return materials.forEach(function(item){answer&&(answer+=" | "),answer+=handleNumToWord(item.answer),item.userAnswer?(userAnswer&&"-"!==userAnswer&&(userAnswer+=" | "),userAnswer+=handleNumToWord(item.userAnswer.answer),isCorrect=void 0===isCorrect?item.userAnswer.correct:isCorrect&&item.userAnswer.correct):(isCorrect=!1,userAnswer="-")}),{answer:answer,userAnswer:userAnswer,isCorrect:isCorrect}},exports.handleIeltsAnswer=function handleIeltsAnswer(materials,type){var isTable=arguments.length>2&&void 0!==arguments[2]&&arguments[2],ieltsAnswer=[];return materials.map(function(material){var answer="",userAnswer="",isCorrect=void 0;if("ChooseOne"===type||"ChooseMany"===type||isTable&&"Drag"===type)answer=material&&handleNumToWord(material.answer),material.userAnswer.answer&&null!==(userAnswer=material.userAnswer&&handleNumToWord(material.userAnswer.answer))&&""!==userAnswer||(userAnswer="--"),isCorrect=material.userAnswer&&material.userAnswer.correct,ieltsAnswer.push({answer:answer,userAnswer:userAnswer,isCorrect:isCorrect});else if(!isTable||"Blank"!==type&&"BlankTable"!==type){if("Blank"===type||"BlankTable"===type){var _correctAnswer=material&&material.answer,_userArray=material&&material.userAnswer&&material.userAnswer.answer;_correctAnswer.map(function(answer,index){var pattern=new RegExp("^("+_correctAnswer[index]+")$");return _userArray&&_userArray[index]?(isCorrect=pattern.test(_userArray[index]),userAnswer=_userArray[index]):(userAnswer+="--",isCorrect=!1),ieltsAnswer.push({answer:answer,userAnswer:userAnswer,isCorrect:isCorrect}),!1})}else if("Drag"===type){var _correctAnswer2=material&&material.answer,_userArray2=material&&material.userAnswer&&material.userAnswer.answer;_correctAnswer2.map(function(answer,index){return _userArray2?(userAnswer=_userArray2[index],isCorrect=void 0!==_userArray2[index]&&answer===_userArray2[index]):(userAnswer=null,isCorrect=!1),ieltsAnswer.push({answer:answer,userAnswer:userAnswer,isCorrect:isCorrect}),!1})}else if("Judge"===type){var choices=material&&material.choices;answer=material&&material.answer&&choices[material.answer[0]]&&choices[material.answer[0]].text,material.userAnswer.answer&&null!==(userAnswer=material.userAnswer&&material.userAnswer.answer&&choices[material.userAnswer.answer[0]]&&choices[material.userAnswer.answer[0]].text)&&""!==userAnswer||(userAnswer="--"),isCorrect=material.userAnswer&&material.userAnswer.correct,ieltsAnswer.push({answer:answer,userAnswer:userAnswer,isCorrect:isCorrect})}}else{var correctAnswer=material&&material.answer,userArray=material&&material.userAnswer&&material.userAnswer.answer;if(correctAnswer.map(function(item,index){return 0===index?(answer+=correctAnswer[index],userArray&&userArray[index]?userAnswer+=userArray[index]:userAnswer+="--"):userArray&&userArray[index]?(userAnswer+=", "+userArray[index],answer+=", "+correctAnswer[index]):(userAnswer+=", --",answer+=", "+correctAnswer[index]),!1}),-1!==answer.indexOf("|")){var newAnswer=answer.split("|").join(" | ");answer=newAnswer}isCorrect=material.userAnswer&&material.userAnswer.correct,ieltsAnswer.push({answer:answer,userAnswer:userAnswer,isCorrect:isCorrect})}return!1}),ieltsAnswer},exports.firstUpperCase=function firstUpperCase(str){return str?str.toLowerCase().replace(/( |^)[a-z]/g,function(L){return L.toUpperCase()}):" "},exports.formatReportDuration=function formatReportDuration(duration){var hours=parseInt(duration/3600,10),minutes=parseInt(duration/60-60*hours,10),seconds=parseInt(duration-3600*hours-60*minutes,10);return 0!==hours?hours+"h"+minutes+"min"+seconds+"s":0!==minutes?minutes+"min"+seconds+"s":seconds+"s"},exports.getSubQuestionAnswer=function getSubQuestionAnswer(value,qNum,index){var newArr=[],countArr=[];qNum.forEach(function(item){if(-1!==newArr.indexOf(item)){var count=countArr[countArr.length-1];count+=1,countArr[countArr.length-1]=count}else newArr.push(item),countArr.push(1)});var realAnswerArr=[],valueArr=(0,_lodash.cloneDeep)(value);countArr.forEach(function(item){for(var arr=[],i=1;i<=item;i+=1)arr.push(valueArr.shift());realAnswerArr.push(arr)});var answerIndex=(0,_lodash.uniq)(qNum).indexOf(qNum[index]);return realAnswerArr[answerIndex]},exports.getInitAnswer=function getInitAnswer(newSetRecord,qNum,materials){var newArr=[],countArr=[];qNum.forEach(function(item){if(-1!==newArr.indexOf(item)){var count=countArr[countArr.length-1];count+=1,countArr[countArr.length-1]=count}else newArr.push(item),countArr.push(1)});var answerArr=[];return countArr.forEach(function(item,index){for(var materialId=materials[index].id,answer=newSetRecord&&newSetRecord[materialId]&&newSetRecord[materialId].answer||[],answer1=(0,_lodash.cloneDeep)(answer),i=1;i<=item;i+=1)Array.isArray(answer1)&&0!==answer1.length?answerArr.push(answer1.shift()):answerArr.push(null)}),answerArr},exports.redirectToLoginPage=function redirectToLoginPage(loginUrl){global.location.href=""+loginUrl+encodeURIComponent(global.location.href)}}).call(this,__webpack_require__(3))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.normalizeArticle=void 0;var _extends3=_interopRequireDefault(__webpack_require__(11)),_objectWithoutProperties3=_interopRequireDefault(__webpack_require__(73)),_lodash=__webpack_require__(13);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var groupMarkupsByPId=function groupMarkupsByPId(source){var mappings={};return(source||[]).forEach(function(item){(mappings[item.pid]||(mappings[item.pid]=[])).push(item)}),(0,_lodash.mapValues)(mappings,function(arr){return(0,_lodash.sortBy)(arr,"index")})};exports.normalizeArticle=function normalizeArticle(origin){var decorator=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},isTextOnly=arguments[2],paragraphs=origin.paragraphs,rest=(0,_objectWithoutProperties3.default)(origin,["paragraphs"]),paragraphMarkups=groupMarkupsByPId(isTextOnly?origin.paragraphMarkup:decorator.paragraphMarkup),inlineMarkups=groupMarkupsByPId(isTextOnly?origin.inlineMarkup:decorator.inlineMarkup),hasAnchor=!1,newParapraphs=(0,_lodash.map)(paragraphs,function(p){var anchor=!isTextOnly&&(0,_lodash.get)(decorator,"articleMarkup.anchorPid")===p.id;return anchor&&(hasAnchor=!0),(0,_extends3.default)({},p,{markups:paragraphMarkups[p.id]||[],inlineMarkups:inlineMarkups[p.id]||[],anchor:anchor})});return(0,_extends3.default)({},rest,{hasAnchor:hasAnchor,paragraphs:(0,_lodash.compact)(newParapraphs)})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _keys2=_interopRequireDefault(__webpack_require__(196)),_classCallCheck3=_interopRequireDefault(__webpack_require__(4)),_createClass3=_interopRequireDefault(__webpack_require__(5));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var listeningParser=function(){function listeningParser(){(0,_classCallCheck3.default)(this,listeningParser),this.mdArr=[],this.tmpArr=[],this.openSymbol=[]}return(0,_createClass3.default)(listeningParser,[{key:"parse",value:function parse(mdStr,isCombine){if("string"!=typeof mdStr)throw new Error("非法参数");return this.getArrayData(mdStr),this.tmpArr.length&&this.rawParser(this.tmpArr),isCombine?this.rawCombine(this.mdArr):this.mdArr}},{key:"getArrayData",value:function getArrayData(mdStr){var symbolIndex=new RegExp("{{(.*?)}}"),strResult=mdStr.match(symbolIndex);if(strResult){var key=strResult[1],leftStr=mdStr.substring(strResult.index+strResult[0].length);if("end"!==key)this.openSymbol.push(key),"paragraph"===key&&this.tmpArr.length>0&&this.rawParser(this.tmpArr);else{if(0===this.openSymbol.length)throw new Error("标签闭合错误");var keyWord=this.openSymbol.pop();if("paragraph"===keyWord&&0===this.openSymbol.length)this.paragraphParser();else{if(!(["time","raw","translation"].indexOf(keyWord)>-1))throw new Error("UNKNOWN SYMBOL: "+keyWord);var lastItem=this.tmpArr[this.tmpArr.length-1];if(lastItem&&"time"===lastItem.key&&"raw"!==keyWord)throw new Error("time标签之后必须要有raw标签");if("translation"===keyWord&&lastItem&&"raw"!==lastItem.key)throw new Error("trans标签之前必须要有raw标签");var text=mdStr.substring(0,strResult.index);this.tmpArr.push({key:keyWord,text:text})}}leftStr&&this.getArrayData(leftStr)}else mdStr.trim()&&this.mdArr.push({raw:mdStr})}},{key:"timeParser",value:function timeParser(text){return{start:1*text.split("/")[0],end:1*text.split("/")[1]}}},{key:"paragraphParser",value:function paragraphParser(){for(var rawArray=this.tmpArr,start=0,end=0,raw="",translation="",i=0;i<rawArray.length;i+=1)if("time"===rawArray[i].key){var timeObj=this.timeParser(rawArray[i].text);start=start||timeObj.start,start=timeObj.start-start>0?start:timeObj.start,end=timeObj.end-end>0?timeObj.end:end}else"raw"===rawArray[i].key?raw+=rawArray[i].text:"translation"===rawArray[i].key&&(translation+=rawArray[i].text);this.tmpArr=[],this.mdArr.push({start:start,end:end,raw:raw,translation:translation})}},{key:"rawParser",value:function rawParser(rawArray){for(var rawObj={},i=0;i<rawArray.length;i+=1)"time"===rawArray[i].key?(rawObj.raw&&this.mdArr.push(rawObj),rawObj=this.timeParser(rawArray[i].text)):"raw"===rawArray[i].key?(rawObj.raw&&(this.mdArr.push(rawObj),rawObj={}),rawObj.raw=rawArray[i].text):"translation"===rawArray[i].key&&(rawObj.translation=rawArray[i].text,this.mdArr.push(rawObj),rawObj={}),i===rawArray.length-1&&(0,_keys2.default)(rawObj).length>0&&this.mdArr.push(rawObj)}},{key:"rawCombine",value:function rawCombine(mdArr){var start=void 0,end=void 0,raw="",translation="";return mdArr.forEach(function(m){start=start&&m.start-start>0?start:m.start,end=end?m.end-end>0?m.end:end:m.end,raw+=m.raw||"",translation+=m.translation||""}),{start:start,end:end,raw:raw,translation:translation}}}]),listeningParser}();exports.default=listeningParser},function(module,exports,__webpack_require__){"use strict";(function(global){Object.defineProperty(exports,"__esModule",{value:!0});var animationCurve=exports.animationCurve={linear:function linear(current,duration){return current/duration},easeOut:function easeOut(current,duration){return 1-Math.pow(1-current/duration,5)}},findScrollParent=exports.findScrollParent=function findScrollParent(element){return"BODY"===element.parentNode.tagName?global.document.body:["scroll","auto"].includes(global.getComputedStyle(element.parentNode).overflowY)?element.parentNode:findScrollParent(element.parentNode)};exports.smoothScroll=function smoothScroll(_ref){var element=_ref.element,_ref$position=_ref.position,position=void 0===_ref$position?"center":_ref$position,_ref$horizon=_ref.horizon,horizon=void 0!==_ref$horizon&&_ref$horizon,_ref$duration=_ref.duration,duration=void 0===_ref$duration?800:_ref$duration,_ref$curve=_ref.curve,curve=void 0===_ref$curve?"easeOut":_ref$curve,_ref$callback=_ref.callback,callback=void 0===_ref$callback?function(){}:_ref$callback;if(element){var parent=findScrollParent(element),parPos=parent.getBoundingClientRect(),elePos=element.getBoundingClientRect(),startAt=horizon?parent.scrollLeft:parent.scrollTop,endAt=void 0;switch(position){case"start":endAt=horizon?startAt+(elePos.left-parPos.left):startAt+(elePos.top-parPos.top);break;case"center":endAt=horizon?startAt+(elePos.left-parPos.left)-(parPos.width-elePos.width)/2:startAt+(elePos.top-parPos.top)-(parPos.height-elePos.height)/2;break;default:endAt=horizon?startAt+(elePos.left-parPos.left)-(parPos.width-elePos.width):startAt+(elePos.top-parPos.top)-(parPos.height-elePos.height)}global.requestAnimationFrame(function(stamp){!function animation(stamp,startStamp){startStamp||(startStamp=stamp);var percent=animationCurve[animationCurve[curve]?curve:"easeOut"](stamp-startStamp,duration);parent[horizon?"scrollLeft":"scrollTop"]=startAt+(endAt-startAt)*percent,percent<1?global.requestAnimationFrame(function(stamp){animation(stamp,startStamp)}):callback()}(stamp,null)})}}}).call(this,__webpack_require__(3))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.tipData={1:{1:"阅读建议用时：10分钟",2:"恭喜你已完成阅读部分，听力建议用时：10分钟",3:"恭喜你已完成听力部分，口语建议用时：2分钟",4:"恭喜你已完成口语部分，写作建议用时：8分钟"},2:{1:"听力建议用时：7分钟",2:"恭喜你已完成听力部分，阅读建议用时：10分钟",3:"恭喜你已完成阅读部分，口语建议用时：5分钟",4:"恭喜你已完成口语部分，写作建议用时：8分钟"}},exports.suggestTime={1:[10,30,40,40,15,40,10],2:[10,30,40,40,40,15,10]},exports.sectionIds={1:["词汇","语法","阅读","听力","口语","写作"],2:["词汇","语法","听力","阅读","写作","口语"]}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _aphrodite=__webpack_require__(2);exports.default=_aphrodite.StyleSheet.create({container:{position:"relative",flexDirection:"row",height:86,paddingLeft:20,paddingRight:20,backgroundColor:"#36424D",alignItems:"center"},containerTest:{backgroundColor:"#385DAE"},title:{flex:1,flexDirection:"row",alignItems:"center"},titleLogo:{height:28},titleSplit:{width:1,height:28,marginLeft:20,marginRight:20,backgroundColor:"rgba(255,255,255,0.3)"},titleText:{display:"block",width:500,color:"#fff",fontSize:22,fontWeight:"bold",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},question:{position:"absolute",fontSize:18,bottom:12,left:"50%",transform:"translateX(-50%)",width:300,color:"#fff",marginTop:38,whiteSpace:"nowrap",textAlign:"center"},question1:{position:"absolute",fontSize:18,bottom:34,left:"50%",transform:"translateX(-50%)",width:300,color:"#fff",marginTop:38,fontFamily:"PingFangSC-Semibold",fontWeight:600,lineHeight:"18px",whiteSpace:"nowrap",textAlign:"center"},subjectBox:{position:"absolute",bottom:20,left:"50%",transform:"translateX(-50%)",width:320},subjects:{position:"relative",margin:"0 auto",flexDirection:"row",fontSize:12,color:"rgba(255,255,255,0.5)",lineHeight:"16px"},line:{position:"absolute",top:10,left:40,width:240,height:1,background:"rgba(255,255,255,0.2)",zIndex:1},subject:{width:80,textAlign:"center"},bground:{position:"relative",margin:"0 auto",marginBottom:5,padding:2,backgroundColor:"#5f7dbe",width:20,height:20,borderRadius:"50%",zIndex:2},finishIcon:{position:"absolute",top:2,left:2,with:16,height:16,zIndex:3},normalButtons:{flexDirection:"row"},button:{marginLeft:10},buttonTest:{backgroundColor:"#fff",color:"#333",":hover":{backgroundColor:"#EDF3FF"}},buttonTime:{color:"#fff",alignItems:"center"},buttonTimePackage:{color:"#fff",alignItems:"center",justifyContent:"center",height:"100%"},buttonTimeTest:{flexDirection:"row",marginRight:20,height:28,lineHeight:"28px",fontSize:14,color:"#FFFFFF"},timeIcon:{width:12,height:12,marginRight:8,marginTop:8},timeButtons:{flexDirection:"row",marginTop:10,justifyContent:"flex-end",alignItems:"center"},volumeWrapper:{position:"relative"},volumeBodyWrapper:{position:"fixed",zIndex:10,left:0,top:0,width:"100%",height:"100%"},volume:{position:"absolute",zIndex:20,width:86,height:20,left:10,top:32,backgroundColor:"#fff",borderRadius:3},volumeProcessBarWrapper:{position:"relative",width:66,height:2,marginTop:9,marginLeft:10,backgroundColor:"#C3CCD1",borderRadius:1},volumeProcessBar:{height:2,backgroundColor:"#3399FF",borderRadius:1},volumeProcessCircle:{position:"absolute",width:11,height:11,top:-5,border:"1px solid #878F98",borderRadius:11,backgroundColor:"#fff",cursor:"pointer",transition:"background-color .15s",userSelect:"none",":hover":{backgroundColor:"#f5f5f5"}},volumeTriangle:{position:"absolute",width:0,height:0,top:-4,left:38,borderLeft:"5px solid transparent",borderRight:"5px solid transparent",borderBottom:"4px solid #fff"},modalAlert:{alignItems:"center"},modalAlertImage:{width:90,height:90,marginTop:20},modalAlertText:{fontSize:14,marginTop:20,marginBottom:40},modalAlertText1:{fontSize:14,marginTop:30,fontWeight:400},modalAlertTip:{fontSize:14,marginTop:20,marginBottom:20,textAlign:"center"},tipBox:{position:"fixed",bottom:8,right:8,padding:"10px 10px 20px 20px",width:280,height:130,fontSize:12,background:"#FFF",color:"#29323A",boxShadow:"0px 1px 10px 0px rgba(195,204,209,0.5)",borderRadius:4,animationFillMode:"forwards",animationName:[{"0%":{bottom:-140},"12.5%":{bottom:8},"87.5%":{bottom:8},"100%":{bottom:-140}}],animationDuration:"4s"},tipContent:{marginTop:20,flexDirection:"row"},tipText:{width:160,alignSelf:"center"},tipAlertText:{color:"#385DAE"},tipClose:{flexDirection:"row",justifyContent:"flex-end"},close:{position:"relative",width:10,height:10,cursor:"pointer",":before":{position:"absolute",top:0,left:0,content:'""',width:1,height:10,background:"#29323A",transform:"rotate(45deg)"},":after":{position:"absolute",top:0,left:0,content:'""',width:1,height:10,background:"#29323A",transform:"rotate(-45deg)"}},shortcutTipWrapper:{position:"relative"},shortcutTip:{position:"absolute",top:28,left:10,right:0,textAlign:"center",color:"#fff",fontSize:12,lineHeight:"28px",userSelect:"none",opacity:.5},modalTip:{justifyItems:"center"}})},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/finish.37ef0e3b.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/success.6a7af75f.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/logo.b134c22c.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/correct.b9ea129d.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/volume.31622086.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/back.cd813fc6.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/time.c47f8bdd.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/quit.518314c5.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/test_next.3de5f7cd.png"},function(module,exports,__webpack_require__){"use strict";(function(module){var _regenerator2=_interopRequireDefault(__webpack_require__(36)),_asyncToGenerator3=_interopRequireDefault(__webpack_require__(44)),_react2=_interopRequireDefault(__webpack_require__(1)),_react3=__webpack_require__(27),_addonInfo=__webpack_require__(35),_tiUi=__webpack_require__(10),_aphrodite=__webpack_require__(2),_axios2=_interopRequireDefault(__webpack_require__(53)),_utils=__webpack_require__(829),_styles2=_interopRequireDefault(__webpack_require__(111)),_src=__webpack_require__(327),_article_data=__webpack_require__(113),_tableComponent2=_interopRequireDefault(__webpack_require__(37));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(0,_react3.storiesOf)("Modal",module).addDecorator(_addonInfo.withInfo).addParameters({info:{inline:!0,styles:{header:{h1:{color:"#62C9FF"},h2:{color:"#32363A"}}},source:!1}}).add("type ModalCorrect",function(){return _react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement(_tiUi.Button,{className:_styles2.default.button,text:"我要纠错",onClick:function onClick(){return _src.Modal.show("ModalCorrect",{title:"我要纠错",width:700,version:"1.0.0",source:"ti-base",getUploadSignature:function getUploadSignature(){alert("上传纠错 postCorrection")},postCorrection:function postCorrection(){alert("上传纠错 postCorrection")},step:{id:1,practice:{id:1001614,name:"测试 富文本渲染"},question:{id:1006476,name:"测试 富文本渲染 Q1"}},isReport:!1})}}),_react2.default.createElement(_src.Modal,{ref:function ref(modal){_src.Modal.instance=modal},isReport:!1}))},{info:{text:"\n      弹框组件 我要纠错类型 使用组件方法如下：\n      ~~~js\n        <React.Fragment>\n        <Button\n            className={styles.button}\n            text=\"我要纠错\"\n            onClick={() => Modal.show('ModalCorrect', {\n            title: '我要纠错',\n            width: 700,\n            version: '1.0.0', // 请从common/config引用version字段\n            source: 'ti-base', // 纠错来源\n            getUploadSignature: () => {alert('上传纠错 postCorrection');},\n            postCorrection: () => {alert('上传纠错 postCorrection');},\n            step: {\n                id: 1,\n                practice: {id: 1001614, name: \"测试 富文本渲染\" },\n                question: {id: 1006476, name: \"测试 富文本渲染 Q1\"},\n            },\n            isReport: false,\n            })\n            }\n        />\n        <Modal\n            ref={modal => { Modal.instance = modal; }}\n            isReport={false}\n        />\n        </React.Fragment>\n      ~~~\n    ",TableComponent:_tableComponent2.default}}).add("type ModalCorrect isFollowUpOrListen",function(){return _react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement(_tiUi.Button,{className:_styles2.default.button,text:"我要纠错",onClick:function onClick(){return _src.Modal.show("ModalCorrect",{title:"我要纠错",width:700,version:"1.0.0",source:"ti-base",type:"followUpOrListen",getUploadSignature:function getUploadSignature(){alert("上传纠错 postCorrection")},postCorrection:function postCorrection(){alert("上传纠错 postCorrection")},step:{id:1,practice:{id:1001614,name:"测试 富文本渲染"},question:{id:1006476,name:"测试 富文本渲染 Q1"}},isReport:!1})}}),_react2.default.createElement(_src.Modal,{ref:function ref(modal){_src.Modal.instance=modal},isReport:!1}))},{info:{text:"\n      弹框组件 我要纠错类型 跟读与精听训练与一般练习不同 使用组件方法如下：\n      ~~~js\n        <React.Fragment>\n        <Button\n            className={styles.button}\n            text=\"我要纠错\"\n            onClick={() => Modal.show('ModalCorrect', {\n            title: '我要纠错',\n            width: 700,\n            version: '1.0.0', // 请从common/config引用version字段\n            source: 'ti-base', // 纠错来源\n            type: 'followUpOrListen', // 纠错类型 是通用的还是跟读与精听专用的～\n            getUploadSignature: () => {alert('上传纠错 postCorrection');},\n            postCorrection: () => {alert('上传纠错 postCorrection');},\n            step: {\n                id: 1,\n                practice: {id: 1001614, name: \"测试 富文本渲染\" },\n                question: {id: 1006476, name: \"测试 富文本渲染 Q1\"},\n            },\n            isReport: false,\n            })\n            }\n        />\n        <Modal\n            ref={modal => { Modal.instance = modal; }}\n            isReport={false}\n        />\n        </React.Fragment>\n      ~~~\n    ",TableComponent:_tableComponent2.default}}).add("type ModalCorrect word",function(){return _react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement(_tiUi.Button,{className:_styles2.default.button,text:"我要纠错",onClick:function onClick(){return _src.Modal.show("ModalCorrect",{title:"我要纠错",width:700,version:"1.0.0",source:"ti-base",type:"word",getUploadSignature:(_ref=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(params){return _regenerator2.default.wrap(function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:case"end":return _context.stop()}},_callee,void 0)})),function getUploadSignature(_x){return _ref.apply(this,arguments)}),postCorrection:(_ref2=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(form){return _regenerator2.default.wrap(function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,(0,_axios2.default)({url:"https://tiku.smartstudy.tech/correction/create",method:"post",headers:{"Content-Type":"application/json"},data:form});case 2:case"end":return _context2.stop()}},_callee2,void 0)})),function postCorrection(_x2){return _ref2.apply(this,arguments)}),step:{id:1,practice:{id:1001614,name:"测试 富文本渲染"},question:{id:1006476,name:"测试 富文本渲染 Q1"}},option:{questionType:2,wordId:12,wordName:"测试小银来一波",source:"ti-word"}});var _ref2,_ref}}),_react2.default.createElement(_src.Modal,{ref:function ref(modal){_src.Modal.instance=modal},isReport:!1}))},{info:{text:"\n      弹框组件 我要纠错类型 跟读与精听训练与一般练习不同 使用组件方法如下：\n      ~~~js\n        <React.Fragment>\n        <Button\n            className={styles.button}\n            text=\"我要纠错\"\n            onClick={() => Modal.show('ModalCorrect', {\n            title: '我要纠错',\n            width: 700,\n            version: '1.0.0', // 请从common/config引用version字段\n            source: 'ti-base', // 纠错来源\n            type: 'word', // 单词检测纠错\n            getUploadSignature: () => {alert('上传纠错 postCorrection');},\n            postCorrection: () => {alert('上传纠错 postCorrection');},\n            step: {\n                id: 1,\n                practice: {id: 1001614, name: \"测试 富文本渲染\" },\n                question: {id: 1006476, name: \"测试 富文本渲染 Q1\"},\n            },\n            isReport: false,\n            })\n            }\n        />\n        <Modal\n            ref={modal => { Modal.instance = modal; }}\n            isReport={false}\n        />\n        </React.Fragment>\n      ~~~\n    ",TableComponent:_tableComponent2.default}}).add("type ModalAlert",function(){return _react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement(_tiUi.Button,{className:_styles2.default.button,text:"提示弹框",onClick:function onClick(){return _src.Modal.show("ModalAlert",{title:"温馨提示",buttons:[{title:"开始测评",onClick:function onClick(){alert("开始测评～～")},class:"alertTip"}],width:400,isReport:!1,component:_react2.default.createElement(_tiUi.View,{className:_styles2.default.modalAlertText},_react2.default.createElement(_tiUi.View,{className:_styles2.default.alertText},"1.请尽可能完成所有题目，确保测试的准确性；"),_react2.default.createElement(_tiUi.View,{className:_styles2.default.alertText},"2.测试过程中不支持跳题或返回上一题；"),_react2.default.createElement(_tiUi.View,{className:_styles2.default.alertText},"3.本测试不支持",_react2.default.createElement("span",{className:(0,_aphrodite.css)(_styles2.default.tipText)},"Safari"),"、",_react2.default.createElement("span",{className:(0,_aphrodite.css)(_styles2.default.tipText)},"IE"),"和",_react2.default.createElement("span",{className:(0,_aphrodite.css)(_styles2.default.tipText)},"Edge"),"浏览器，推荐使用",_react2.default.createElement("span",{className:(0,_aphrodite.css)(_styles2.default.tipText1)},"chrome"),"；"),_react2.default.createElement(_tiUi.View,{className:_styles2.default.alertText},"4.可提前准备好耳机和纸笔。"))},_utils.onShow,_utils.onHide)}}),_react2.default.createElement(_src.Modal,{ref:function ref(modal){_src.Modal.instance=modal},isReport:!1}))},{info:{text:"\n      弹框组件 提示弹框类型 使用组件方法如下：\n      ~~~js\n        <React.Fragment>\n        <Button\n            className={styles.button}\n            text=\"提示弹框\"\n            onClick={() => Modal.show('ModalAlert', {\n            title: '温馨提示',\n            buttons: [{\n                title: '开始测评',\n                onClick: () => {\n                alert('开始测评～～');\n                },\n                class: 'alertTip',\n            }],\n            width: 400,\n            isReport: false,\n            component: (\n                <View className={styles.modalAlertText}>\n                <View className={styles.alertText}>\n                1.请尽可能完成所有题目，确保测试的准确性；\n                </View>\n                <View className={styles.alertText}>2.测试过程中不支持跳题或返回上一题；</View>\n                <View className={styles.alertText}>3.本测试不支持\n                    <span className={css(styles.tipText)}>Safari</span>\n                    、<span className={css(styles.tipText)}>IE</span>和\n                    <span className={css(styles.tipText)}>Edge</span>浏览器，推荐使用\n                    <span className={css(styles.tipText1)}>chrome</span>；\n                </View>\n                <View className={styles.alertText}>4.可提前准备好耳机和纸笔。</View>\n                </View>\n            ),\n            }, onShow, onHide)}\n        />\n        <Modal ref={modal => { Modal.instance = modal; }} isReport={false} />\n        </React.Fragment>\n      ~~~\n    ",TableComponent:_tableComponent2.default}}).add("type ModalPreview",function(){return _react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement(_tiUi.Button,{className:_styles2.default.button,text:"图片预览",onClick:function onClick(){return _src.Modal.show("ModalPreview",{src:"http://img.zcool.cn/community/01d55b569c43fa6ac725af2356a161.jpg@1280w_1l_2o_100sh.jpg",hideHeader:!0})}}),_react2.default.createElement(_src.Modal,{ref:function ref(modal){_src.Modal.instance=modal},isReport:!1}))},{info:{text:"\n      弹框组件 图片预览类型 使用组件方法如下：\n      ~~~js\n        <React.Fragment>\n        <Button\n            className={styles.button}\n            text=\"图片预览\"\n            onClick={() => Modal.show('ModalPreview', {\n            src:'http://img.zcool.cn/community/01d55b569c43fa6ac725af2356a161.jpg@1280w_1l_2o_100sh.jpg',\n            hideHeader: true,\n            })}\n        />\n        <Modal ref={modal => { Modal.instance = modal; }} isReport={false} />\n        </React.Fragment>\n      ~~~\n      ",TableComponent:_tableComponent2.default}}).add("type ModalAnalysis",function(){return _react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement(_tiUi.Button,{className:_styles2.default.button,text:"答案解析",onClick:function onClick(){return _src.Modal.show("ModalAnalysis",{answerAnalysis:_article_data.answerAnalysis})}}),_react2.default.createElement(_src.Modal,{ref:function ref(modal){_src.Modal.instance=modal},isReport:!1}))},{info:{text:"\n      弹框组件 答案解析类型 用于报告页答案解析 点击全屏预览 使用组件方法如下：\n      ~~~js\n        <React.Fragment>\n        <Button\n            className={styles.button}\n            text=\"答案解析\"\n            onClick={() => Modal.show('ModalAnalysis', {\n            answerAnalysis,\n            })}\n        />\n        <Modal ref={modal => { Modal.instance = modal; }} isReport={false} />\n        </React.Fragment>\n      ~~~\n    ",TableComponent:_tableComponent2.default}}).add("type ModalUserGrade",function(){return _react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement(_tiUi.Button,{className:_styles2.default.button,text:"答案解析",onClick:function onClick(){return _src.Modal.show("ModalUserGrade",{background:{},onClickNext:function onClickNext(){console.log("提交答案～～")},params:{},setUserInfo:["post","https://tiku.smartstudy.tech/users/user/profile"],loginUrl:"https://www.dev.smartstudy.com/signin?no_meiqia=1&smartRedirect="})}}),_react2.default.createElement(_src.Modal,{ref:function ref(modal){_src.Modal.instance=modal},isReport:!1}))},{info:{text:"\n      弹框组件 年级选择类型 使用组件方法如下：\n      ~~~js\n        <React.Fragment>\n        <Button\n            className={styles.button}\n            text=\"答案解析\"\n            onClick={() => Modal.show('ModalUserGrade', {\n            background: {},\n            onClickNext: ()=> { console.log('提交答案～～')},\n            params: {},\n            setUserInfo: ['post', 'https://tiku.smartstudy.tech/users/user/profile'],\n            loginUrl: 'https://www.dev.smartstudy.com/signin?no_meiqia=1&smartRedirect=',\n            })}\n        />\n        <Modal ref={modal => { Modal.instance = modal; }} isReport={false} />\n        </React.Fragment>\n      ~~~\n    ",TableComponent:_tableComponent2.default}}).add("type onShow",function(){return _react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement(_tiUi.Button,{className:_styles2.default.button,text:"我要纠错",onClick:function onClick(){return _src.Modal.show("ModalCorrect",{title:"我要纠错",width:700,version:"1.0.0",source:"ti-base",getUploadSignature:function getUploadSignature(){alert("上传纠错 postCorrection")},postCorrection:function postCorrection(){alert("上传纠错 postCorrection")},step:{id:1,practice:{id:1001614,name:"测试 富文本渲染"},question:{id:1006476,name:"测试 富文本渲染 Q1"}},isReport:!1},_utils.onShow,null)}}),_react2.default.createElement(_src.Modal,{ref:function ref(modal){_src.Modal.instance=modal},isReport:!1}))},{info:{text:"\n        弹框组件 onShow方法传入 使用组件方法如下：\n        ~~~js\n            <React.Fragment>\n            <Button\n                className={styles.button}\n                text=\"我要纠错\"\n                onClick={() => Modal.show('ModalCorrect', {\n                title: '我要纠错',\n                width: 700,\n                version: '1.0.0', // 请从common/config引用version字段\n                source: 'ti-base', // 纠错来源\n                getUploadSignature: () => {alert('上传纠错 postCorrection');},\n                postCorrection: () => {alert('上传纠错 postCorrection');},\n                step: {\n                    id: 1,\n                    practice: {id: 1001614, name: \"测试 富文本渲染\" },\n                    question: {id: 1006476, name: \"测试 富文本渲染 Q1\"},\n                },\n                isReport: false,\n                }, onShow, null)\n                }\n            />\n            <Modal\n                ref={modal => { Modal.instance = modal; }}\n                isReport={false}\n            />\n            </React.Fragment>\n        ~~~\n        ",TableComponent:_tableComponent2.default}}).add("type onHide",function(){return _react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement(_tiUi.Button,{className:_styles2.default.button,text:"我要纠错",onClick:function onClick(){return _src.Modal.show("ModalCorrect",{title:"我要纠错",width:700,version:"1.0.0",source:"ti-base",getUploadSignature:function getUploadSignature(){alert("上传纠错 postCorrection")},postCorrection:function postCorrection(){alert("上传纠错 postCorrection")},step:{id:1,practice:{id:1001614,name:"测试 富文本渲染"},question:{id:1006476,name:"测试 富文本渲染 Q1"}},isReport:!1},null,_utils.onHide)}}),_react2.default.createElement(_src.Modal,{ref:function ref(modal){_src.Modal.instance=modal},isReport:!1}))},{info:{text:"\n      弹框组件 onHide方法传入 使用组件方法如下：\n      ~~~js\n          <React.Fragment>\n          <Button\n              className={styles.button}\n              text=\"我要纠错\"\n              onClick={() => Modal.show('ModalCorrect', {\n              title: '我要纠错',\n              width: 700,\n              version: '1.0.0', // 请从common/config引用version字段\n              source: 'ti-base', // 纠错来源\n              getUploadSignature: () => {alert('上传纠错 postCorrection');},\n              postCorrection: () => {alert('上传纠错 postCorrection');},\n              step: {\n                  id: 1,\n                  practice: {id: 1001614, name: \"测试 富文本渲染\" },\n                  question: {id: 1006476, name: \"测试 富文本渲染 Q1\"},\n              },\n              isReport: false,\n              }, null, onHide)\n              }\n          />\n          <Modal\n              ref={modal => { Modal.instance = modal; }}\n              isReport={false}\n          />\n          </React.Fragment>\n      ~~~\n      ",TableComponent:_tableComponent2.default}}).add("type isUnhide",function(){return _react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement(_tiUi.Button,{className:_styles2.default.button,text:"提示弹框",onClick:function onClick(){return _src.Modal.show("ModalAlert",{title:"温馨提示",isUnhide:!0,buttons:[{title:"开始测评",onClick:function onClick(){alert("开始测评～～")},class:"alertTip"}],width:400,isReport:!1,component:_react2.default.createElement(_tiUi.View,{className:_styles2.default.modalAlertText},_react2.default.createElement(_tiUi.View,{className:_styles2.default.alertText},"1.请尽可能完成所有题目，确保测试的准确性；"),_react2.default.createElement(_tiUi.View,{className:_styles2.default.alertText},"2.测试过程中不支持跳题或返回上一题；"),_react2.default.createElement(_tiUi.View,{className:_styles2.default.alertText},"3.本测试不支持",_react2.default.createElement("span",{className:(0,_aphrodite.css)(_styles2.default.tipText)},"Safari"),"、",_react2.default.createElement("span",{className:(0,_aphrodite.css)(_styles2.default.tipText)},"IE"),"和",_react2.default.createElement("span",{className:(0,_aphrodite.css)(_styles2.default.tipText)},"Edge"),"浏览器，推荐使用",_react2.default.createElement("span",{className:(0,_aphrodite.css)(_styles2.default.tipText1)},"chrome"),"；"),_react2.default.createElement(_tiUi.View,{className:_styles2.default.alertText},"4.可提前准备好耳机和纸笔。"))})}}),_react2.default.createElement(_src.Modal,{ref:function ref(modal){_src.Modal.instance=modal},isReport:!1}))},{info:{text:"\n      弹框组件 isUnhide 用户是否可以选择关闭弹窗；isUnhide为true，表示不能选择隐藏； 使用组件方法如下：\n      ~~~js\n        <React.Fragment>\n        <Button\n            className={styles.button}\n            text=\"提示弹框\"\n            onClick={() => Modal.show('ModalAlert', {\n            title: '温馨提示',\n            isUnhide: true,\n            buttons: [{\n                title: '开始测评',\n                onClick: () => {\n                alert('开始测评～～');\n                },\n                class: 'alertTip',\n            }],\n            width: 400,\n            isReport: false,\n            component: (\n                <View className={styles.modalAlertText}>\n                <View className={styles.alertText}>\n                1.请尽可能完成所有题目，确保测试的准确性；\n                </View>\n                <View className={styles.alertText}>2.测试过程中不支持跳题或返回上一题；</View>\n                <View className={styles.alertText}>3.本测试不支持\n                    <span className={css(styles.tipText)}>Safari</span>\n                    、<span className={css(styles.tipText)}>IE</span>和\n                    <span className={css(styles.tipText)}>Edge</span>浏览器，推荐使用\n                    <span className={css(styles.tipText1)}>chrome</span>；\n                </View>\n                <View className={styles.alertText}>4.可提前准备好耳机和纸笔。</View>\n                </View>\n            ),\n            })}\n        />\n        <Modal ref={modal => { Modal.instance = modal; }} isReport={false} />\n        </React.Fragment>\n      ~~~\n      ",TableComponent:_tableComponent2.default}})}).call(this,__webpack_require__(16)(module))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.onHide=function onHide(){return alert("隐藏时触发的事件")},exports.onShow=function onShow(){return alert("弹框触发的事件")}},,,,function(module,exports){},function(module,exports){function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=function(){return[]},webpackEmptyContext.resolve=webpackEmptyContext,module.exports=webpackEmptyContext,webpackEmptyContext.id=834},,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _aphrodite=__webpack_require__(2);exports.default=_aphrodite.StyleSheet.create({indexBox:{flexDirection:"row",justifyContent:"space-between",width:510,flexWrap:"wrap"},num:{position:"relative",marginRight:9,marginBottom:15,width:28,minHeight:28,lineHeight:"28px",borderRadius:"3px",border:"solid 1px #878f98",color:"#49cf51",textAlign:"center",cursor:"pointer",fontSize:"14px"},numGreen:{color:"#49cf51",":hover":{backgroundColor:"#49cf51",color:"#fff",border:"solid 1px #49cf51"}},numGreenActive:{backgroundColor:"#49cf51",color:"#fff",border:"solid 1px #49cf51"},numRed:{color:"#fd5454",":hover":{backgroundColor:"#fd5454",color:"#fff",border:"solid 1px #fd5454"}},numRedActive:{backgroundColor:"#fd5454",color:"#fff",border:"solid 1px #fd5454"},numBlack:{color:"#000",":hover":{backgroundColor:"#000",color:"#fff",border:"solid 1px #000"}},numBlackActive:{backgroundColor:"#000",color:"#fff",border:"solid 1px #000"},image:{width:12,":hover":{transform:"rotateX(360deg)"}},button:{alignSelf:"start",justifyContent:"center",alignItems:"center",":hover":{backgroundColor:"#F6F8F9"}},left:{flex:1,flexDirection:"row",flexWrap:"wrap"},right:{marginRight:0},answer:{display:"inline-block",color:"rgba(50,54,58,1)",lineheight:"17px",fontFamily:"PingFangSC-Regular",fontWeight:400,paddingRight:"8px",fontSize:"12px"},correct:{color:"rgba(73,207,81,1)",marginRight:"20px"},error:{color:"rgba(240,65,52,1)"}})},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/arrows.942ab354.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/arrows_top.47ac93f7.png"},function(module,exports,__webpack_require__){"use strict";(function(module){var _react2=_interopRequireDefault(__webpack_require__(1)),_react3=__webpack_require__(27),_addonInfo=__webpack_require__(35),_recorder2=_interopRequireDefault(__webpack_require__(840)),_src=__webpack_require__(327),_tableComponent2=_interopRequireDefault(__webpack_require__(37));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(0,_react3.storiesOf)("Recorder",module).addDecorator(_addonInfo.withInfo).addParameters({info:{inline:!0,styles:{header:{h1:{color:"#62C9FF"},h2:{color:"#32363A"}}},source:!1}}).add("内置了init, start, pause, resume, stop, destroy的API",function(){return _react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement(_recorder2.default,null),_react2.default.createElement(_src.Modal,{ref:function ref(modal){_src.Modal.instance=modal},isReport:!1}))},{info:{text:"\n      录音功能组件，调用了h5录音API 使用组件方法如下：\n      ~~~js\n        <React.Fragment>\n            <RecorderDemo />\n            <Modal\n                ref={modal => { Modal.instance = modal; }}\n                isReport={false}\n            />\n        </React.Fragment>\n      ~~~\n    ",TableComponent:_tableComponent2.default}})}).call(this,__webpack_require__(16)(module))},function(module,exports,__webpack_require__){"use strict";(function(global){Object.defineProperty(exports,"__esModule",{value:!0});var _regenerator2=_interopRequireDefault(__webpack_require__(36)),_asyncToGenerator3=_interopRequireDefault(__webpack_require__(44)),_getPrototypeOf2=_interopRequireDefault(__webpack_require__(9)),_classCallCheck3=_interopRequireDefault(__webpack_require__(4)),_createClass3=_interopRequireDefault(__webpack_require__(5)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(7)),_inherits3=_interopRequireDefault(__webpack_require__(8)),_axios2=_interopRequireDefault(__webpack_require__(53)),_formData2=_interopRequireDefault(__webpack_require__(199)),_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_tiUi=__webpack_require__(10),_utils=__webpack_require__(841),_recorder2=_interopRequireDefault(__webpack_require__(141)),_audio2=_interopRequireDefault(__webpack_require__(842)),_styles2=_interopRequireDefault(__webpack_require__(843));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var RecorderDemo=function(_Component){function RecorderDemo(props){(0,_classCallCheck3.default)(this,RecorderDemo);var _this=(0,_possibleConstructorReturn3.default)(this,(RecorderDemo.__proto__||(0,_getPrototypeOf2.default)(RecorderDemo)).call(this,props));return _this.cancelPlay=function(){_this.setState({recordStatus:"stop"}),_this.player.stop(),_this.player=null},_this.state={uploadStatus:"default",recordStatus:"default",time:0,recordUrl:void 0},_this.formData=void 0,_this.signature=void 0,_this.isSilenceUpload=!1,_this.timeInterval=void 0,_this.player=null,_this}return(0,_inherits3.default)(RecorderDemo,_Component),(0,_createClass3.default)(RecorderDemo,[{key:"componentWillUnmount",value:function componentWillUnmount(){this.timeInterval&&(clearInterval(this.timeInterval),this.timeInterval=void 0),this.player&&(this.player.stop(),this.player=null),_recorder2.default.destroy()}},{key:"monitorPageLeave",value:function monitorPageLeave(){global.document.hidden||global.document.msHidden||global.document.webkitHidden?(console.log("离开"),_recorder2.default.pause()):(console.log("回来"),_recorder2.default.resume())}},{key:"startRecord",value:function startRecord(){var _this2=this;_recorder2.default.start({mode:"practice",skip:function skip(){},callback:function callback(){global.document.addEventListener("visibilitychange",_this2.monitorPageLeave,!1),_this2.timeInterval=setInterval(function(){var time=_this2.state.time;_this2.setState({time:time+10})},10)}}),this.setState({recordStatus:"start",time:0,uploadStatus:"default"})}},{key:"stopRecord",value:function(){var _ref=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){var time,_this3=this;return _regenerator2.default.wrap(function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return this.timeInterval&&(clearInterval(this.timeInterval),this.timeInterval=void 0),this.setState({recordStatus:"stop"}),time=this.state.time,_context.next=5,_recorder2.default.stop().then(function(data){_this3.setState({recordUrl:data.url}),_this3.upload({duration:parseInt(time/1e3,10),file:data.blob}).catch(function(error){_this3.upload({error:error})}),global.document.removeEventListener("visibilitychange",_this3.monitorPageLeave)});case 5:case"end":return _context.stop()}},_callee,this)}));return function stopRecord(){return _ref.apply(this,arguments)}}()},{key:"playRecord",value:function playRecord(){var recordUrl=this.state.recordUrl;this.setState({recordStatus:"play"}),this.player=new _audio2.default,this.player.play({src:recordUrl,onended:this.cancelPlay,onpause:this.cancelPlay})}},{key:"upload",value:function(){var _ref2=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(data){var audio,audioData,_audioData,_this4=this;return _regenerator2.default.wrap(function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(this.setState({uploadStatus:"uploading"}),audio=void 0,!data.file&&!data.error){_context2.next=38;break}if(_context2.prev=3,!data.error){_context2.next=10;break}throw this.setState({recordStatus:"stop"}),this.isSilenceUpload=!0,data.error;case 10:if(!this.formData){_context2.next=17;break}return _context2.next=13,(0,_axios2.default)({url:this.signature.data.uploadAddress,method:"POST",headers:{"Content-Type":"multipart/form-data"},data:this.formData,timeout:3e4});case 13:audioData=_context2.sent,audio={src:audioData.data.data.transcodeUrl,duration:data.duration},_context2.next=31;break;case 17:return _context2.next=19,(0,_axios2.default)({url:"https://api.smartstudy.com/file/upload/signature",method:"get",headers:{"Content-Type":"application/json"},params:{business:"exercise/speaking",fileName:data.duration+".webm"},timeout:3e4});case 19:return this.signature=_context2.sent,this.formData=new _formData2.default,this.formData.append("key",this.signature.data.key),this.formData.append("policy",this.signature.data.policy),this.formData.append("OSSAccessKeyId",this.signature.data.accessKeyId),this.formData.append("signature",this.signature.data.signature),this.formData.append("callback",this.signature.data.callback),this.formData.append("file",data.file),_context2.next=29,(0,_axios2.default)({url:this.signature.data.uploadAddress,method:"POST",headers:{"Content-Type":"multipart/form-data"},data:this.formData,timeout:3e4});case 29:_audioData=_context2.sent,audio={src:_audioData.data.data.transcodeUrl,duration:data.duration};case 31:_context2.next=38;break;case 33:return _context2.prev=33,_context2.t0=_context2.catch(3),console.log("error:",_context2.t0),this.isSilenceUpload?this.setState({uploadStatus:"fail"}):(this.isSilenceUpload=!0,setTimeout(function(){_this4.upload(data)},2e3)),_context2.abrupt("return");case 38:this.formData=void 0,this.signature=void 0,this.setState({uploadStatus:"success",recordUrl:audio.src,time:1e3*audio.duration});case 41:case"end":return _context2.stop()}},_callee2,this,[[3,33]])}));return function upload(_x){return _ref2.apply(this,arguments)}}()},{key:"generateTip",value:function generateTip(){var _this5=this,uploadStatus=this.state.uploadStatus;return"success"===uploadStatus&&setTimeout(function(){_this5.setState({uploadStatus:"saved"})},2e3),"uploading"===uploadStatus?_react2.default.createElement(_tiUi.View,{className:_styles2.default.tip},"正在保存录音..."):"success"===uploadStatus?_react2.default.createElement(_tiUi.View,{style:{color:"#52B343",marginTop:"10px"}},"录音保存成功"):"fail"===uploadStatus&&_react2.default.createElement(_tiUi.View,{className:[_styles2.default.tip,_styles2.default.colorFD5454]},"音频保存失败，请检查网络连接或使用Chrome浏览器重录")}},{key:"render",value:function render(){var _this6=this,_state=this.state,recordStatus=_state.recordStatus,time=_state.time,recordUrl=_state.recordUrl,uploadStatus=_state.uploadStatus;return _react2.default.createElement(_tiUi.View,{className:_styles2.default.container},_react2.default.createElement(_tiUi.View,{className:_styles2.default.article},_react2.default.createElement(_tiUi.View,{className:_styles2.default.text},"Direction:"),_react2.default.createElement(_tiUi.View,null,"请根据题干，回答问题：（口语答案的长度不得少于45秒）"),_react2.default.createElement(_tiUi.View,{className:_styles2.default.text},"Questions:"),_react2.default.createElement(_tiUi.View,null,"Can you tell me something about your family please?")),_react2.default.createElement(_tiUi.View,{className:_styles2.default.recorderBox},"default"===recordStatus&&_react2.default.createElement(_tiUi.Image,{className:_styles2.default.image,src:__webpack_require__(844)}),"start"===recordStatus&&_react2.default.createElement(_tiUi.Image,{className:_styles2.default.image,src:__webpack_require__(845)}),"stop"===recordStatus&&_react2.default.createElement(_tiUi.Image,{className:_styles2.default.image,src:__webpack_require__(846)}),"play"===recordStatus&&_react2.default.createElement(_tiUi.Image,{className:_styles2.default.image,src:__webpack_require__(847)}),_react2.default.createElement(_tiUi.View,{className:_styles2.default.buttons},recordUrl&&_react2.default.createElement(_tiUi.Button,{className:_styles2.default.button,isAvailable:!("start"===recordStatus),text:"play"===recordStatus?"取消播放":"播放录音",onClick:function onClick(){"stop"===recordStatus?_this6.playRecord():_this6.cancelPlay()}}),_react2.default.createElement(_tiUi.Button,{className:[_styles2.default.button,recordUrl&&_styles2.default.gray],textClassName:recordUrl&&_styles2.default.grayText,isAvailable:"uploading"!==uploadStatus&&"play"!==recordStatus,text:"start"===recordStatus?"停止录音":recordUrl?"重新录音":"开始录音",onClick:(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee3(){return _regenerator2.default.wrap(function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if("uploading"!==uploadStatus){_context3.next=2;break}return _context3.abrupt("return",!1);case 2:if("start"!==recordStatus){_context3.next=7;break}return _context3.next=5,_this6.stopRecord();case 5:_context3.next=8;break;case 7:_this6.startRecord();case 8:case"end":return _context3.stop()}},_callee3,_this6)}))})),_react2.default.createElement(_tiUi.View,{className:_styles2.default.time},(0,_utils.formatDuration)(time)),this.generateTip()))}}]),RecorderDemo}(_react.Component);exports.default=RecorderDemo,RecorderDemo.__docgenInfo={description:"",methods:[{name:"monitorPageLeave",docblock:null,modifiers:[],params:[],returns:null},{name:"startRecord",docblock:null,modifiers:[],params:[],returns:null},{name:"stopRecord",docblock:null,modifiers:["async"],params:[],returns:null},{name:"playRecord",docblock:null,modifiers:[],params:[],returns:null},{name:"cancelPlay",docblock:null,modifiers:[],params:[],returns:null},{name:"upload",docblock:null,modifiers:["async"],params:[{name:"data",type:null}],returns:null},{name:"generateTip",docblock:null,modifiers:[],params:[],returns:null}],displayName:"RecorderDemo"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/demo/recorder/index.js"]={name:"RecorderDemo",docgenInfo:RecorderDemo.__docgenInfo,path:"stories/demo/recorder/index.js"})}).call(this,__webpack_require__(3))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.formatDuration=function formatDuration(milliseconds){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){var hours=parseInt(milliseconds/3600/1e3,10),_minutes=parseInt(milliseconds/60/1e3-60*hours,10),_seconds=parseInt(milliseconds/1e3-3600*hours-60*_minutes,10);return""+(hours<10?0:"")+hours+":"+(_minutes<10?0:"")+_minutes+":"+(_seconds<10?0:"")+_seconds}var minutes=parseInt(milliseconds/60/1e3,10),seconds=parseInt(milliseconds/1e3-60*minutes,10);return""+(minutes<10?0:"")+minutes+":"+(seconds<10?0:"")+seconds}},function(module,exports,__webpack_require__){"use strict";(function(global){Object.defineProperty(exports,"__esModule",{value:!0});var _classCallCheck3=_interopRequireDefault(__webpack_require__(4)),_createClass3=_interopRequireDefault(__webpack_require__(5)),_lodash=__webpack_require__(13);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var audioContainer=[],Player=function(){function Player(){(0,_classCallCheck3.default)(this,Player),this.player=null}return(0,_createClass3.default)(Player,[{key:"play",value:function play(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.player=new global.window.Audio(options.src),this.player.onended=options.onended,this.player.onpause=options.onpause,audioContainer.forEach(function(audio){audio.pause()}),audioContainer.push(this.player),this.player.play()}},{key:"stop",value:function stop(){var _this=this;(0,_lodash.remove)(audioContainer,function(audio){return audio===_this.player}),this.player.onpause=null,this.player.onended=null,this.player.src="",this.player=null}}]),Player}();exports.default=Player}).call(this,__webpack_require__(3))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _aphrodite=__webpack_require__(2);exports.default=_aphrodite.StyleSheet.create({container:{width:"600px",margin:"0px auto",paddingBottom:"40px"},text:{fontSize:"16px",fontFamily:"PingFangSC-Semibold",color:"rgba(50,54,58,1)",lineHeight:"22px",marginTop:"40px",marginBottom:"8px"},article:{fontSize:"15px",fontFamily:"PingFangSC-Regular",color:"rgba(50,54,58, 0.7)",lineHeight:"24px",marginTop:"8px"},recorderBox:{width:"100%",height:"212px",border:"1px solid rgba(220,230,236,1)",justifyContent:"center",alignItems:"center",marginTop:"40px"},image:{width:"40px",height:"40px"},buttons:{marginTop:16,flexDirection:"row"},button:{marginLeft:10,":first-child":{marginLeft:0}},time:{marginTop:10,color:"rgba(135,143,152,1)"},tip:{marginTop:10},color52B343:{color:"#52B343"},colorFD5454:{color:"#FD5454"},gray:{backgroundColor:"#fff",border:"solid 1px #878f98",":hover":{backgroundColor:"#f4f6f7"}},grayAvailable:{opacity:.5},grayText:{color:"#32363a"},modalAlert:{alignItems:"center"},modalAlertImage:{width:90,height:90,marginTop:20},modalAlertText:{fontSize:14,marginTop:20,marginBottom:40}})},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/recorder.37641c53.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/recorder.96bef420.gif"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/volume.b5a8d199.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/volume.09a96e94.gif"},function(module,exports,__webpack_require__){"use strict";(function(module){var _react2=_interopRequireDefault(__webpack_require__(1)),_react3=__webpack_require__(27),_addonInfo=__webpack_require__(35),_render_index2=_interopRequireDefault(__webpack_require__(328)),_tableComponent2=_interopRequireDefault(__webpack_require__(37));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(0,_react3.storiesOf)("RenderIndex",module).addDecorator(_addonInfo.withInfo).addParameters({info:{inline:!0,styles:{header:{h1:{color:"#62C9FF"},h2:{color:"#32363A"}}}}}).add("练习报告页 索引",function(){return _react2.default.createElement("div",{style:{width:510}},_react2.default.createElement(_render_index2.default,{params:{questionId:"1007319",exerciseId:"12312",mode:"practice"},questions:[{rank:1,id:1007318,type:"Blank",materials:[{id:37831,userAnswer:{correct:!0}},{id:37834,userAnswer:{correct:!0}}]},{rank:2,id:1007319,type:"Blank",materials:[{id:37832,userAnswer:{correct:!1}},{id:37833,userAnswer:{correct:!1}}]},{id:1007320,rank:3,type:"Blank",materials:[{id:37833,userAnswer:{correct:!1}}]},{rank:4,id:1007321,type:"Blank",materials:[{id:37831,userAnswer:{correct:!0}},{id:37834,userAnswer:{correct:!0}}]},{rank:5,id:1007322,type:"Blank",materials:[{id:37832,userAnswer:{correct:!1}},{id:37833,userAnswer:{correct:!1}}]},{id:1007323,rank:6,type:"Blank",materials:[{id:37833,userAnswer:{correct:!1}}]},{rank:7,id:1007324,type:"Blank",materials:[{id:37831,userAnswer:{correct:!0}},{id:37834,userAnswer:{correct:!0}}]},{rank:8,id:1007325,type:"Blank",materials:[{id:37832,userAnswer:{correct:!1}},{id:37833,userAnswer:{correct:!1}}]},{rank:9,id:1007326,type:"Blank",materials:[{id:37833,userAnswer:{correct:!1}}]},{rank:10,id:1007327,type:"Blank",materials:[{id:37831,userAnswer:{correct:!0}},{id:37834,userAnswer:{correct:!0}}]},{rank:11,id:1007328,type:"Blank",materials:[{id:37832,userAnswer:{correct:!1}},{id:37833,userAnswer:{correct:!1}}]},{rank:12,id:1007329,type:"Blank",materials:[{id:37833,userAnswer:{correct:!1}}]},{rank:13,id:1007330,type:"Blank",materials:[{id:37832,userAnswer:{correct:!1}},{id:37833,userAnswer:{correct:!1}}]},{rank:14,id:1007331,type:"Blank",materials:[{id:37833,userAnswer:{correct:!1}}]},{rank:15,id:1007334,type:"Blank",materials:[{id:37833,userAnswer:{correct:!1}}]}],history:function history(){return alert("sssss")}}))},{info:{text:"索引组件案例  使用组件方法如下：\n\t\t\t\t<RenderIndex></RenderIndex>\n\t\t\t  ",TableComponent:_tableComponent2.default}})}).call(this,__webpack_require__(16)(module))},function(module,exports,__webpack_require__){"use strict";(function(module){var _react2=_interopRequireDefault(__webpack_require__(1)),_react3=__webpack_require__(27),_addonInfo=__webpack_require__(35),_aphrodite=__webpack_require__(2),_tiUi=__webpack_require__(10),_search_words2=_interopRequireDefault(__webpack_require__(112)),_modal2=_interopRequireDefault(__webpack_require__(142)),_article2=_interopRequireDefault(__webpack_require__(138)),_article_data=__webpack_require__(113),_styles2=_interopRequireDefault(__webpack_require__(111)),_tableComponent2=_interopRequireDefault(__webpack_require__(37));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(0,_react3.storiesOf)("SearchWords",module).addDecorator(_addonInfo.withInfo).addParameters({info:{inline:!0,styles:{header:{h1:{color:"#62C9FF"},h2:{color:"#32363A"}}},source:!1}}).add("SearchWords ",function(){return _react2.default.createElement("div",{style:{width:"500px",height:"500px"}},_react2.default.createElement(_article2.default,{material:_article_data.material1,question:_article_data.question1}),_react2.default.createElement(_search_words2.default,{ref:function ref(searchWords){_search_words2.default.instance=searchWords},getSearchWord:"https://api.smartstudy.com/word/brief"}))},{info:{text:"\n      音频播放组件 可以传入需要播放的音频路径 使用组件方法如下：\n\n      ~~~js\n        <div style={{width: '500px', height: '500px'}}>\n          <Scrollbar\n            onScrollStart={() => {SearchWords.hide()}}\n          >\n            <Article material={material1} question={question1}></Article>\n            <SearchWords\n              ref={searchWords => { SearchWords.instance = searchWords; }}\n              getSearchWord=\"https://api.smartstudy.com/word/brief\"\n            ></SearchWords>\n          </Scrollbar>\n        </div>\n      ~~~\n    ",TableComponent:_tableComponent2.default,inline:!1}}).add("弹窗 隐藏效果",function(){return _react2.default.createElement("div",{style:{width:"500px",height:"500px"}},_react2.default.createElement(_tiUi.Scrollbar,{onScrollStart:function onScrollStart(){_search_words2.default.hide()}},_react2.default.createElement(_search_words2.default,{ref:function ref(searchWords){_search_words2.default.instance=searchWords},getSearchWord:"https://api.smartstudy.com/word/brief"}),_react2.default.createElement(_tiUi.Button,{className:_styles2.default.button,text:"提示弹框",onClick:function onClick(){return _modal2.default.show("ModalAlert",{title:"温馨提示",buttons:[{title:"开始测评",onClick:function onClick(){alert("开始测评～～")},class:"alertTip"}],width:400,component:_react2.default.createElement(_tiUi.View,{className:_styles2.default.modalAlertText},_react2.default.createElement(_tiUi.View,{className:_styles2.default.alertText},"1.请尽可能完成所有题目，确保测试的准确性；"),_react2.default.createElement(_tiUi.View,{className:_styles2.default.alertText},"2.测试过程中不支持跳题或返回上一题；"),_react2.default.createElement(_tiUi.View,{className:_styles2.default.alertText},"3.本测试不支持",_react2.default.createElement("span",{className:(0,_aphrodite.css)(_styles2.default.tipText)},"Safari"),"、",_react2.default.createElement("span",{className:(0,_aphrodite.css)(_styles2.default.tipText)},"IE"),"和",_react2.default.createElement("span",{className:(0,_aphrodite.css)(_styles2.default.tipText)},"Edge"),"浏览器，推荐使用",_react2.default.createElement("span",{className:(0,_aphrodite.css)(_styles2.default.tipText1)},"chrome"),"；"),_react2.default.createElement(_tiUi.View,{className:_styles2.default.alertText},"4.可提前准备好耳机和纸笔。"))},function(){})}}),_react2.default.createElement(_article2.default,{material:_article_data.material1,question:_article_data.question1}),_react2.default.createElement(_modal2.default,{ref:function ref(modal){_modal2.default.instance=modal},isReport:!1})))},{info:{text:"\n      音频播放组件 可以传入需要播放的音频路径 使用组件方法如下：\n\n      ~~~js\n        <div style={{width: '500px', height: '500px'}}>\n          <Scrollbar\n            onScrollStart={() => {SearchWords.hide()}}\n          >\n            <Article material={material1} question={question1}></Article>\n            <SearchWords\n              ref={searchWords => { SearchWords.instance = searchWords; }}\n              getSearchWord=\"https://api.smartstudy.com/word/brief\"\n            ></SearchWords>\n          </Scrollbar>\n        </div>\n      ~~~\n    ",TableComponent:_tableComponent2.default}}).add("弹窗 答案解析 隐藏效果",function(){return _react2.default.createElement("div",{style:{width:"500px",height:"500px"}},_react2.default.createElement(_tiUi.Scrollbar,{onScrollStart:function onScrollStart(){_search_words2.default.hide()}},_react2.default.createElement(_search_words2.default,{ref:function ref(searchWords){_search_words2.default.instance=searchWords},getSearchWord:"https://api.smartstudy.com/word/brief"}),_react2.default.createElement(_tiUi.Button,{className:_styles2.default.button,text:"答案解析",onClick:function onClick(){return _modal2.default.show("ModalAnalysis",{answerAnalysis:_article_data.answerAnalysis})}}),_react2.default.createElement(_modal2.default,{ref:function ref(modal){_modal2.default.instance=modal},isReport:!1})))},{info:{text:"\n      音频播放组件 可以传入需要播放的音频路径 使用组件方法如下:\n\n      ~~~js\n        <div style={{width: '500px', height: '500px'}}>\n            <Article material={material1} question={question1}></Article>\n            <SearchWords\n              ref={searchWords => { SearchWords.instance = searchWords; }}\n              getSearchWord=\"https://api.smartstudy.com/word/brief\"\n            ></SearchWords>\n        </div>\n      ~~~\n    ",TableComponent:_tableComponent2.default}})}).call(this,__webpack_require__(16)(module))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf2=_interopRequireDefault(__webpack_require__(9)),_classCallCheck3=_interopRequireDefault(__webpack_require__(4)),_createClass3=_interopRequireDefault(__webpack_require__(5)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(7)),_inherits3=_interopRequireDefault(__webpack_require__(8)),_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_propTypes2=_interopRequireDefault(__webpack_require__(0)),_tiUi=__webpack_require__(10),_index2=_interopRequireDefault(__webpack_require__(142)),_styles2=_interopRequireDefault(__webpack_require__(851));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ModalAlert=function(_Component){function ModalAlert(){return(0,_classCallCheck3.default)(this,ModalAlert),(0,_possibleConstructorReturn3.default)(this,(ModalAlert.__proto__||(0,_getPrototypeOf2.default)(ModalAlert)).apply(this,arguments))}return(0,_inherits3.default)(ModalAlert,_Component),(0,_createClass3.default)(ModalAlert,[{key:"render",value:function render(){var _props=this.props,modalId=_props.modalId,buttons=_props.buttons,component=_props.component;return _react2.default.createElement(_tiUi.View,{className:_styles2.default.container},component,_react2.default.createElement(_tiUi.View,{className:_styles2.default.buttons},buttons.map(function(item,index){return _react2.default.createElement(_tiUi.Button,{key:index,className:[_styles2.default.btn,item.class&&_styles2.default[item.class]],textClassName:[item.class&&_styles2.default[item.class+"Text"]],text:item.title,onClick:function onClick(){item.onClick&&item.onClick(),_index2.default.hide(modalId)}})})))}}]),ModalAlert}(_react.Component);ModalAlert.propTypes={modalId:_propTypes2.default.string.isRequired,buttons:_propTypes2.default.array.isRequired,component:_propTypes2.default.object.isRequired},exports.default=ModalAlert,ModalAlert.__docgenInfo={description:"",methods:[],displayName:"ModalAlert",props:{modalId:{type:{name:"string"},required:!0,description:""},buttons:{type:{name:"array"},required:!0,description:""},component:{type:{name:"object"},required:!0,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["show/modal/alert/index.js"]={name:"ModalAlert",docgenInfo:ModalAlert.__docgenInfo,path:"show/modal/alert/index.js"})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _aphrodite=__webpack_require__(2);exports.default=_aphrodite.StyleSheet.create({container:{padding:40,paddingTop:20},buttons:{flex:1,flexDirection:"row",alignSelf:"center"},btn:{alignSelf:"center",width:120,height:40,marginTop:20,marginLeft:20,":first-child":{marginLeft:0}},gray:{backgroundColor:"#fff",border:"solid 1px #878f98",":hover":{backgroundColor:"#f4f6f7"}},grayText:{color:"#32363a"},alertText:{fontSize:"14px"}})},function(module,exports,__webpack_require__){"use strict";(function(global){Object.defineProperty(exports,"__esModule",{value:!0});var _regenerator2=_interopRequireDefault(__webpack_require__(36)),_extends3=_interopRequireDefault(__webpack_require__(11)),_promise2=_interopRequireDefault(__webpack_require__(140)),_asyncToGenerator3=_interopRequireDefault(__webpack_require__(44)),_getPrototypeOf2=_interopRequireDefault(__webpack_require__(9)),_classCallCheck3=_interopRequireDefault(__webpack_require__(4)),_createClass3=_interopRequireDefault(__webpack_require__(5)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(7)),_inherits3=_interopRequireDefault(__webpack_require__(8)),_axios2=_interopRequireDefault(__webpack_require__(53)),_formData2=_interopRequireDefault(__webpack_require__(199)),_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_propTypes2=_interopRequireDefault(__webpack_require__(0)),_lodash=__webpack_require__(13),_tiUi=__webpack_require__(10),_index2=_interopRequireDefault(__webpack_require__(142)),_styles2=_interopRequireDefault(__webpack_require__(853));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ModalCorrect=function(_Component){function ModalCorrect(props){(0,_classCallCheck3.default)(this,ModalCorrect);var _this=(0,_possibleConstructorReturn3.default)(this,(ModalCorrect.__proto__||(0,_getPrototypeOf2.default)(ModalCorrect)).call(this,props));return _this.state={submitting:!1,choices:[],detail:"",files:[],filesUrl:[]},_this}return(0,_inherits3.default)(ModalCorrect,_Component),(0,_createClass3.default)(ModalCorrect,[{key:"toggleChoice",value:function toggleChoice(choice){var choices=this.state.choices;-1!==choices.indexOf(choice)?this.setState({choices:(0,_lodash.filter)(choices,function(item){return item!==choice})}):this.setState({choices:(0,_lodash.concat)(choices,choice)})}},{key:"onDetailChange",value:function onDetailChange(e){this.setState({detail:e.target.value.substr(0,300)})}},{key:"selectFile",value:function selectFile(){this.fileInput.click()}},{key:"onFileChange",value:function onFileChange(event){var _this2=this,reader=new global.FileReader,image=new global.Image,file=event.target.files[0],overSized=file.size>1048576;reader.readAsDataURL(file),reader.onload=function(e){image.src=e.target.result},image.onload=function(){var canvas=document.createElement("canvas"),context=canvas.getContext("2d"),compressedUrl=image.src;if(overSized){var originWidth=image.width,originHeight=image.height,targetWidth=originWidth,targetHeight=originHeight;(originWidth>3072||originHeight>3072)&&(originWidth/originHeight>1?(targetWidth=3072,targetHeight=Math.round(originHeight/originWidth*3072)):(targetHeight=3072,targetWidth=Math.round(originWidth/originHeight*3072))),canvas.width=targetWidth,canvas.height=targetHeight,context.clearRect(0,0,targetWidth,targetHeight),context.drawImage(image,0,0,targetWidth,targetHeight),compressedUrl=canvas.toDataURL("image/jpeg",.92)}_this2.setState(function(prev){return{files:prev.files.concat([file]),filesUrl:prev.filesUrl.concat([compressedUrl])}}),_this2.fileInput.value=""}}},{key:"removeFile",value:function removeFile(index){this.setState(function(prev){return{files:(0,_lodash.filter)(prev.files,function(f,i){return i!==index}),filesUrl:(0,_lodash.filter)(prev.filesUrl,function(f,i){return i!==index})}})}},{key:"submit",value:function(){var _ref=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){var _props,modalId,getUploadSignature,option,postCorrection,step,isReport,_state,choices,detail,files,images,i,file,createPromise,signature,formData,imgData,_Modal$instance$state,onShow,onHide,form;return _regenerator2.default.wrap(function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(_props=this.props,modalId=_props.modalId,getUploadSignature=_props.getUploadSignature,option=_props.option,postCorrection=_props.postCorrection,step=_props.step,isReport=_props.isReport,_state=this.state,choices=_state.choices,detail=_state.detail,files=_state.files,this.setState({submitting:!0}),images=[],!(files.length>0)){_context.next=35;break}i=0;case 6:if(!(i<files.length)){_context.next=35;break}return file=files[i],_context.prev=8,createPromise=function createPromise(action,payload){return new _promise2.default(function(resolve,reject){action({payload:payload,resolve:resolve,reject:reject})})},_context.next=12,createPromise(getUploadSignature,{business:"tiku/correction",fileName:file.name});case 12:return signature=_context.sent,(formData=new _formData2.default).append("key",signature.data.key),formData.append("policy",signature.data.policy),formData.append("OSSAccessKeyId",signature.data.accessKeyId),formData.append("signature",signature.data.signature),formData.append("callback",signature.data.callback),formData.append("file",file),_context.next=22,(0,_axios2.default)({url:signature.data.uploadAddress,method:"POST",headers:{"Content-Type":"multipart/form-data"},data:formData,timeout:2e4});case 22:imgData=_context.sent,images.push({src:0===imgData.data.code?imgData.data.data.url:signature.data.uploadAddress+"/"+signature.data.key}),_context.next=32;break;case 26:return _context.prev=26,_context.t0=_context.catch(8),_Modal$instance$state=_index2.default.instance.state,onShow=_Modal$instance$state.onShow,onHide=_Modal$instance$state.onHide,_index2.default.show("ModalAlert",{title:"错误",buttons:[{title:"OK"}],width:400,isReport:isReport,component:_react2.default.createElement(_tiUi.View,{className:_styles2.default.modalAlert},"上传图片出现错误，请刷新重试")},onShow,onHide),this.setState({submitting:!1}),_context.abrupt("return");case 32:i+=1,_context.next=6;break;case 35:return form=(0,_extends3.default)({type:choices,referenceName:step.question?step.question.name:step.practice.name,referenceType:step.question?"Question":"Practice",referenceId:step.question?step.question.id:step.practice.id,images:images,detail:detail,status:"Pending",remark:"",version:option.version?option.version:"1.0.0",source:option.source?option.source:"ti-base"},option),_context.next=38,postCorrection(form);case 38:_index2.default.hide(modalId),setTimeout(function(){var _Modal$instance$state2=_index2.default.instance.state,onShow=_Modal$instance$state2.onShow,onHide=_Modal$instance$state2.onHide;_index2.default.show("ModalAlert",{title:"提交成功",buttons:[{title:"OK"}],width:400,isReport:isReport,component:_react2.default.createElement(_tiUi.View,{className:_styles2.default.modalAlert},_react2.default.createElement(_tiUi.Image,{className:_styles2.default.modalAlertImage,src:__webpack_require__(856)}),_react2.default.createElement(_tiUi.View,{className:_styles2.default.modalAlertText},"你的反馈我们会认真查看并完善，感谢你对智课一如既往的支持呦~"))},onShow,onHide)},50);case 40:case"end":return _context.stop()}},_callee,this,[[8,26]])}));return function submit(){return _ref.apply(this,arguments)}}()},{key:"render",value:function render(){var _this3=this,isFollowUpOrListen=this.props.isFollowUpOrListen,_state2=this.state,choices=_state2.choices,detail=_state2.detail,submitting=_state2.submitting,filesUrl=_state2.filesUrl,allChoices=void 0;return allChoices=isFollowUpOrListen?[{type:"AudioScript",text:"听力原文错误"},{type:"ChineseTranslation",text:"中文翻译错误"},{type:"TimeCodeRagged",text:"音频和听力原文时间未对齐"},{type:"ListeningOriginalNoise",text:"听力音频有杂音"},{type:"AudioNonfluency",text:"单句精听换句时音频卡顿"},{type:"Other",text:"其它"}]:[{type:"ReadingOriginal",text:"听力原文有误"},{type:"Stem",text:"题干有误"},{type:"Choices",text:"选项有误"},{type:"Answer",text:"答案有误"},{type:"Analysis",text:"文字解析有误"},{type:"ListeningOriginal",text:"听力音频有误"},{type:"ReadingTranslation",text:"阅读译文有误"},{type:"PageStyle",text:"页面显示有误"},{type:"Other",text:"其它"}],_react2.default.createElement(_tiUi.View,{className:_styles2.default.container},_react2.default.createElement(_tiUi.View,{className:_styles2.default.section},_react2.default.createElement(_tiUi.Image,{className:_styles2.default.sectionTitleType,src:__webpack_require__(857)}),_react2.default.createElement(_tiUi.View,{className:_styles2.default.choices},allChoices.map(function(choice){return _react2.default.createElement(_tiUi.View,{key:choice.type,className:[!0===isFollowUpOrListen?_styles2.default.choice2:_styles2.default.choice1,_styles2.default.choiceBox,-1!==choices.indexOf(choice.type)?_styles2.default.choiceBoxChecked:void 0],onClick:function onClick(){return _this3.toggleChoice(choice.type)}},_react2.default.createElement(_tiUi.View,{className:_styles2.default.choiceText},choice.text))}))),_react2.default.createElement(_tiUi.View,{className:_styles2.default.section},_react2.default.createElement(_tiUi.Image,{className:_styles2.default.sectionTitleDetail,src:__webpack_require__(858)}),_react2.default.createElement(_tiUi.Textarea,{className:_styles2.default.detail,placeholder:"将问题描述清楚，处理更及时哦~",value:detail,onChange:function onChange(e){return _this3.onDetailChange(e)}}),_react2.default.createElement(_tiUi.View,{className:_styles2.default.detailTip},detail.length,"/300"),_react2.default.createElement(_tiUi.View,{className:_styles2.default.images},filesUrl.map(function(fileUrl,index){return _react2.default.createElement(_tiUi.View,{key:index,className:_styles2.default.image},_react2.default.createElement(_tiUi.Image,{className:_styles2.default.imageShow,src:fileUrl}),_react2.default.createElement(_tiUi.Image,{className:_styles2.default.imageRemove,src:__webpack_require__(859),onClick:function onClick(){return _this3.removeFile(index)}}))}),filesUrl.length<3&&_react2.default.createElement(_tiUi.View,{className:_styles2.default.imageUpload,onClick:function onClick(){return _this3.selectFile()}},_react2.default.createElement(_tiUi.Image,{className:_styles2.default.imageUploadPlus,src:__webpack_require__(860)})))),_react2.default.createElement(_tiUi.Button,{className:_styles2.default.btn,textClassName:_styles2.default.button,text:"提交",onClick:function onClick(){return _this3.submit()},isAvailable:!submitting&&choices.length>0}),_react2.default.createElement("input",{ref:function ref(fileInput){_this3.fileInput=fileInput},type:"file",accept:"image/png,image/jpeg,image/jpg",style:{display:"none"},onChange:function onChange(e){return _this3.onFileChange(e)}}))}}]),ModalCorrect}(_react.Component);ModalCorrect.propTypes={modalId:_propTypes2.default.string.isRequired,getUploadSignature:_propTypes2.default.func.isRequired,postCorrection:_propTypes2.default.func.isRequired,step:_propTypes2.default.object.isRequired,isReport:_propTypes2.default.bool,option:_propTypes2.default.object,isFollowUpOrListen:_propTypes2.default.bool},ModalCorrect.defaultProps={option:{},isReport:!1,isFollowUpOrListen:!1},exports.default=ModalCorrect,ModalCorrect.__docgenInfo={description:"",methods:[{name:"toggleChoice",docblock:null,modifiers:[],params:[{name:"choice",type:null}],returns:null},{name:"onDetailChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"selectFile",docblock:null,modifiers:[],params:[],returns:null},{name:"onFileChange",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"removeFile",docblock:null,modifiers:[],params:[{name:"index",type:null}],returns:null},{name:"submit",docblock:null,modifiers:["async"],params:[],returns:null}],displayName:"ModalCorrect",props:{option:{defaultValue:{value:"{}",computed:!1},type:{name:"object"},required:!1,description:""},isReport:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},isFollowUpOrListen:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},modalId:{type:{name:"string"},required:!0,description:""},getUploadSignature:{type:{name:"func"},required:!0,description:""},postCorrection:{type:{name:"func"},required:!0,description:""},step:{type:{name:"object"},required:!0,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["show/modal/correct/index.js"]={name:"ModalCorrect",docgenInfo:ModalCorrect.__docgenInfo,path:"show/modal/correct/index.js"})}).call(this,__webpack_require__(3))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _aphrodite=__webpack_require__(2);exports.default=_aphrodite.StyleSheet.create({container:{padding:40,paddingTop:20},section:{position:"relative",marginTop:20},sectionTitleType:{width:116,height:28},sectionTitleDetail:{width:110,height:28},choices:{marginTop:10,flexDirection:"row",flexWrap:"wrap"},choice1:{flexDirection:"row",marginTop:8,width:"25%",height:"22px",alignItems:"center",cursor:"pointer"},choice2:{flexDirection:"row",marginTop:8,width:"186px",height:"22px",cursor:"pointer",":nth-child(1)":{marginRight:"-15px"},":nth-child(4)":{marginRight:"-15px"},":nth-child(2)":{marginRight:"30px"},":nth-child(5)":{marginRight:"30px"}},choiceBox:{paddingLeft:16,backgroundImage:"url("+__webpack_require__(854)+")",backgroundSize:16,backgroundRepeat:"no-repeat",backgroundPosition:"left top 4px",":hover":{backgroundImage:"url("+__webpack_require__(855)+")"}},choiceBoxChecked:{backgroundImage:"url("+__webpack_require__(335)+")",":hover":{backgroundImage:"url("+__webpack_require__(335)+")"}},choiceText:{marginLeft:6},detail:{height:80,marginTop:10,padding:10,border:"1px solid #C3CCD1",fontSize:14},detailTip:{position:"absolute",fontSize:12,color:"#878F98",bottom:75,right:10,padding:3,paddingLeft:10,paddingRight:10,borderRadius:5},images:{flexDirection:"row",marginLeft:-10},image:{position:"relative",marginTop:10,marginLeft:10},imageShow:{height:60,width:60},imageRemove:{position:"absolute",top:-5,right:-5,height:14,width:14,cursor:"pointer"},imageUpload:{marginTop:10,marginLeft:10,height:60,width:60,border:"1px solid #C3CCD1",backgroundColor:"#F6F8F9",alignItems:"center",justifyContent:"center",cursor:"pointer"},imageUploadPlus:{width:12,height:12},btn:{alignSelf:"center",width:120,height:40,marginTop:20},button:{fontSize:"14px"},modalAlert:{alignItems:"center"},modalAlertImage:{width:85,height:73},modalAlertText:{marginTop:20}})},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/checkbox.458caafc.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/checkbox-hover.d51648bb.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/ok.71e31902.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/title_type.41713183.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/title_detail.d14c4dda.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/remove.c1f996ba.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/plus.eadac372.png"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf2=_interopRequireDefault(__webpack_require__(9)),_classCallCheck3=_interopRequireDefault(__webpack_require__(4)),_createClass3=_interopRequireDefault(__webpack_require__(5)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(7)),_inherits3=_interopRequireDefault(__webpack_require__(8)),_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_propTypes2=_interopRequireDefault(__webpack_require__(0)),_tiUi=__webpack_require__(10),_utils=__webpack_require__(336),_styles2=_interopRequireDefault(__webpack_require__(862));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ModalComponent=function(_Component){function ModalComponent(){return(0,_classCallCheck3.default)(this,ModalComponent),(0,_possibleConstructorReturn3.default)(this,(ModalComponent.__proto__||(0,_getPrototypeOf2.default)(ModalComponent)).apply(this,arguments))}return(0,_inherits3.default)(ModalComponent,_Component),(0,_createClass3.default)(ModalComponent,[{key:"render",value:function render(){var src=this.props.src;return _react2.default.createElement(_tiUi.View,{className:_styles2.default.container,style:{maxHeight:(0,_utils.getBodyHeight)()-140+"px"}},_react2.default.createElement(_tiUi.Image,{style:{width:"100%",height:"auto"},src:src}))}}]),ModalComponent}(_react.Component);ModalComponent.propTypes={src:_propTypes2.default.string.isRequired},exports.default=ModalComponent,ModalComponent.__docgenInfo={description:"",methods:[],displayName:"ModalComponent",props:{src:{type:{name:"string"},required:!0,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["show/modal/preview/index.js"]={name:"ModalComponent",docgenInfo:ModalComponent.__docgenInfo,path:"show/modal/preview/index.js"})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _aphrodite=__webpack_require__(2);exports.default=_aphrodite.StyleSheet.create({container:{display:"block",width:800,overflowY:"auto"}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf2=_interopRequireDefault(__webpack_require__(9)),_classCallCheck3=_interopRequireDefault(__webpack_require__(4)),_createClass3=_interopRequireDefault(__webpack_require__(5)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(7)),_inherits3=_interopRequireDefault(__webpack_require__(8)),_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_propTypes2=_interopRequireDefault(__webpack_require__(0)),_tiUi=__webpack_require__(10),_article2=_interopRequireDefault(__webpack_require__(138)),_search_words2=_interopRequireDefault(__webpack_require__(864)),_utils=__webpack_require__(336),_styles2=_interopRequireDefault(__webpack_require__(869));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ModalComponent=function(_Component){function ModalComponent(){return(0,_classCallCheck3.default)(this,ModalComponent),(0,_possibleConstructorReturn3.default)(this,(ModalComponent.__proto__||(0,_getPrototypeOf2.default)(ModalComponent)).apply(this,arguments))}return(0,_inherits3.default)(ModalComponent,_Component),(0,_createClass3.default)(ModalComponent,[{key:"render",value:function render(){var answerAnalysis=this.props.answerAnalysis;return _react2.default.createElement(_tiUi.View,{className:_styles2.default.container,style:{maxHeight:(0,_utils.getBodyHeight)()-140+"px"}},_react2.default.createElement(_tiUi.Scrollbar,{onScrollStart:function onScrollStart(){_search_words2.default.hide()},height:(0,_utils.getBodyHeight)()-140+"px"},_react2.default.createElement(_article2.default,{material:answerAnalysis})))}}]),ModalComponent}(_react.Component);ModalComponent.propTypes={answerAnalysis:_propTypes2.default.object.isRequired},exports.default=ModalComponent,ModalComponent.__docgenInfo={description:"",methods:[],displayName:"ModalComponent",props:{answerAnalysis:{type:{name:"object"},required:!0,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["show/modal/analysis/index.js"]={name:"ModalComponent",docgenInfo:ModalComponent.__docgenInfo,path:"show/modal/analysis/index.js"})},function(module,exports,__webpack_require__){"use strict";(function(global){Object.defineProperty(exports,"__esModule",{value:!0});var _stringify2=_interopRequireDefault(__webpack_require__(300)),_regenerator2=_interopRequireDefault(__webpack_require__(36)),_asyncToGenerator3=_interopRequireDefault(__webpack_require__(44)),_getPrototypeOf2=_interopRequireDefault(__webpack_require__(9)),_classCallCheck3=_interopRequireDefault(__webpack_require__(4)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(7)),_createClass3=_interopRequireDefault(__webpack_require__(5)),_inherits3=_interopRequireDefault(__webpack_require__(8)),_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_aphrodite=__webpack_require__(2),_propTypes2=_interopRequireDefault(__webpack_require__(0)),_tiUi=__webpack_require__(10),_lodash=__webpack_require__(13),_axios2=_interopRequireDefault(__webpack_require__(53)),_utils=__webpack_require__(865),_styles2=_interopRequireDefault(__webpack_require__(866));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var SearchWords=function(_Component){function SearchWords(props){var _this2=this;(0,_classCallCheck3.default)(this,SearchWords);var _ref,_this=(0,_possibleConstructorReturn3.default)(this,(SearchWords.__proto__||(0,_getPrototypeOf2.default)(SearchWords)).call(this,props));return _this.singleClick=function(e){var parentNode=global.document.getElementById("searchContainer");_this.searchParents(e.target,parentNode)||_this.clearSelect()||(_this.clickFlag&&clearTimeout(_this.clickFlag),_this.clickFlag=setTimeout(function(){_this.judgeSearch()},300))},_this.judgeSearch=function(){var _this$getTextMessage=_this.getTextMessage(),text=_this$getTextMessage.text,range=_this$getTextMessage.range;if(!text)return!1;var selectWord=text.trim();if(!range.collapsed&&/(^[a-zA-Z].*[a-zA-Z]$)|^[a-zA-Z]$/.test(selectWord)&&-1===selectWord.indexOf(" ")){var _this$getPosition=_this.getPosition(range),positionTop=_this$getPosition.positionTop,positionLeft=_this$getPosition.positionLeft,isFrameUp=_this$getPosition.isFrameUp,triangleLeft=_this$getPosition.triangleLeft,positionBottom=_this$getPosition.positionBottom;_this.setState({word:selectWord,isShow:!0,positionTop:positionTop,positionLeft:positionLeft,isFrameUp:isFrameUp,triangleLeft:triangleLeft,positionBottom:positionBottom},function(){_this.searchWord(selectWord)})}},_this.searchParents=function(element,parentNode){var currentNode=element;if(currentNode===parentNode)return!0;for(;"BODY"!==currentNode.tagName;){if(currentNode.parentNode===parentNode)return!0;currentNode=currentNode.parentNode}return!1},_this.doubleClick=function(e){var parentNode=global.document.getElementById("searchContainer");_this.searchParents(e.target,parentNode)||_this.clearSelect(!1)||(_this.clickFlag&&clearTimeout(_this.clickFlag),_this.judgeSearch())},_this.searchWord=(_ref=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(selectWord){var getSearchWord,_ref2,data,_data$data,brief,spell,sound;return _regenerator2.default.wrap(function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return getSearchWord=_this.props.getSearchWord,_context.next=3,(0,_axios2.default)({url:getSearchWord+"/"+selectWord,method:"get",headers:{"Content-Type":"application/json"},timeout:2e4});case 3:_ref2=_context.sent,data=_ref2.data,_data$data=data.data,brief=_data$data.brief,spell=_data$data.spell,sound=(0,_lodash.get)(data,"data.phonogram.us"),_this.setState({brief:brief,sound:sound,word:spell,isSucceed:!0});case 8:case"end":return _context.stop()}},_callee,_this2)})),function(_x){return _ref.apply(this,arguments)}),_this.getPosition=function(range){var rangeDist=range.getBoundingClientRect(),top=rangeDist.top,bottom=rangeDist.bottom,left=rangeDist.left,width=rangeDist.width,height=rangeDist.height,right=rangeDist.right,positionTop=0,positionLeft=0,positionBottom=0,isFrameUp=!1,triangleLeft=left+width/2-8;return positionLeft=(left+right)/2<140?0:(left+right)/2>(0,_utils.getBodyWidth)()-140?(0,_utils.getBodyWidth)()-280:left+width/2-140,(0,_utils.getBodyHeight)()-bottom<140?(isFrameUp=!0,positionBottom=(0,_utils.getBodyHeight)()-bottom+height/2+30,positionTop=top-height/2-30):positionTop=top+height/2+30,{positionTop:positionTop,positionLeft:positionLeft,isFrameUp:isFrameUp,triangleLeft:triangleLeft,positionBottom:positionBottom}},_this.getTextMessage=function(){return global.document.selection?"None"!==global.window.selection.type&&{text:global.document.selection.createRange().text.toLowerCase(),range:global.document.selection.getRangeAt(0)}:global.window.getSelection()?"None"!==global.window.getSelection().type&&{text:global.window.getSelection().toString().toLowerCase(),range:global.window.getSelection().getRangeAt(0)}:void 0},_this.clearSelect=function(){var isSingle=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],_this$state=_this.state,word=_this$state.word,isShow=_this$state.isShow,positionTop=_this$state.positionTop,positionLeft=_this$state.positionLeft,_this$getTextMessage2=_this.getTextMessage(),text=_this$getTextMessage2.text,range=_this$getTextMessage2.range,doubleClear=!1;if(!isSingle&&range&&!text&&!range.collapsed){var _this$getPosition2=_this.getPosition(range),newTop=_this$getPosition2.positionTop,newLeft=_this$getPosition2.positionLeft,isSame=positionTop===newTop&&newLeft===positionLeft&&word===text.trim();doubleClear=!isSingle&&(""===text||isSame)}return!(!isShow||!isSingle&&!doubleClear)&&(global.window.getSelection?global.window.getSelection().removeAllRanges():global.document.selection.empty(),_this.setState({word:"",isShow:!1,brief:[],sound:{},positionTop:0,positionLeft:0,isFrameUp:!1,triangleLeft:0,isPlay:!1,isSucceed:!1}),!0)},_this.playSound=function(){_this.audioPlayer&&(_this.audioPlayer.pause(),_this.audioPlayer=null);var mp3=_this.state.sound.mp3;_this.setState({isPlay:!0}),_this.audioPlayer=new Audio,_this.audioPlayer.src=mp3,_this.audioPlayer.play(),_this.audioPlayer.addEventListener("ended",function(){_this.setState({isPlay:!1})},!1)},_this.state={word:"",isShow:!1,brief:[],sound:{},positionTop:0,positionLeft:0,isFrameUp:!1,triangleLeft:0,positionBottom:0,isPlay:!1,isSucceed:!1},_this.clickFlag=null,_this.audioPlayer=null,_this}return(0,_inherits3.default)(SearchWords,_Component),(0,_createClass3.default)(SearchWords,null,[{key:"hide",value:function hide(){this.instance&&(global.window.getSelection?global.window.getSelection().removeAllRanges():global.document.selection.empty(),this.instance.setState({isShow:!1}))}}]),(0,_createClass3.default)(SearchWords,[{key:"componentDidMount",value:function(){var _ref3=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(){var body;return _regenerator2.default.wrap(function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:(body=global.document.getElementsByTagName("body")[0]).addEventListener("click",this.singleClick,!1),body.addEventListener("dblclick",this.doubleClick,!1),global.document.addEventListener("scroll",this.clearSelect,!1);case 4:case"end":return _context2.stop()}},_callee2,this)}));return function componentDidMount(){return _ref3.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function componentWillUnmount(){var body=global.document.getElementsByTagName("body")[0];body.removeEventListener("click",this.singleClick,!1),body.removeEventListener("dblclick",this.doubleClick,!1),global.document.removeEventListener("scroll",this.clearSelect,!1),this.audioPlayer&&(this.audioPlayer.pause(),this.audioPlayer=null)}},{key:"render",value:function render(){var _state=this.state,word=_state.word,isShow=_state.isShow,isPlay=_state.isPlay,isSucceed=_state.isSucceed,brief=_state.brief,sound=_state.sound,positionTop=_state.positionTop,positionLeft=_state.positionLeft,isFrameUp=_state.isFrameUp,triangleLeft=_state.triangleLeft,positionBottom=_state.positionBottom,tipStyles=void 0;return isShow&&isFrameUp?tipStyles={bottom:positionBottom+"px",left:positionLeft+"px"}:isShow&&(tipStyles={top:positionTop+"px",left:positionLeft+"px"}),_react2.default.createElement(_tiUi.View,null,_react2.default.createElement("span",{className:(0,_aphrodite.css)([_styles2.default.triangle,isShow&&_styles2.default.showContent]),style:isShow?{top:(isFrameUp?positionTop+10:positionTop-10)+"px",left:triangleLeft+"px"}:{}}),_react2.default.createElement("span",{className:(0,_aphrodite.css)([_styles2.default.triangle,_styles2.default.triangleMask,isShow&&_styles2.default.showContent]),style:isShow?{top:(isFrameUp?positionTop+10:positionTop-10)+"px",left:triangleLeft+"px"}:{}}),_react2.default.createElement(_tiUi.View,{className:[_styles2.default.content,isShow&&_styles2.default.showContent],style:isShow?tipStyles:{},id:"searchContainer"},_react2.default.createElement(_tiUi.View,{className:_styles2.default.word},word),isSucceed&&"{}"!==(0,_stringify2.default)(sound)&&!(0===brief.length||1===brief.length&&brief[0].definition===word)&&_react2.default.createElement(_tiUi.View,{className:_styles2.default.result},sound&&"{}"!==(0,_stringify2.default)(sound)&&_react2.default.createElement(_tiUi.View,{className:_styles2.default.sound},_react2.default.createElement(_tiUi.View,{className:_styles2.default.soundMark},"[",sound.text,"]"),_react2.default.createElement(_tiUi.View,{className:isPlay?_styles2.default.isPlaying:_styles2.default.soundButton,onClick:this.playSound})),!sound&&_react2.default.createElement(_tiUi.View,{className:_styles2.default.sound},_react2.default.createElement(_tiUi.View,{className:_styles2.default.soundMark},"[--]"),_react2.default.createElement(_tiUi.View,{className:_styles2.default.unAvalible})),brief.length>=1&&_react2.default.createElement(_tiUi.View,{className:_styles2.default.translate},brief.map(function(item,index){return _react2.default.createElement(_tiUi.View,{key:index,className:_styles2.default.translateList},"翻译"!==item.class&&_react2.default.createElement("span",null,item.class),_react2.default.createElement("span",null,item.definition))})),0===brief.length&&_react2.default.createElement(_tiUi.View,{className:_styles2.default.translate},"暂无释义")),isSucceed&&!sound&&(0===brief.length||1===brief.length&&brief[0].definition===word)&&_react2.default.createElement("span",{className:(0,_aphrodite.css)(_styles2.default.noContent)},"未查询到任何结果"),!isSucceed&&_react2.default.createElement(_tiUi.View,{className:_styles2.default.searching},"正在努力查询中",_react2.default.createElement(_tiUi.View,{className:_styles2.default.dot},"...",_react2.default.createElement("span",{className:(0,_aphrodite.css)(_styles2.default.dotMask)})))))}}]),SearchWords}(_react.Component);SearchWords.defaultProps={getSearchWord:"https://api.smartstudy.com/tiku/word/brief"},SearchWords.propTypes={getSearchWord:_propTypes2.default.string},exports.default=SearchWords,SearchWords.__docgenInfo={description:"",methods:[{name:"hide",docblock:"SearchWord 在页面中搜索英文单词\n    为用户返回中文翻译的功能组件",modifiers:["static"],params:[],returns:null,description:"SearchWord 在页面中搜索英文单词\n    为用户返回中文翻译的功能组件"},{name:"singleClick",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"judgeSearch",docblock:null,modifiers:[],params:[],returns:null},{name:"searchParents",docblock:null,modifiers:[],params:[{name:"element",type:null},{name:"parentNode",type:null}],returns:null},{name:"doubleClick",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"searchWord",docblock:null,modifiers:["async"],params:[{name:"selectWord",type:null}],returns:null},{name:"getPosition",docblock:null,modifiers:[],params:[{name:"range",type:null}],returns:null},{name:"getTextMessage",docblock:null,modifiers:[],params:[],returns:null},{name:"clearSelect",docblock:null,modifiers:[],params:[{name:"isSingle",type:null}],returns:null},{name:"playSound",docblock:null,modifiers:[],params:[],returns:null}],displayName:"SearchWords",props:{getSearchWord:{defaultValue:{value:"'https://api.smartstudy.com/tiku/word/brief'",computed:!1},type:{name:"string"},required:!1,description:"音频地址"}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["show/search_words/index.js"]={name:"SearchWords",docgenInfo:SearchWords.__docgenInfo,path:"show/search_words/index.js"})}).call(this,__webpack_require__(3))},function(module,exports,__webpack_require__){"use strict";(function(global){Object.defineProperty(exports,"__esModule",{value:!0});exports.getBodyWidth=function getBodyWidth(){return global.document.body.offsetWidth},exports.getBodyHeight=function getBodyHeight(){return global.document.body.offsetHeight}}).call(this,__webpack_require__(3))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _aphrodite=__webpack_require__(2);exports.default=_aphrodite.StyleSheet.create({content:{display:"none",position:"absolute",zIndex:101,width:"280px",padding:"20px",justifyContent:"center",alignItems:"center",backgroundColor:"white",boxShadow:"0px 0px 15px 0px rgba(0,0,0,0.24)"},triangle:{zIndex:100,display:"none",width:0,height:0,borderWidth:"20px 20px 0  0",borderStyle:"solid",borderColor:"#fff #fff transparent transparent ",position:"absolute",backgroundColor:"transparent",boxShadow:"0px 0px 15px 0px rgba(0,0,0,0.24)",transform:"rotate(-45deg)"},triangleMask:{zIndex:102,backgroundColor:"white",boxShadow:"0px"},word:{fontSize:"16px",fontFamily:"PingFang-SC-Medium",fontWeight:500,color:"rgba(50,54,58,1)",lineHeight:"22px"},sound:{flexDirection:"row",alignItems:"center",marginTop:"4px"},soundMark:{marginRight:"8px",fontSize:"12px",fontFamily:"PingFang-SC-Medium",fontWeight:500,color:"rgba(135,143,152,1)",lineHeight:"17px"},soundButton:{width:16,height:12,backgroundImage:"url("+__webpack_require__(337)+")",backgroundSize:"16px 12px",":hover":{backgroundImage:"url("+__webpack_require__(867)+")",backgroundSize:"16px 12px "}},unAvalible:{width:16,height:12,backgroundImage:"url("+__webpack_require__(337)+")",backgroundSize:"16px 12px"},isPlaying:{width:16,height:12,backgroundImage:"url("+__webpack_require__(868)+")",backgroundSize:"16px 12px"},translate:{marginTop:"20px",fontSize:"12px",fontFamily:"PingFang-SC-Medium",fontWeight:500,color:"rgba(50,54,58,1)",lineHeight:"24px"},translateList:{flexDirection:"row"},showContent:{display:"flex",animationName:[{"0%":{opacity:0},"100%":{opacity:1}}],animationDuration:"0.5s",animationTimingFunction:"cubic-bezier(0.2, 0.68, 0.18, 1.08)",animationIterationCount:"1"},noContent:{fontSize:"12px",fontFamily:"PingFang-SC-Medium",fontWeight:500,marginTop:"20px",color:"rgba(135,143,152,1)",lineHeight:"17px"},dot:{flexDirection:"row",justifyContent:"center",alignItems:"center",textIndent:0},dotMask:{display:"inline-block",width:"10px",height:"24px",backgroundColor:"white",animationName:[{"66%":{transform:"translateX(-3px)"},"33%":{transform:"translateX(-6px)"},"0%":{transform:"translateX(-10px)"}}],animationDuration:"1.5s",animationTimingFunction:"cubic-bezier(0.2, 0.68, 0.18, 1.08)",animationDelay:"-0.24s",animationIterationCount:"infinite"},result:{justifyContent:"center",alignItems:"center"},searching:{marginTop:"20px",flexDirection:"row",justifyContent:"center",alignItems:"center",textIndent:"20px",fontSize:"12px",fontFamily:"PingFang-SC-Medium",fontWeight:500,color:"rgba(135,143,152,1)",lineHeight:"24px"}})},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/sound_hover.975aac5a.png"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/sound_play.04e11848.gif"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _aphrodite=__webpack_require__(2);exports.default=_aphrodite.StyleSheet.create({container:{padding:40,paddingTop:20,width:800,overflowY:"auto"}})},function(module,exports,__webpack_require__){"use strict";(function(global){Object.defineProperty(exports,"__esModule",{value:!0});var _regenerator2=_interopRequireDefault(__webpack_require__(36)),_asyncToGenerator3=_interopRequireDefault(__webpack_require__(44)),_getPrototypeOf2=_interopRequireDefault(__webpack_require__(9)),_classCallCheck3=_interopRequireDefault(__webpack_require__(4)),_createClass3=_interopRequireDefault(__webpack_require__(5)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(7)),_inherits3=_interopRequireDefault(__webpack_require__(8)),_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_propTypes2=_interopRequireDefault(__webpack_require__(0)),_aphrodite=__webpack_require__(2),_tiUi=__webpack_require__(10),_cookie2=_interopRequireDefault(__webpack_require__(201)),_lodash=__webpack_require__(13),_axios2=_interopRequireDefault(__webpack_require__(53)),_index2=_interopRequireDefault(__webpack_require__(142)),_styles2=_interopRequireDefault(__webpack_require__(871));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var history=__webpack_require__(30).createBrowserHistory(),ModalComponent=function(_Component){function ModalComponent(props){var _this2=this;(0,_classCallCheck3.default)(this,ModalComponent);var _this=(0,_possibleConstructorReturn3.default)(this,(ModalComponent.__proto__||(0,_getPrototypeOf2.default)(ModalComponent)).call(this,props));return _this.updateUserInfo=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){var _this$props,modalId,onClickNext,background,loginUrl,setUserInfo,grade,search,tokenUrl,token,user,background1;return _regenerator2.default.wrap(function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(_this$props=_this.props,modalId=_this$props.modalId,onClickNext=_this$props.onClickNext,background=_this$props.background,loginUrl=_this$props.loginUrl,setUserInfo=_this$props.setUserInfo,grade=_this.state.grade,search=global.location.search,tokenUrl=decodeURIComponent(search.match(new RegExp("[?#&]token=([^?#&]+)","i"))?RegExp.$1:""),token=void 0,!tokenUrl){_context.next=9;break}token=tokenUrl,_context.next=18;break;case 9:_context.prev=9,user=JSON.parse(_cookie2.default.parse(global.document.cookie).ss_user),token=user.token,_context.next=18;break;case 14:return _context.prev=14,_context.t0=_context.catch(9),global.location.href=""+loginUrl+encodeURIComponent(global.location.href),_context.abrupt("return");case 18:return background1=void 0,(background1=background?(0,_lodash.cloneDeep)(background):{}).phase=1*grade,background1.grade=1*grade,_context.prev=22,_context.next=25,(0,_axios2.default)({url:setUserInfo[1],method:"post",headers:{"Content-Type":"application/json",From:1},data:{token:token,background:background1}});case 25:_context.next=31;break;case 27:_context.prev=27,_context.t1=_context.catch(22),console.log("e:",_context.t1),setTimeout(function(){history.push("/error/upload/"+encodeURIComponent(global.location.href))},100);case 31:if(!onClickNext){_context.next=34;break}return _context.next=34,onClickNext();case 34:_index2.default.hide(modalId);case 35:case"end":return _context.stop()}},_callee,_this2,[[9,14],[22,27]])})),_this.state={grade:"0"},_this}return(0,_inherits3.default)(ModalComponent,_Component),(0,_createClass3.default)(ModalComponent,[{key:"next",value:function next(){var _props$params=this.props.params,mode=_props$params.mode,exerciseId=_props$params.exerciseId,practiceId=_props$params.practiceId,stepId=_props$params.stepId,search=global.location.search;history.push("/"+mode+"/"+practiceId+"/"+exerciseId+"/"+(stepId+1)+search)}},{key:"componentDidMount",value:function componentDidMount(){}},{key:"render",value:function render(){var _this3=this,grade=this.state.grade;return _react2.default.createElement(_tiUi.View,{className:_styles2.default.modalTip},_react2.default.createElement(_tiUi.View,{className:_styles2.default.modalAlertTip},"补全年级信息后可生成专属留学规划哦~"),_react2.default.createElement(_tiUi.View,{className:_styles2.default.inputContainer},_react2.default.createElement("select",{onChange:function onChange(e){_this3.setState({grade:e.target.value})},className:(0,_aphrodite.css)(_styles2.default.input)},_react2.default.createElement("option",{value:"0"},"就读年级"),_react2.default.createElement("option",{value:"2"},"初中"),_react2.default.createElement("option",{value:"31"},"高一"),_react2.default.createElement("option",{value:"32"},"高二"),_react2.default.createElement("option",{value:"33"},"高三"),_react2.default.createElement("option",{value:"41"},"大一"),_react2.default.createElement("option",{value:"42"},"大二"),_react2.default.createElement("option",{value:"43"},"大三"),_react2.default.createElement("option",{value:"44"},"大四"),_react2.default.createElement("option",{value:"47"},"研究生"),_react2.default.createElement("option",{value:"7"},"在职"),_react2.default.createElement("option",{value:"9"},"其他"))),_react2.default.createElement(_tiUi.View,{style:{color:"white",fontSize:"12px"}},"请完善您的信息之后，再点击提交～"),_react2.default.createElement(_tiUi.Button,{isAvailable:"0"!==grade,className:_styles2.default.button,text:"提交",onClick:(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(){return _regenerator2.default.wrap(function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,_this3.updateUserInfo();case 2:case"end":return _context2.stop()}},_callee2,_this3)}))}))}}]),ModalComponent}(_react.Component);ModalComponent.propTypes={modalId:_propTypes2.default.string.isRequired,background:_propTypes2.default.object.isRequired,onClickNext:_propTypes2.default.function,params:_propTypes2.default.object.isRequired,setUserInfo:_propTypes2.default.array.isRequired,loginUrl:_propTypes2.default.string},ModalComponent.defaultProps={onClickNext:function onClickNext(){},loginUrl:"https://www.smartstudy.com/signin?no_meiqia=1&smartRedirect="},exports.default=ModalComponent,ModalComponent.__docgenInfo={description:"",methods:[{name:"next",docblock:null,modifiers:[],params:[],returns:null},{name:"updateUserInfo",docblock:null,modifiers:["async"],params:[],returns:null}],displayName:"ModalComponent",props:{onClickNext:{defaultValue:{value:"() => {}",computed:!1},type:{name:"custom",raw:"PropTypes.function"},required:!1,description:""},loginUrl:{defaultValue:{value:"'https://www.smartstudy.com/signin?no_meiqia=1&smartRedirect='",computed:!1},type:{name:"string"},required:!1,description:""},modalId:{type:{name:"string"},required:!0,description:""},background:{type:{name:"object"},required:!0,description:""},params:{type:{name:"object"},required:!0,description:""},setUserInfo:{type:{name:"array"},required:!0,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["show/modal/user_grade/index.js"]={name:"ModalComponent",docgenInfo:ModalComponent.__docgenInfo,path:"show/modal/user_grade/index.js"})}).call(this,__webpack_require__(3))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _aphrodite=__webpack_require__(2);exports.default=_aphrodite.StyleSheet.create({inputContainer:{alignItems:"center",justifyItems:"center"},input:{width:"250px",height:"30px"},modalTip:{justifyContent:"center",alignItems:"center",padding:40,paddingTop:20},modalAlertTip:{fontSize:14,marginTop:20,marginBottom:20,textAlign:"center"},button:{backgroundColor:"#385DAE",":hover":{backgroundColor:"#4769b4"}}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _aphrodite=__webpack_require__(2);exports.default=_aphrodite.StyleSheet.create({modal:{position:"fixed",zIndex:100,left:0,top:0,width:"100%",height:"100%",alignItems:"center",justifyContent:"center"},front:{zIndex:200,minWidth:400,backgroundColor:"#fff"},backdrop:{position:"absolute",zIndex:100,left:0,top:0,width:"100%",height:"100%",backgroundColor:"rgba(0,0,0,.5)"},header:{position:"relative",height:60,backgroundColor:"#F6F9FB",borderBottom:"1px solid #EAEFF2",justifyContent:"center",alignItems:"center"},title:{fontSize:18},close:{position:"absolute",right:24,top:25,width:12,height:13,cursor:"pointer"},imageClose:{position:"absolute",cursor:"pointer",right:-20,top:0,width:12,height:13,filter:"invert(100%)"}})}]),[[342,1,2]]]);
//# sourceMappingURL=main.1066411b65d8d25e9dbb.bundle.js.map